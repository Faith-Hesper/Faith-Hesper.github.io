<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Faith Hesper</title>
    <url>/2021/07/04/hello-world/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can😄 find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<span id="more"></span>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=450 height=86 src="//music.163.com/outchain/player?type=2&id=1857288529&auto=1&height=66"></iframe>
<iframe src="//player.bilibili.com/player.html?aid=503717099&bvid=BV19g411g7jj&cid=357082727&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 本地预览</span></span><br><span class="line">hexo s</span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据配置文件和主题，将 root/source/_post 下的 markdown 文件生成 html 内容</span></span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清空 hexo g 生成的内容，内容在 root/public </span></span><br><span class="line">hexo clean</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将本地生成 url 链接推送到百度，让百度爬取其中的内容进行索引</span></span><br><span class="line">hexo d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据 标题名称  在root/source/_post 生成 markdown 文件</span></span><br><span class="line">hexo new post 标题名称</span><br><span class="line">hexo new page newpage</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新建文章 (仅自己可见)</span></span><br><span class="line">hexo new draft newdraft</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预览文章</span></span><br><span class="line">hexo server --draft</span><br><span class="line"></span><br><span class="line"><span class="comment"># 发表文章</span></span><br><span class="line">hexo publish draft newdraft</span><br></pre></td></tr></table></figure>
1.NexT使用文档
<p><a href="http://theme-next.iissnan.com/getting-started.html">NexT</a></p>
<p>更换主题：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">~/blog/themes $ git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>
<p>更新主题：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> themes/next</span><br><span class="line">$ git pull</span><br></pre></td></tr></table></figure>
<p>再在<em>站点</em>配置文件中修改成如下即可：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 文件位置：~/blog/_config.yml</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line">theme: next</span><br></pre></td></tr></table></figure>
<p>如何使用emoji❓</p>
<p>安装</p>
<hr>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it --save</span><br><span class="line">npm install markdown-it-emoji --save</span><br></pre></td></tr></table></figure>
<p>配置</p>
<hr>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">## markdown 渲染引擎配置，默认是hexo-renderer-marked，这个插件渲染速度更快，且有新特性</span></span><br><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">render:</span></span><br><span class="line">    <span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">xhtmlOut:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">breaks:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">linkify:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">typographer:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">quotes:</span> <span class="string">&#x27;“”‘’&#x27;</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-footnote</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sup</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sub</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-abbr</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-emoji</span></span><br><span class="line">  <span class="attr">anchors:</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">collisionSuffix:</span> <span class="string">&#x27;v&#x27;</span></span><br><span class="line">    <span class="attr">permalink:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">permalinkClass:</span> <span class="string">header-anchor</span></span><br><span class="line">    <span class="attr">permalinkSymbol:</span> <span class="string">¶</span></span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/mrdoob/three.js">JavaScript 3D library</a> for <a href="https://github.com/theme-next">NexT</a></p>
<p>CDN配置</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">vendors:</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="attr">three:</span> <span class="string">//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js</span></span><br><span class="line">  <span class="attr">three_waves:</span> <span class="string">//cdn.jsdelivr.net/gh/theme-next/theme-next-three@latest/three-waves.min.js</span></span><br><span class="line">  <span class="attr">canvas_lines:</span> <span class="string">//cdn.jsdelivr.net/gh/theme-next/theme-next-three@latest/canvas_lines.min.js</span></span><br><span class="line">  <span class="attr">canvas_sphere:</span> <span class="string">//cdn.jsdelivr.net/gh/theme-next/theme-next-three@latest/canvas_sphere.min.js</span></span><br></pre></td></tr></table></figure>
<p>头像</p>
<p>avatar</p>
<p><a href="https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20210708210814.png">https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20210708210814.png</a></p>
<p>新建文件夹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir _data</span><br></pre></td></tr></table></figure>
<p>修改背景透明</p>
<p>全局颜色：hesper\themes\next\source\css_variables\base.styl</p>
<p>颜色设置：hesper\themes\next\source\css_colors.styl</p>
]]></content>
  </entry>
  <entry>
    <title>Supermap代码编写原则</title>
    <url>/2021/07/13/Supermap%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E5%8E%9F%E5%88%99/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="范例编写原则说明">范例编写原则说明</h2>
<span id="more"></span>
<ol>
<li><a href="#example-1">目录结构</a></li>
<li><a href="#example-2">完整步骤</a></li>
<li><a href="#example-3">范例创建</a>
<ul>
<li><a href="#example-3-1">脚本引用</a></li>
<li><a href="#example-3-2">服务地址</a></li>
<li><a href="#example-3-3">统一样式</a></li>
</ul>
</li>
<li><a href="#example-4">缩略图规范</a></li>
<li><a href="#example-5">配置文件</a></li>
<li><a href="#example-6">离线开发</a>
<ul>
<li><a href="#example-6-1">克隆代码</a></li>
<li><a href="#example-6-2">开发</a></li>
</ul>
</li>
<li><a href="#example-7">注意事项</a></li>
</ol>
<h3 id="example-1">目录结构</h3>
<p>范例目录结构：</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">/example</span><br><span class="line">    ├─css         公共css目录</span><br><span class="line">    ├─fonts       公共字体目录</span><br><span class="line">    ├─<span class="selector-tag">img</span>         公共图片目录</span><br><span class="line">    ├─js          公共js目录</span><br><span class="line">    ├─<span class="selector-tag">section</span>     公共模板目录(包括范例站点的公共头部和主体框架等)</span><br><span class="line">    ├─data        范例中使用的公共数据</span><br><span class="line">    │</span><br><span class="line">    ├─leaflet         leaflet范例目录</span><br><span class="line">    │   ├─<span class="selector-tag">img</span>             缩略图目录</span><br><span class="line">    │   └─config<span class="selector-class">.js</span>       配置文件</span><br><span class="line">    ├─mapboxgl        mapboxgl范例目录</span><br><span class="line">    │   ├─<span class="selector-tag">img</span>             缩略图目录</span><br><span class="line">    │   └─config<span class="selector-class">.js</span>       配置文件</span><br><span class="line">    ├─openlay         openlay范例目录</span><br><span class="line">    │   ├─<span class="selector-tag">img</span>             缩略图目录</span><br><span class="line">    │   └─config<span class="selector-class">.js</span>       配置文件</span><br><span class="line">    ├─classic         classic范例目录</span><br><span class="line">    │   ├─<span class="selector-tag">img</span>             缩略图目录</span><br><span class="line">    │   └─config<span class="selector-class">.js</span>       配置文件</span><br><span class="line">    └─<span class="number">3</span>dwebgl         <span class="number">3</span>dwebgl范例目录</span><br><span class="line">        ├─<span class="selector-tag">img</span>             缩略图目录</span><br><span class="line">        └─config<span class="selector-class">.js</span>       配置文件  </span><br><span class="line">  </span><br><span class="line">  </span><br></pre></td></tr></table></figure>
<h3 id="example-2">完整步骤</h3>
<pre><code>  1. 在对应的客户端根目录下创建范例(具体规范请参考：[范例创建](#example-3))
  2. 截取范例缩略图(具体规范请参考：[缩略图规范](#example-4))，并存放到对应的客户端目录下img目录
  3. 修改对应的客户端根目录下的`config.js`文件(具体参数请参考：[配置文件](#example-5))
</code></pre>
<h3 id="example-3">范例创建</h3>
<p>示例如下：</p>
 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>quick start<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">include</span>=<span class="string">&quot;bootstrap-css&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/include-web.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">html</span>, <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;  <span class="attribute">height</span>: <span class="number">100%</span>;  <span class="attribute">margin</span>: <span class="number">0</span>;  <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#map</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;  <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;map&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../dist/include-leaflet.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">//your code</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>为满足多元化使用需求，请将示例中的服务地址修改如下：</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="keyword">var</span> host = <span class="built_in">window</span>.isLocal </span><br><span class="line">         ? <span class="built_in">window</span>.server</span><br><span class="line">         : <span class="string">&quot;http://[public iServer domain/ip]:8090&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> mapUrl=host+<span class="string">&quot;/iserver/services/map-world/rest/maps/World&quot;</span>;</span><br><span class="line"><span class="comment">//other code </span></span><br><span class="line"><span class="comment">//...   </span></span><br></pre></td></tr></table></figure>
 <h4 id="example-3-1">脚本引用</h4>
<p>以leaflet为例</p>
<p>引入脚本主要有两个：</p>
<p><code>/example/js/include-web.js</code>: 引入web相关库（如：jquery，bootstrap），所有库都使用公共CDN地址</p>
<p><code>/dist/include-xxx.js</code>: 引入gis相关库（如：leaflet，iclient-leaflet，d3,echarts），除iclient的库之外，所有库都建议使用公共CDN地址</p>
<ul>
<li>
<p>web相关库: 如果需要jquery，bootstrap等web相关库，引入<code>/example/js</code>公共目录下的<code>include-web.js</code>，引入格式如下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&#x27;text/javascript&#x27;</span> <span class="attr">include</span>=<span class="string">&#x27;XXX,XXX&#x27;</span>  <span class="attr">src</span>=<span class="string">&#x27;../js/include-web.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>include</code>属性: 引入需要使用的库。多个库用&quot;,&quot;号隔开。没有默认引入的库</li>
<li>没有<code>exclude</code>属性</li>
<li>include中参数的具体值参考<code>include-web.js</code></li>
</ul>
</li>
<li>
<p>gis相关库：script标签引入<code>dist</code>目录下的<code>include-leaflet.js</code>脚本，格式如下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&#x27;text/javascript&#x27;</span> <span class="attr">include</span>=<span class="string">&#x27;XXX,XXX&#x27;</span> <span class="attr">exclude</span>=<span class="string">&#x27;XXXX,XXXX&#x27;</span> <span class="attr">src</span>=<span class="string">&#x27;../../dist/include-leaflet.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>include</code>属性: 需要使用的库(如leaflet相关插件,d3,mapv等)，多个库用&quot;,&quot;号隔开。默认引入的库不用再次填加。<br>
默认引入的库：客户端（leflet/openlayers/mapboxgl/iclient8c）相关库以及其对应的iclient相关库。如在本例(leaflet)中，默认引入的是：<br>
<code>leaflet.js</code>,<code>leaflet.css</code> ,<code>iclient-leaflet</code>，<code>iclient-leaflet-css</code></li>
<li><code>exclude</code>属性: 排除默认引入的库，多个库用&quot;,&quot;号隔开。</li>
<li><code>include</code>和<code>exclude</code>中参数的具体值参考<code>include-xxx.js</code></li>
</ul>
</li>
<li>
<p>新增库：如果<code>include-web.js</code>或者<code>include-xxx.js</code>中没有需要的库，则参照以下方法引入三方库：</p>
<ul>
<li>找到<code>include-web.js</code>或者<code>include-xxx.js</code>中的load方法</li>
<li>在load方法末尾添加如下代码:</li>
</ul>
</li>
</ul>
   <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (inArray(includes, <span class="string">&#x27;xxxx&#x27;</span>)) &#123;<span class="comment">//&#x27;xxxx&#x27;为引入include-XXX.js的script标签中include属性的值</span></span><br><span class="line">   inputCSS(<span class="string">&quot; libs CDN url&quot;</span>);</span><br><span class="line">   inputScript(<span class="string">&quot;libs CDN url&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>建议使用CDN地址。 推荐的公共CDN：<a href="https://www.bootcdn.cn">BootCDN</a> (<a href="https://www.bootcdn.cn">https://www.bootcdn.cn</a>)</li>
</ul>
<h4 id="example-3-2">服务地址</h4>
<p>公共iServer服务地址: <a href="https://iserver.supermap.io">https://iserver.supermap.io</a></p>
<p>可指定其他公网可访问的iServer地址</p>
 <h4 id="example-3-3">统一样式</h4>
<ul>
<li>底图建议全屏</li>
<li>页面样式优先使用bootstrap，建议不要使用原生的HTML样式</li>
<li>等待加载界面
<ul>
<li>引入<code>include-web.js</code>脚本的script标签include属性中添加loader</li>
<li>显示loader: <code>showLoader()</code></li>
<li>移除loader: <code>removeLoader()</code></li>
</ul>
</li>
<li>…等待补充</li>
</ul>
<h3 id="example-4">缩略图规范</h3>
<ul>
<li>建议大小：260*208（1:0.8），PNG8格式压缩</li>
<li>有动态效果的界面缩略图建议也使用gif格式动图</li>
<li>存放目录：对应客户端下的img目录（如<code>/example/leaflet/img</code>）</li>
</ul>
<h3 id="example-5">配置文件</h3> 
<p>每个客户端范例目录(如：<code>/example/leaflet</code>)下都有一个<code>config.js</code>文件，文件在站点初始化时读取。</p>
<p><code>config.js</code>中范例相关的配置项为<code>exampleConfig</code>，参数如下：</p>
<p>左边为侧边栏菜单，右边为示例列表</p>
<p><img data-src="https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20210713153504.png" alt="config"></p>
<h3 id="example-6">离线开发</h3> 
<div style="color:red">离线开发需要内部权限，非授权用户请直接忽略。</div>
<p>为了使站点和示例在离线状态(如iServer中)能够正常使用，需要增加并修改另一个项目</p>
<h4 id="example-6-1">克隆代码</h4>
<p>离线开发项目地址：<a href="https://gitee.com/isupermap/iclient-web">https://gitee.com/isupermap/iclient-web</a></p>
<ul>
<li>clone代码到本地</li>
<li>更改项目目录名为web</li>
<li>将项目移动到你的iclient项目的根目录下,与example同级</li>
</ul>
<h4 id="example-6-2">开发</h4>
<p><strong>【脚本的使用跟在线的脚本一样，区别在于三方库全部为本地托管（<code>/web/libs</code>)】</strong></p>
<p>离线开发涉及修改的相关的目录为：<code>/example</code>目录，<code>/web/build</code>目录，<code>/web/libs</code>目录</p>
<ul>
<li>
<p><code>/web</code>: 站点目录</p>
<ul>
<li>
<p><code>/web/build</code>：离线引用脚本目录</p>
</li>
<li>
<p><code>/web/libs</code>：离线三方库存放目录</p>
</li>
</ul>
</li>
<li>
<p><code>/example</code>：范例目录</p>
</li>
</ul>
<h4 id="web">/web</h4>
<p>脚本的使用跟在线的脚本一样，只不过路径不同，在具体范例中通过script标签引入<code>/web/build/</code>下的脚本</p>
<p>相关的脚本为 <code>/web/build/include-xxx.js</code>和 <code>/web/build/include-web.js</code>,</p>
<ul>
<li>
<p><code>/web/build/include-web.js</code>: 引入web相关库（如：jquery，bootstrap）(使用相对路径)，相关库的存放目录为<code>/web/libs</code></p>
</li>
<li>
<p><code>/web/build/include-xxx.js</code>: 引入gis相关库（如：iclient-leaflet，leaflet）(使用相对路径)，相关库的存放目录为<code>/web/libs</code></p>
</li>
<li>
<p>新增库：如果<code>include-web.js</code>或者<code>include-xxx.js</code>中没有需要的库，则参照以下方法引入三方库：</p>
<ul>
<li>下载三方库到本地</li>
<li>将三方库按文件夹移动到<code>/web/libs</code>目录</li>
<li>在三方库中的js文件中加上三方自己的版权标识(如果原先没有的话)，版权标识包括但不限于版权所有者，开源协议，软件版本等</li>
<li>找到<code>include-web.js</code>或者<code>include-xxx.js</code>中的load方法</li>
<li>在load方法末尾添加如下代码，注意路径必须是：<code>../../web/libs</code></li>
</ul>
</li>
</ul>
 <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (inArray(includes, <span class="string">&quot;xxx&quot;</span>)) &#123;<span class="comment">//&quot;xxx&quot;为引入include-XXX.js的script标签中include属性的值</span></span><br><span class="line">   inputCSS(<span class="string">&quot;../../web/libs/name.css&quot;</span>);<span class="comment">//name为插件的名称</span></span><br><span class="line">   inputScript(<span class="string">&quot;../../web/libs/name.min.js&quot;</span>);<span class="comment">//name为插件的名称,使用压缩后的脚本</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="example">/example</h4>
<p>离线环境下范例除了修改引入的脚本（引入/web/build目录下的脚本）外，还需要修改范例服务地址。</p>
   <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">title</span>&gt;</span>quick start<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">include</span>=<span class="string">&quot;bootstrap-css&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../web/build/include-web.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">              <span class="selector-tag">html</span>, <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">                  <span class="attribute">width</span>: <span class="number">100%</span>;  <span class="attribute">height</span>: <span class="number">100%</span>;  <span class="attribute">margin</span>: <span class="number">0</span>;  <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">              &#125;</span></span><br><span class="line"><span class="css">              <span class="selector-id">#map</span> &#123;</span></span><br><span class="line"><span class="css">                  <span class="attribute">width</span>: <span class="number">100%</span>;  <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">              &#125;</span></span><br><span class="line"><span class="css">          </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;map&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../web/build/include-leaflet.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">          <span class="comment">//your code</span></span></span><br><span class="line"><span class="javascript">      </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>离线环境中，范例与服务【一般】在同一域下。保证范例在离线时使用的是本地的服务，所以需要修改范例中使用的地址（如地图服务，数据服务等地址）为：<code>http://localhost:port/xxx</code>。</p>
<p>而为保证范例同时在离线和在线状态都能正常使用，建议修改示例中的服务地址如下：</p>
   <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> host = <span class="built_in">window</span>.isLocal </span><br><span class="line">         ? <span class="built_in">window</span>.server</span><br><span class="line">         : <span class="string">&quot;http://[public iServer domain/ip]:8090&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> mapUrl=host+<span class="string">&quot;/iserver/services/map-world/rest/maps/World&quot;</span>;</span><br><span class="line"><span class="comment">//other code </span></span><br><span class="line"><span class="comment">//...   </span></span><br></pre></td></tr></table></figure>
<h3 id="example-7">注意事项</h3>
<p>暂无</p>
<p>​</p>
]]></content>
      <categories>
        <category>Supermap</category>
      </categories>
      <tags>
        <tag>Supermap</tag>
      </tags>
  </entry>
  <entry>
    <title>Supermap</title>
    <url>/2021/07/13/Supermap/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>iServer食用方法🤔:</h1>
<span id="more"></span>
<h2 id="iSever帮助文档路径">iSever帮助文档路径</h2>
<p><code>root\supermap-iserver-10.1.1-win64-zip\docs</code></p>
<h2 id="示例代码路径">示例代码路径</h2>
<p><code>root\supermap-iserver-10.1.1-win64-zip\iClient</code></p>
<h2 id="启动iServer服务">启动iServer服务</h2>
<p><code>root\supermap-iserver-10.1.1-win64-zip\bin\startup.bat</code></p>
<p>出现</p>
<figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="number">13</span>-Jul-<span class="number">2021</span> <span class="number">15</span>:<span class="number">40</span>:<span class="number">49.375</span> 信息 [localhost-startStop-<span class="number">1</span>] org.apache.catalina.startup.HostConfig.deployDirectory Web应用程序目录[D:\GIS\supermap-iserver-<span class="number">10.1</span>.<span class="number">1</span>-win64-zip\webapps\iserver]的部署已在[<span class="number">101</span>,<span class="number">950</span>]毫秒内完成</span><br><span class="line"><span class="number">13</span>-Jul-<span class="number">2021</span> <span class="number">15</span>:<span class="number">40</span>:<span class="number">49.376</span> 信息 [localhost-startStop-<span class="number">1</span>] org.apache.catalina.startup.HostConfig.deployDirectory 把web 应用 程序部署到目录 [D:\GIS\supermap-iserver-<span class="number">10.1</span>.<span class="number">1</span>-win64-zip\webapps\ROOT]</span><br><span class="line"><span class="number">13</span>-Jul-<span class="number">2021</span> <span class="number">15</span>:<span class="number">40</span>:<span class="number">49.402</span> 信息 [localhost-startStop-<span class="number">1</span>] org.apache.catalina.startup.HostConfig.deployDirectory Web应用程序目录[D:\GIS\supermap-iserver-<span class="number">10.1</span>.<span class="number">1</span>-win64-zip\webapps\ROOT]的部署已在[<span class="number">26</span>]毫秒内完成</span><br><span class="line"><span class="number">13</span>-Jul-<span class="number">2021</span> <span class="number">15</span>:<span class="number">40</span>:<span class="number">49.402</span> 信息 [localhost-startStop-<span class="number">1</span>] org.apache.catalina.startup.HostConfig.deployDirectory 把web 应用 程序部署到目录 [D:\GIS\supermap-iserver-<span class="number">10.1</span>.<span class="number">1</span>-win64-zip\webapps\study]</span><br><span class="line"><span class="number">13</span>-Jul-<span class="number">2021</span> <span class="number">15</span>:<span class="number">40</span>:<span class="number">49.426</span> 信息 [localhost-startStop-<span class="number">1</span>] org.apache.catalina.startup.HostConfig.deployDirectory Web应用程序目录[D:\GIS\supermap-iserver-<span class="number">10.1</span>.<span class="number">1</span>-win64-zip\webapps\study]的部署已在[<span class="number">24</span>]毫秒内完成</span><br><span class="line"><span class="number">13</span>-Jul-<span class="number">2021</span> <span class="number">15</span>:<span class="number">40</span>:<span class="number">49.432</span> 信息 [main] org.apache.coyote.AbstractProtocol.start 开始协议处理句柄[<span class="string">&quot;http-nio-8090&quot;</span>]</span><br><span class="line"><span class="number">13</span>-Jul-<span class="number">2021</span> <span class="number">15</span>:<span class="number">40</span>:<span class="number">49.448</span> 信息 [main] org.apache.catalina.startup.Catalina.start Server startup in <span class="number">103077</span> ms</span><br><span class="line"><span class="number">13</span>-Jul-<span class="number">2021</span> <span class="number">15</span>:<span class="number">43</span>:<span class="number">09.858</span> 信息 [http-nio-<span class="number">8090</span>-exec-<span class="number">8</span>] org.restlet.Application.start Starting <span class="keyword">com</span>.supermap.services.rest.RestApplication application</span><br></pre></td></tr></table></figure>
<p>启动成功</p>
<p>浏览器打开 <a href="http://localhost:8090/iserver/">http://localhost:8090/iserver/</a> 默认端口号为8090</p>
<h2 id="终止iServer服务">终止iServer服务</h2>
<p><code>root\supermap-iserver-10.1.1-win64-zip\bin\shutdown</code></p>
<p><a href="https://wx.vzan.com/live/pc/index?liveId=1149463133&amp;shareuid=0">官方教学网址</a></p>
]]></content>
      <categories>
        <category>Supermap</category>
      </categories>
      <tags>
        <tag>Supermap</tag>
      </tags>
  </entry>
  <entry>
    <title>youtube-dl命令</title>
    <url>/2021/07/13/youtube-dl%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>实例</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">youtube-dl --proxy http://127.0.0.1:10809 <span class="string">&quot;https://www.youtube.com/watch?v=6k8cpUkKK4c&quot;</span></span><br><span class="line">--merge-output-format mp4 --write-auto-sub --sub-lang zh-Hans --embed-sub -i </span><br><span class="line">youtube-dl --proxy http://127.0.0.1:10809  --write-auto-sub --embed-subs --embed-thumbnail XyaBFh_6b-8</span><br></pre></td></tr></table></figure>
<p>通用选项</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-h, --<span class="built_in">help</span>                       打印帮助文档</span><br><span class="line">    --version                        打印版本信息</span><br><span class="line">    -U, --update                     更新到最新版(需要权限)</span><br><span class="line">    -i, --ignore-errors              遇到下载错误时跳过</span><br><span class="line">    --abort-on-error                 遇到下载错误时终止</span><br><span class="line">    --dump-user-agent                显示当前使用的浏览器(User-agent)</span><br><span class="line">    --list-extractors                列出所有的提取器(支持的网站)</span><br><span class="line">    --extractor-descriptions         同上</span><br><span class="line">    --force-generic-extractor        强制使用通用提取器下载</span><br><span class="line">    --default-search PREFIX          使用此前缀补充不完整的URLs，例如：<span class="string">&quot;ytsearch2 yt-dl&quot;</span> 从youtube搜索并下载两个关于yt-dl视频. 使用<span class="string">&quot;auto&quot;</span>youtube-dl就会猜一个，一般效果等价于<span class="string">&quot;ytsearch&quot;</span>(<span class="string">&quot;auto_warning&quot;</span>猜测时加入警告).我已知支持的PREFIX：ytsearch (youtube), ytsearchdate (youtube), yvsearch (yahoo videos), gvsearch (google videos) </span><br><span class="line">    --ignore-config                  不读取配置文件，当时用了全局配置文件/etc/youtube-dl.conf:不再读取 ~/.config/youtube-dl/config (%APPDATA%/youtube-dl/config.txt on Windows)</span><br><span class="line">    --config-location PATH           使用指定路径下的配置文件</span><br><span class="line">    --flat-playlist                  列出列表视频但不下载</span><br><span class="line">    --mark-watched                   标记看过此视频 (YouTube only)</span><br><span class="line">    --no-mark-watched                不标记看过此视频 (YouTube only)</span><br><span class="line">    --no-color                       打印到屏幕上的代码不带色</span><br></pre></td></tr></table></figure>
<p>网络选项</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">--proxy URL                      使用HTTP/HTTPS/SOCKS协议的代理.如：socks5://127.0.0.1:1080/.</span><br><span class="line">   --socket-timeout SECONDS         放弃连接前等待时间</span><br><span class="line">   --source-address IP              绑定的客户端IP地址</span><br><span class="line">   -4, --force-ipv4                 所有连接通过IPv4</span><br><span class="line">   -6, --force-ipv6                 所有连接通过IPv6</span><br></pre></td></tr></table></figure>
<p>代理设置</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">--geo-verification-proxy URL     使用此代理地址测试一些有地理限制的地址</span><br><span class="line"> --geo-bypass                     绕过地理限制通过伪装X-Forwarded-For HTTP头部的客户端ip</span><br><span class="line"> --no-geo-bypass                  不 绕过地理限制通过伪装X-Forwarded-For HTTP头部的客户端ip</span><br><span class="line"> --geo-bypass-country CODE        强制绕过地理限制通过提供准确的ISO 3166-2标准的国别代码</span><br><span class="line"> --geo-bypass-ip-block IP_BLOCK   强制绕过地理限制通过提供精确的无类别域间路由IP段(2018.09.13更新)</span><br></pre></td></tr></table></figure>
<p>视频选择</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">--playlist-start NUMBER          指定列表中开始下载的视频(默认为1)</span><br><span class="line"> --playlist-end NUMBER            指定列表中结束的视频(默认为last)</span><br><span class="line"> --playlist-items ITEM_SPEC       指定列表中要下载的视频项目编号.如：<span class="string">&quot;--playlist-items 1,2,5,8&quot;</span>或<span class="string">&quot;--playlist-items 1-3,7,10-13&quot;</span></span><br><span class="line"> --match-title REGEX              下载标题匹配的视频(正则表达式或区分大小写的字符串)</span><br><span class="line"> --reject-title REGEX             跳过下载标题匹配的视频(正则表达式或区分大小写的字符串)</span><br><span class="line"> --max-downloads NUMBER           下载NUMBER个视频后停止</span><br><span class="line"> --min-filesize SIZE              不下载小于SIZE的视频(e.g. 50k or 44.6m)</span><br><span class="line"> --max-filesize SIZE              不下载大于SIZE的视频(e.g. 50k or 44.6m)</span><br><span class="line"> --date DATE                      仅下载上传日期在指定日期的视频</span><br><span class="line"> --datebefore DATE                仅下载上传日期在指定日期或之前的视频 (i.e. inclusive)</span><br><span class="line"> --dateafter DATE                 仅下载上传日期在指定日期或之后的视频 (i.e. inclusive)</span><br><span class="line"> --min-views COUNT                不下载观影数小于指定值的视频</span><br><span class="line"> --max-views COUNT                不下载观影数大于指定值的视频</span><br><span class="line"> --match-filter FILTER            通用视频过滤器. </span><br><span class="line"> --no-playlist                    当视频链接到一个视频和一个播放列表时，仅下载视频</span><br><span class="line"> --yes-playlist                   当视频链接到一个视频和一个播放列表时，下载视频和播放列表</span><br><span class="line"> --age-limit YEARS                下载合适上传年限的视频</span><br><span class="line"> --download-archive FILE          仅下载档案文件中未列出的影片，已下载的记录ID</span><br><span class="line"> --include-ads                    同时下载广告(实验)</span><br></pre></td></tr></table></figure>
<p>下载选项</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-r, --limit-rate RATE            最大bps (e.g. 50K or 4.2M)</span><br><span class="line">-R, --retries RETRIES            重试次数 (默认10), or <span class="string">&quot;infinite&quot;</span>.</span><br><span class="line">--fragment-retries RETRIES       一个分段的最大重试次数(default is 10), or <span class="string">&quot;infinite&quot;</span> (DASH, hlsnative and ISM)</span><br><span class="line">--skip-unavailable-fragments     跳过不可用分段(DASH, hlsnative and ISM)</span><br><span class="line">--abort-on-unavailable-fragment  放弃某个分段当不可获取时</span><br><span class="line">--keep-fragments                 下载完成后，将下载的片段保存在磁盘上; 片段默认被删除</span><br><span class="line">--buffer-size SIZE               设置缓冲区大小buffer (e.g. 1024 or 16K) (default is 1024)</span><br><span class="line">--no-resize-buffer               不自动调整缓冲区大小.默认情况下自动调整</span><br><span class="line">--playlist-reverse               以相反的顺序下载播放列表视频</span><br><span class="line">--playlist-random                以随机的顺序下载播放列表视频</span><br><span class="line">--xattr-set-filesize             Set file xattribute ytdl.filesize with expected file size (experimental)</span><br><span class="line">--hls-prefer-native              使用本机默认HLS下载器而不是ffmpeg</span><br><span class="line">--hls-prefer-ffmpeg              使用ffmpeg而不是本机HLS下载器</span><br><span class="line">--hls-use-mpegts                 使用TS流容器来存放HLS视频,一些高级播放器允许在下载的同时播放视频</span><br><span class="line">--external-downloader COMMAND    使用指定的第三方下载工具,当前支持：aria2c,avconv,axel,curl,ffmpeg,httpie,wget</span><br><span class="line">--external-downloader-args ARGS  给第三方下载工具指定参数，如：--external-downloader aria2c --external-downloader-args -j8</span><br></pre></td></tr></table></figure>
<p>文件系统选项</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-a, --batch-file FILE            文件中包含需要下载的URL</span><br><span class="line">--id                             仅使用文件名中的视频ID</span><br><span class="line">-o, --output TEMPLATE            Output filename template, see the <span class="string">&quot;OUTPUT TEMPLATE&quot;</span> <span class="keyword">for</span> all the info</span><br><span class="line">--autonumber-start NUMBER        指定%(autonumber)s的起始值(默认为1)</span><br><span class="line">--restrict-filenames             将文件名限制为ASCII字符，并避免文件名中的“＆”和空格</span><br><span class="line">-w, --no-overwrites              不要覆盖文件</span><br><span class="line">-c, --<span class="built_in">continue</span>                   强制恢复部分下载的文件。 默认情况下，youtube-dl仅在可能时将恢复下载。</span><br><span class="line">--no-continue                    不要恢复部分下载的文件(从头开始重新启动)</span><br><span class="line">--no-part                        不使用.part文件 - 直接写入输出文件</span><br><span class="line">--no-mtime                       不使用Last-modified header来设置文件最后修改时间</span><br><span class="line">--write-description              将视频描述写入.description文件</span><br><span class="line">--write-info-json                将视频元数据写入.info.json文件</span><br><span class="line">--write-annotations              将视频注释写入.annotations.xml文件</span><br><span class="line">--load-info-json FILE            包含视频信息的JSON文件(使用“--write-info-json”选项创建)</span><br><span class="line">--cookies FILE                   文件从中读取Cookie(经测试，<span class="built_in">export</span> cookies插件可以使用，但firebug导出的cookies导致错误,chrome下请用cookies.txt)注意：不同平台windows、Linux、OSX之间需要转换CE LF才能使用！</span><br><span class="line">--cache-dir DIR                  文件存储位置。youtube-dl需要永久保存一些下载的信息。默认为<span class="variable">$XDG_CACHE_HOME</span>/youtube-dl或/.cache/youtube-dl。目前，只有YouTube播放器文件（对于具有模糊签名的视频）进行缓存，但可能会发生变化。</span><br><span class="line">--no-cache-dir                   不用缓存</span><br><span class="line">--rm-cache-dir                   删除所有缓存文件</span><br></pre></td></tr></table></figure>
<p>缩略图</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">--write-thumbnail                把缩略图写入硬盘</span><br><span class="line">--write-all-thumbnails           将所有缩略图写入磁盘</span><br><span class="line">--list-thumbnails                列出所有可用的缩略图格式</span><br></pre></td></tr></table></figure>
<p>详细/模拟选项</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-q, --quiet                      激活退出模式</span><br><span class="line">--no-warnings                    忽略警告</span><br><span class="line">-s, --simulate                   不下载不存储任何文件到硬盘，模拟下载模式</span><br><span class="line">--skip-download                  不下载视频</span><br><span class="line">-g, --get-url                    模拟下载获取视频直连</span><br><span class="line">-e, --get-title                  模拟下载获取标题</span><br><span class="line">--get-id                         模拟下载获取id</span><br><span class="line">--get-thumbnail                  模拟下载获取缩略图URL</span><br><span class="line">--get-description                模拟下载获取视频描述</span><br><span class="line">--get-duration                   模拟下载获取视频长度</span><br><span class="line">--get-filename                   模拟下载获取输出视频文件名</span><br><span class="line">--get-format                     模拟下载获取输出视频格式</span><br><span class="line">-j, --dump-json                  模拟下载获取JSON information.</span><br><span class="line">-J, --dump-single-json           模拟下载获取每条命令行参数的JSON information.如果是个播放列表，就获取整个播放列表的JSON</span><br><span class="line">--print-json                     下载的同时获取视频信息的JSON</span><br><span class="line">--newline                        进度条在新行输出</span><br><span class="line">--no-progress                    不打印进度条</span><br><span class="line">--console-title                  在控制台标题栏显示进度</span><br><span class="line">-v, --verbose                    打印各种调试信息</span><br><span class="line">--dump-pages                     打印下载下来的使用base64编码的页面来调试问题（非常冗长）</span><br><span class="line">--write-pages                    将下载的中间页以文件的形式写入当前目录中以调试问题</span><br><span class="line">--print-traffic                  显示发送和读取HTTP流量</span><br><span class="line">-C, --call-home                  联系youtube-dl服务器进行调试</span><br><span class="line">--no-call-home                   不联系youtube-dl服务器进行调试</span><br></pre></td></tr></table></figure>
<p>解决方法:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">--encoding ENCODING              强制指定编码(实验)</span><br><span class="line">--no-check-certificate           禁止HTTPS证书验证</span><br><span class="line">--prefer-insecure                使用未加密的连接来检索有关视频的信息(目前仅支持YouTube)</span><br><span class="line">--user-agent UA                  指定user agent</span><br><span class="line">--referer URL                    指定自定义的referer,仅限视频来源于同一网站</span><br><span class="line">--add-header FIELD:VALUE         指定一个自定义值的HTTP头文件,使用分号分割,可以多次使用此选项</span><br><span class="line">--bidi-workaround                围绕缺少双向文本支持的终端工作。需要在PATH中有bidiv或fribidi可执行文件</span><br><span class="line">--sleep-interval SECONDS         在每次下载之前休眠的秒数，或者每次下载之前的随机睡眠的范围的下限(最小可能的睡眠秒数)与-max-sleep-interval一起使用。</span><br><span class="line">--max-sleep-interval SECONDS     每次下载前随机睡眠范围的上限(最大可能睡眠秒数)。只能与--min-sleep-interval一起使用。</span><br></pre></td></tr></table></figure>
<p>视频格式选项</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-f, --format FORMAT              视频格式代码,查看<span class="string">&quot;FORMAT SELECTION&quot;</span>获取所有信息</span><br><span class="line">--all-formats                    获取所有视频格式</span><br><span class="line">--prefer-free-formats            开源的视频格式优先，除非有特定的请求</span><br><span class="line">-F, --list-formats               列出请求视频的所有可用格式</span><br><span class="line">--youtube-skip-dash-manifest     不要下载关于YouTube视频的DASH清单和相关数据</span><br><span class="line">--merge-output-format FORMAT     如果需要合并(例如bestvideo + bestaudio)，则输出到给定的容器格式。mkv，mp4，ogg，webm，flv之一。如果不需要合并，则忽略</span><br></pre></td></tr></table></figure>
<p>字幕选项</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">--write-sub                      下载字幕文件</span><br><span class="line">--write-auto-sub                 下载自动生成的字幕文件 (YouTube only)</span><br><span class="line">--all-subs                       下载所有可用的字幕</span><br><span class="line">--list-subs                      列出所有字幕</span><br><span class="line">--sub-format FORMAT              字幕格式,接受格式偏好,如：<span class="string">&quot;srt&quot;</span> or <span class="string">&quot;ass/srt/best&quot;</span></span><br><span class="line">--sub-lang LANGS                 要下载的字幕的语言(可选)用逗号分隔,请使用--list-subs表示可用的语言标签</span><br><span class="line">  </span><br></pre></td></tr></table></figure>
<p>验证选项</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"> -u, --username USERNAME          使用ID登录</span><br><span class="line">  -p, --password PASSWORD          账户密码,如果此选项未使用,youtube-dl将交互式地询问。</span><br><span class="line">  -2, --twofactor TWOFACTOR        双因素认证码</span><br><span class="line">  -n, --netrc                      使用.netrc认证数据</span><br><span class="line">  --video-password PASSWORD        视频密码(vimeo, smotri, youku)</span><br><span class="line">Adobe Pass Options:</span><br><span class="line">  --ap-mso MSO                     Adobe Pass多系统运营商(电视提供商)标识符,使用--ap-list-mso列出可用的MSO</span><br><span class="line">  --ap-username USERNAME           MSO账号登录</span><br><span class="line">  --ap-password PASSWORD           账户密码,如果此选项未使用,youtube-dl将交互式地询问。</span><br><span class="line">  --ap-list-mso                    列出所有支持的MSO</span><br></pre></td></tr></table></figure>
<p>后处理选项</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-x, --extract-audio              将视频文件转换为纯音频文件(需要ffmpeg或avconv和ffprobe或avprobe)</span><br><span class="line">--audio-format FORMAT            指定音频格式: <span class="string">&quot;best&quot;</span>, <span class="string">&quot;aac&quot;</span>, <span class="string">&quot;flac&quot;</span>, <span class="string">&quot;mp3&quot;</span>, <span class="string">&quot;m4a&quot;</span>, <span class="string">&quot;opus&quot;</span>, <span class="string">&quot;vorbis&quot;</span>, or <span class="string">&quot;wav&quot;</span>; <span class="string">&quot;best&quot;</span> by default;-x存在时无效</span><br><span class="line">--audio-quality QUALITY          指定ffmpeg/avconv音频质量,为VBR插入一个0(best)-9(worse)的值(默认5),或者指定比特率</span><br><span class="line">--recode-video FORMAT            必要时将视频转码为其他格式(当前支持: mp4|flv|ogg|webm|mkv|avi)</span><br><span class="line">--postprocessor-args ARGS        给后处理器提供这些参数</span><br><span class="line">-k, --keep-video                 视频文件在后处理后保存在磁盘上; 该视频默认被删除</span><br><span class="line">--no-post-overwrites             不要覆盖后处理文件; 默认情况下,后处理文件将被覆盖</span><br><span class="line">--embed-subs                     在视频中嵌入字幕(仅适用于mp4,webm和mkv视频）</span><br><span class="line">--embed-thumbnail                将缩略图嵌入音频作为封面艺术</span><br><span class="line">--add-metadata                   将元数据写入视频文件</span><br><span class="line">--metadata-from-title FORMAT     从视频标题中解析附加元数据，如歌曲标题/艺术家。格式语法和--output相似.也可以使用带有命名捕获组的正则表达式。解析的参数替换现有值。Example: --metadata-from-title <span class="string">&quot;%(artist)s - %(title)s&quot;</span> matches a title like <span class="string">&quot;Coldplay - Paradise&quot;</span>. Example (regex): --metadata-from-title <span class="string">&quot;(?P&lt;artist&gt;.+?) - (?P&lt;title&gt;.+)&quot;</span> </span><br><span class="line">--xattrs                         将元数据写入视频文件的xattrs(使用dublin core 和 xdg标准)</span><br><span class="line">--fixup POLICY                   自动更正文件的已知故障。never(不做警告), warn(只发出警告), detect_or_warn (默认;如果可以的话修复文件,否则警告)</span><br><span class="line">--prefer-avconv                  后处理时相较ffmpeg偏向于avconv</span><br><span class="line">--prefer-ffmpeg                  后处理优先使用ffmpeg</span><br><span class="line">--ffmpeg-location PATH           ffmpeg/avconv程序位置;PATH为二进制所在文件夹或者目录.</span><br><span class="line">--<span class="built_in">exec</span> CMD                       在下载后对文件执行命令,类似于find -<span class="built_in">exec</span>语法.示例：--<span class="built_in">exec</span><span class="string">&#x27;adb push &#123;&#125; /sdcard/Music/ &amp;&amp; rm &#123;&#125;&#x27;</span></span><br><span class="line">--convert-subs FORMAT            转换字幕格式(当前支持: srt|ass|vtt)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>工具</category>
      </categories>
      <tags>
        <tag>youtube-dl</tag>
      </tags>
  </entry>
  <entry>
    <title>空间查询与分析</title>
    <url>/2021/07/05/%E7%A9%BA%E9%97%B4%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="空间数据查询">空间数据查询</h2>
<h3 id="查询概述">查询概述</h3>
<h4 id="方式">方式</h4>
<ul>
<li>属性查图形</li>
<li>图形查属性</li>
</ul>
<h4 id="内容">内容</h4>
<ul>
<li>空间对象的<strong>属性</strong>，<strong>空间位置</strong>，<strong>空间分布</strong>，<strong>几何特征</strong>，以及和其它空间对象的空间关系</li>
</ul>
<h4 id="结果">结果</h4>
<ul>
<li>高亮度显示，属性列表和统计图等</li>
</ul>
<img src="https://i.loli.net/2021/07/03/1K5LCIHO8hS6mdZ.png" alt="数据查询" style="zoom:50%;" />
<h3 id="矢量数据查询">矢量数据查询</h3>
<ul>
<li>属性数据查询</li>
<li>图形数据查询</li>
<li>空间关系查询</li>
<li>运算对象为字段</li>
</ul>
<h3 id="栅格数据查询">栅格数据查询</h3>
<ul>
<li>运算对象为栅格本身</li>
</ul>
<h2 id="矢量数据分析">矢量数据分析</h2>
<h3 id="缓冲区分析">缓冲区分析</h3>
<ul>
<li>指定距离之内的区域称为缓冲区</li>
<li>应用：水库淹没范围，环境污染影响带，城市规划拆迁等</li>
</ul>
<h3 id="叠置分析">叠置分析</h3>
<ul>
<li>
<p><strong>地图叠置</strong>是指合并两个或多个要素图层的<strong>几何和属性数据</strong></p>
</li>
<li>
<p>叠置分析是将两层或多层地图要素进行叠加产生一个<strong>新要素层及其属性</strong>的操作。这个要素层综合了原来各图层所具有的属性</p>
</li>
<li>
<p>地图叠置根据目的不同分为：<span id="合成叠置">合成叠置</span>与<span id="统计叠置">统计叠置</span></p>
</li>
<li>
<p>裁剪(结果数据集与裁剪数据集类型相同)</p>
<p><img src="https://raw.githubusercontent.com/three-body2/Note/main/img/20210704112804.png" alt=""></p>
</li>
<li>
<p>擦除(结果数据集与被擦除数据集类型相同)</p>
</li>
<li>
<img src="https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20210704122653.png"/>
</li>
</ul>
<h2 id="栅格数据分析">栅格数据分析</h2>
<h3 id="代数运算">代数运算</h3>
<ul>
<li>输入栅格像元值的<strong>数学函数</strong>计算输出栅格的像元值</li>
</ul>
<h3 id="重分级">重分级</h3>
<ul>
<li>属性数据类别合并或转换成新类</li>
</ul>
<h3 id="邻域分析">邻域分析</h3>
<ul>
<li>邻域类型：矩形 圆形 环形 扇形</li>
<li>应用：图像处理 <a href="#地形分析">地形分析</a></li>
</ul>
<h2 id="网络分析">网络分析</h2>
<h3 id="最短路径分析">最短路径分析</h3>
<ul>
<li>基本思想：把图的顶点分为S，T两类，若起始点到某顶点的最短通路已求出，则将其归入S，其余归入T，随着程序运行T的元素逐个转入S，直到目标顶点转入后结束</li>
</ul>
<img src="https://i.loli.net/2021/07/03/j9dHbWQV41eAtr6.png" alt="Dijkstra" style="zoom:67%;" />
<h3 id="路径分析">路径分析</h3>
<ul>
<li>生成耗费距离栅格</li>
<li>规划道路 管线 沟渠 传输线路</li>
<li>提取线性要素</li>
</ul>
<h3 id="网络分析-v2">网络分析</h3>
<ul>
<li><a href="#路径分析">路径分析</a></li>
<li>最佳设施</li>
<li>服务器分析</li>
<li>资源分配</li>
<li>选址分析</li>
</ul>
<h2 id="地形分析">地形分析</h2>
<ul>
<li>制作等高线图</li>
<li>坡度坡向分析</li>
<li>可视性分析</li>
<li>地图晕渲图</li>
<li>测高设色图</li>
</ul>
<h2 id="空间插值">空间插值</h2>
<ul>
<li>
<p>将离散点的测量数据转换为连续的数据曲面，以便与其它空间现象的分布模式进行比较，包括空间内插和外推两种算法</p>
</li>
<li>
<p>内插：在已存在观测点的区域<strong>范围之内</strong>估计未观测点的特征值的过程</p>
</li>
<li>
<p>推估：在已存在观测点的区域<strong>范围之外</strong>估计未观测点的特征值的过程</p>
</li>
<li>
<p><strong>整体内插</strong>：利用每个可利用的控制点来估算未知点数据</p>
</li>
<li>
<p><strong>局部内插</strong>：使用<strong>一组</strong>已知点样本估算未知点数据</p>
</li>
<li>
<p>內插函数：线性内插 双线性内插 多项式内插 样条函数 多层曲面叠加</p>
</li>
<li>
<p>最近邻近法–&gt;泰森多边形法</p>
<p>采用一种极端的边界内插方法，只用<strong>最近的单个点</strong>进行区域插值(TIN)</p>
</li>
</ul>
<p><a href="#空间数据查询">返回顶部</a></p>
]]></content>
      <categories>
        <category>笔记</category>
        <category>GIS</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>数据编辑与处理</title>
    <url>/2021/07/05/%E6%95%B0%E6%8D%AE%E7%BC%96%E8%BE%91%E4%B8%8E%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>数据编辑与处理</h1>
<h2 id="1-坐标与几何变换">1.坐标与几何变换</h2>
<h3 id="1-几何纠正">1. 几何纠正</h3>
<ul>
<li>地形图纠正</li>
<li>遥感影像纠正</li>
</ul>
<h3 id="2-坐标变换">2. 坐标变换</h3>
<ul>
<li>投影变换</li>
<li>仿射变换</li>
<li>相似变换</li>
<li>等积变换</li>
</ul>
<h3 id="3-栅格数据重采样">3. 栅格数据重采样</h3>
<ul>
<li>
<p>最邻近法</p>
</li>
<li>
<p>双线性内插</p>
</li>
<li>
<p>三次卷积法</p>
</li>
</ul>
<h2 id="2-数据编辑-图形与属性">2.数据编辑(图形与属性)</h2>
<h3 id="1-图形数据编辑">1.图形数据编辑</h3>
<h3 id="2-属性数据编辑">2.属性数据编辑</h3>
<h2 id="3-图形裁剪与拼接">3.图形裁剪与拼接</h2>
<h2 id="4-拓扑生成">4.拓扑生成</h2>
<h2 id="5-矢量数据压缩">5.矢量数据压缩</h2>
<p>压缩方法</p>
<ul>
<li>间隔取点法</li>
<li>垂距法和偏角法</li>
<li>分裂法</li>
</ul>
<h2 id="6-空间数据结构变换">6.空间数据结构变换</h2>
<h2 id="7-空间数据内插">7.空间数据内插</h2>
]]></content>
      <categories>
        <category>笔记</category>
        <category>GIS</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL查询</title>
    <url>/2021/07/05/SQL%E6%9F%A5%E8%AF%A2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">&lt;</span> 属性列表 attribute list <span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> <span class="operator">&lt;</span> 关系表 relation <span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">where</span> <span class="operator">&lt;</span> 条件 <span class="keyword">condition</span> <span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">AND</span> (交集) <span class="keyword">OR</span>(并集) XOR(异或) <span class="keyword">NOT</span> (补集)</span><br></pre></td></tr></table></figure>
<h3 id="模糊查询">模糊查询</h3>
<p>部分匹配 *</p>
<ul>
<li>数据集属性名 Like “a*”</li>
</ul>
<p>完全匹配</p>
<ul>
<li>数据集属性名 Like “Beijing”</li>
</ul>
<p>单字匹配 ？</p>
<ul>
<li>数据集属性名 Like “A?”</li>
</ul>
<h3 id="查询特定值">查询特定值</h3>
<ul>
<li>in，确定表达式的值是否等于指定列表内若干值中任意一个值</li>
<li>数据集属性名 in (1,4)</li>
</ul>
<h3 id="派生字段">派生字段</h3>
<ul>
<li>as 取临时字段名</li>
</ul>
]]></content>
      <categories>
        <category>笔记</category>
        <category>GIS</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>地理信息科学</title>
    <url>/2021/07/05/%E5%9C%B0%E7%90%86%E4%BF%A1%E6%81%AF%E7%A7%91%E5%AD%A6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>基本概念</h1>
<h2 id="信息系统基本功能">信息系统基本功能</h2>
<ul>
<li>数据采集</li>
<li>数据管理</li>
<li>数据分析</li>
<li>信息表达</li>
</ul>
<h2 id="GIS构成">GIS构成</h2>
<ul>
<li>
<p>软件</p>
</li>
<li>
<p>人员</p>
</li>
<li>
<p>数据</p>
</li>
<li>
<p>硬件</p>
</li>
</ul>
<h2 id="数据基本特征">数据基本特征</h2>
<ul>
<li>空间特征</li>
<li>属性特征</li>
<li>时间特征</li>
</ul>
<h2 id="GIS的硬件系统">GIS的硬件系统</h2>
<ol>
<li>
<p>计算机主机</p>
</li>
<li>
<p>存储设备</p>
<ul>
<li>光盘刻录机</li>
<li>磁带机</li>
<li>活动硬盘</li>
<li>磁盘阵列</li>
</ul>
</li>
<li>
<p>输入设备</p>
<ul>
<li>数字化仪</li>
<li>图像扫描仪</li>
<li>手写笔 光笔</li>
<li>键盘 鼠标</li>
<li>通讯端口</li>
</ul>
</li>
<li>
<p>输出设备</p>
<ul>
<li>笔式绘图仪</li>
<li>喷墨绘图仪（打印机）</li>
<li>激光打印机</li>
<li>显示器</li>
</ul>
</li>
</ol>
<h1>空间数学基础</h1>
<h1>空间数据模型与数据结构</h1>
<h2 id="1-地理空间与建模">1.地理空间与建模</h2>
<img src="https://i.loli.net/2021/07/03/EB8J1gLDoa5GXmz.png" alt="量表" style="zoom: 33%;" />
<h3 id="概念模型">概念模型</h3>
<h4 id="1-对象模型-特征模型">1.对象模型(特征模型)</h4>
<ul>
<li>
<p>描述不连续的地理现象</p>
</li>
<li>
<p>适合于对具有明确边界的地理现象进行抽象建模</p>
<p>如建筑物 道路 公共设施 湖泊 河流 岛屿 森林等自然要素</p>
</li>
<li></li>
</ul>
<h4 id="2-场模型-域模型">2.场模型(域模型)</h4>
<ul>
<li>把地理空间中的现象作为连续的变量或体来看待</li>
</ul>
<h5 id="场模型的表示">场模型的表示</h5>
<ul>
<li>规则分布的点</li>
<li>不规则分布的点</li>
<li>规则矩形区</li>
<li>不规则多边形区</li>
<li>不规则三角形区</li>
<li>等值线</li>
</ul>
<h4 id="3-网络模型">3.网络模型</h4>
<ul>
<li>同对象模型描述不连续的地理现象</li>
<li>不同在于要考虑通过路径相互连接多个地理现象之间的连通情况</li>
<li>适合描述 公路 铁路 管道 物流量 等地理网络</li>
<li>网络模型可以看成对象模型的特例，由点 线之间的拓扑空间关系构成</li>
</ul>
<h3 id="概念模型选择">概念模型选择</h3>
<ul>
<li>
<p>场模型通常用于有连续空间变化趋势的现象</p>
<p>如：海拔 温度 土壤变化</p>
</li>
<li>
<p>对象模型一般用于有明确边界和独立地理现象的建模</p>
<p>如：道路 地块等</p>
</li>
</ul>
<h2 id="2-空间数据模型">2.空间数据模型</h2>
<h4 id="1-矢量数据模型">1.矢量数据模型</h4>
<ul>
<li>矢量数据就是代表地图图形的各离散点平面坐标的有序集合</li>
<li>适用于对象模型</li>
<li>可以明确描述图形要素建的拓扑关系</li>
<li>由 点 线 面 三要素由对应一系列坐标表示</li>
</ul>
<h4 id="2-栅格数据模型">2.栅格数据模型</h4>
<ul>
<li>
<p>适用于场模型</p>
</li>
<li>
<p>栅格可以用数据矩阵表示，地理空间坐标隐含在矩阵中</p>
<ul>
<li>点由一个栅格单元或像元构成</li>
<li>线由一串彼此相邻的像元构成</li>
<li>面则由一系列相邻像元构成</li>
</ul>
</li>
<li>
<p>栅格空间分辨率指一个像元在地面所代表的实际面积大小</p>
</li>
</ul>
<h4 id="3-镶嵌数据模型">3.镶嵌数据模型</h4>
<ul>
<li>采用规则或不规则的小面快集合来逼近自然界不规则的地理单元</li>
<li>适用于场模型</li>
<li>根据面块形状分为规则镶嵌数据模型和不规则镶嵌数据模型</li>
</ul>
<h5 id="1-规则镶嵌数据模型">1.规则镶嵌数据模型</h5>
<ul>
<li>用规则小面快集合逼近</li>
<li>可转化为栅格数据模型</li>
</ul>
<h5 id="2-不规则栅格数据模型">2.不规则栅格数据模型</h5>
<ul>
<li>指用来镶嵌的小面快具有不规则的形状或边界</li>
<li>例：Voronoi图 TIN(不规则三角网)</li>
</ul>
<h4 id="4-面向对象数据模型">4.面向对象数据模型</h4>
<ul>
<li>应用面向对象方法描述空间实体及其相互关系</li>
<li>适用于对象模型</li>
<li>技术核心是对象和类</li>
</ul>
<h2 id="矢量数据模型">矢量数据模型</h2>
<h3 id="实体数据结构">实体数据结构</h3>
<ul>
<li>实体式：构成多边形边界的各个线段，以多边形为单位进行组织</li>
<li>优点：编码容易，数字化操作简单，数据编排直观</li>
<li>缺点：相邻多边形公共边界数字化两遍，造成数据冗余，边界易出现间隙和重叠</li>
<li>缺少邻域多边形信息和图形的拓扑关系</li>
<li>岛只作为一个单个图形，没有建立与外界多边形的联系<br>
<img src="https://i.loli.net/2021/07/03/cyoiveJnNhQ8g6O.png" alt="实体式数据结构" style="zoom:50%;" /></li>
</ul>
<h3 id="拓扑数据结构">拓扑数据结构</h3>
<ul>
<li>优点：1.保障数据质量 拓扑编辑功能进行自动差错
<ul>
<li>2.增强 GIS 分析 	网络(街道 设施)</li>
</ul>
</li>
</ul>
<h4 id="索引式">索引式</h4>
<ul>
<li>采用树状索引减少数据冗余并间接增加邻域信息</li>
<li>优点：消除边界冗余和不一致问题，简化边界线或合并多边形可不必改造索引表</li>
<li>缺点：邻域运算，消除无用边，处理岛状信息以及检查拓扑关系很困难
<ul>
<li>人工方式建立编码表，工作量大易出错<br>
<img src="https://i.loli.net/2021/07/03/DyTVd6m7rx4gGOz.png" alt="索引式" style="zoom:50%;" /><img src="https://i.loli.net/2021/07/03/67wbHIXKPR3y4J8.png" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
<h4 id="双重独立式">双重独立式</h4>
<ul>
<li>对图上网状或面状要素的任何一条线段，用顺序的两点定义以及相邻多边形来予以定义<br>
<img src="https://i.loli.net/2021/07/03/YqpFBVLriu7jl2G.png" style="zoom:50%;" /></li>
</ul>
<h4 id="链状双重独立式">链状双重独立式</h4>
<ul>
<li>多边形文件</li>
<li>弧段文件</li>
<li>弧段点文件</li>
<li>点坐标文件</li>
</ul>
 <img src="https://i.loli.net/2021/07/03/Up3RDXQo4m7lEBI.png"/>
<h3 id="栅格数据结构">栅格数据结构</h3>
<h4 id="完全栅格数据结构">完全栅格数据结构</h4>
<ul>
<li>直接栅格编码：将栅格看做一个数据矩阵，逐行逐个记录代码数据</li>
<li>优点：简单 直观 无压缩</li>
<li>缺点：存在大量冗余，精度提高有限制</li>
</ul>
<h4 id="压缩栅格数据结构">压缩栅格数据结构</h4>
<ul>
<li>游程长度编码：将每行中具有相同属性值的连续像元映射为一个游程，每个游程的数据结构为(A,P)，A表示属性值，P代表该游程最右端的列号或个数</li>
<li>属性变化越少，压缩比例越大，适合于类型区域面积较大的栅格</li>
<li>优点：栅格加密时，数据量不会明显增加，压缩效率高，最大限度保留原始栅格结构
<ul>
<li>==编码解码运算简单==，且易于检索 叠加 合并等操作，得到广泛应用</li>
</ul>
</li>
<li>缺点：不适合于类型==连续变化==或类型==区域分散==的数据</li>
<li>
<img src="https://raw.githubusercontent.com/three-body2/Note/main/20210704075729.png"/>
</li>
<li>四叉树编码</li>
<li>优点：容易而有效地计算多边形的数量特征
<ul>
<li>阵列各部分的分辨率是可变的，边界复杂部分四叉树较高分级多，分辨率也高，而不需表示许多细节的部分则分级少，分辨率低，因而即可精确表示图形结构又可减少存储量</li>
<li>栅格到四叉树及四叉树到简单栅格结构的转换比其他压缩方法容易</li>
<li>多边形中嵌套异类小多边形的表示较方便</li>
</ul>
</li>
<li>缺点：矢/删正反变换还不理想
<ul>
<li>建立四叉树耗费机时很多</li>
<li>四叉树虽可修改，但很费事</li>
<li>四叉树未能直接表示物体间的拓扑关系</li>
<li>与非树表示法比较，四叉树表示法的缺点在于转换的不稳定或叫滑动变异</li>
<li>一个物体的图像在构成四叉树时会被分割到若干个象限中，使他失去了内在的相关性</li>
</ul>
</li>
<li>链式数据编码<br>
<img src="https://raw.githubusercontent.com/three-body2/Note/main/20210704075904.png" style="zoom:50%;" /></li>
<li>优点：链式编码对多边形的表示具有很强的数据压缩能力
<ul>
<li>且具有一定的运算功能，如面积和周长计算等，探测边界急弯和凹凸部分等都比较容易，比较适于存储图形数据</li>
</ul>
</li>
<li>缺点：对边界做合并和插入等修改编辑比较困难
<ul>
<li>类似矢量结构，不具有区域的性质，对叠置运算如组合 相交等则很难实施</li>
<li>而且由于链码以每个区域为单位存储边界，相邻区域的边界则被重复存储而产生冗余</li>
</ul>
</li>
<li>分块压缩编码</li>
</ul>
<h3 id="镶嵌数据结构">镶嵌数据结构</h3>
<ul>
<li>以三角形作为基本的空间对象进行数据组织</li>
<li>很好地描述三角形及其邻接关系，非常适合于需要面相邻关系操作和分析</li>
</ul>
<h4 id="比较">比较</h4>
<img src="https://raw.githubusercontent.com/three-body2/Note/main/20210704083204.png"/>
<img src="https://raw.githubusercontent.com/three-body2/Note/main/20210704083316.png"/>
]]></content>
      <categories>
        <category>笔记</category>
        <category>GIS</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>数字高程模型</title>
    <url>/2021/07/05/%E6%95%B0%E5%AD%97%E9%AB%98%E7%A8%8B%E6%A8%A1%E5%9E%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="4D产品">4D产品</h2>
<pre><code>1. DEM：数字高程模型
2. DLG：数字线划图
3. DRG：数字栅格
4. DOM：数字正射影像
</code></pre>
<h2 id="DTM-数字地面模型">DTM(数字地面模型)</h2>
<p>DEM是DTM的子集，是DTM最基本的部分</p>
<h2 id="DEM的表达形式">DEM的表达形式</h2>
<pre><code>1. 规则矩形格网(GRID)
</code></pre>
<ul>
<li>
<p>优点：</p>
<p>储存量小</p>
<p>计算机处理矩阵方便，便于使用和管理</p>
</li>
<li>
<p>缺点：</p>
<p>不能准确表示地形的结构与细部</p>
<p>描绘的等高线不能准确的表示地貌</p>
</li>
</ul>
<ol start="2">
<li>
<p>不规则三角网(TIN)</p>
<ul>
<li>
<p>优点：</p>
<p>较好的顾及地貌特征点 线，表达复杂的地形表面比GRID要准确</p>
</li>
<li>
<p>缺点：</p>
<p>数据量大，数据结构复杂</p>
<p>使用及管理复杂</p>
<p>要存储三角形顶点和各三角形邻接关系</p>
</li>
</ul>
</li>
</ol>
<h2 id="DEM应用">DEM应用</h2>
<ul>
<li>摄影测量与遥感</li>
<li>工程设计</li>
<li>地理信息基础数据</li>
<li>军事上用于导航或导弹制作</li>
</ul>
<h2 id="DEM数据获取方法">DEM数据获取方法</h2>
<ol>
<li>野外实测获取</li>
<li>从现有的地图上获取高程数据与地物</li>
<li>摄影测量方法</li>
</ol>
<h2 id="DEM数据预处理">DEM数据预处理</h2>
<ul>
<li>DEM数据预处理是DEM内插之前的准备工作是整个数据处理的一部分。</li>
<li>内插与逼近指的是根据一系列的参考点上的某些信息来拟合反应该信息特征的表面，并内插出气筒点信息</li>
<li>DEM内插方法
<ul>
<li>线性内插</li>
<li>双线性多项式内插</li>
<li>移动曲面拟合法</li>
<li>DSM 数字坡度模型</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>笔记</tag>
        <tag>摄影测量</tag>
      </tags>
  </entry>
  <entry>
    <title>数字摄影测量</title>
    <url>/2021/07/05/%E6%95%B0%E5%AD%97%E6%91%84%E5%BD%B1%E6%B5%8B%E9%87%8F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>数字摄影测量</h1>
<h3 id="概念">概念</h3>
<ul>
<li>数字摄影测量</li>
</ul>
<p>利用数字灰度信号，采用数字相关技术量测同名像点，在此基础上通过解析计算，进行相对定向和绝对定向，建立数字立体模型，从而建立数字高程模型 绘制等高线 制作正射影像图以及为地理信息系统提供基础信息等</p>
<ul>
<li>获得数字影像的方法
<ol>
<li>数字摄影机(CCD阵列扫描仪或摄影机)或数码相机获得的数字影像</li>
<li>利用数字化扫描仪对像片进行扫描，称为数字化影像</li>
</ol>
</li>
</ul>
<h3 id="影像采样与量化">影像采样与量化</h3>
<h4 id="1-影像数字化过程">1. 影像数字化过程</h4>
<ul>
<li>影像数字化</li>
<li>==采样==与==量化==
<ul>
<li>将实际的灰度函数离散化。这种对实际连续函数模型离散化的量测过程就是==采样==</li>
<li>被量测的点称为==样点==，</li>
<li>样点之间的距离即==采样间隔==。</li>
<li>将各点的灰度值取为整数，这一过程称为==影像灰度的量化==</li>
</ul>
</li>
</ul>
<h4 id="2-数字影像的构成">2. 数字影像的构成</h4>
<ul>
<li>数字影像是一个灰度矩阵</li>
<li>矩阵中每个元素称为像素</li>
</ul>
<h4 id="3-数字影像内定向">3. 数字影像内定向</h4>
<ul>
<li>使像平面坐标x,y与其扫描坐标换算成相等的即为数字影像内定向</li>
<li>即扫描坐标转换为像平面坐标系</li>
</ul>
<h3 id="基于灰度的影像相关">基于灰度的影像相关</h3>
<ul>
<li>
<p><strong>数字影像相关</strong>：从左右数字影像中寻找同名像点</p>
</li>
<li>
<p>影像相关是利用互相关函数，评价两块影像的相似性以确定同名点</p>
</li>
<li>
<p>方法：</p>
<ol>
<li>相关系数法</li>
<li>协方差法</li>
<li>高精度最小二乘法</li>
</ol>
</li>
</ul>
<h3 id="同名核线的确定">同名核线的确定</h3>
<ul>
<li>核线几何关系解析</li>
<li>沿核线重采样</li>
<li>核线相关</li>
</ul>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>摄影测量</tag>
      </tags>
  </entry>
  <entry>
    <title>像片纠正及正射影像制作</title>
    <url>/2021/07/05/%E5%83%8F%E7%89%87%E7%BA%A0%E6%AD%A3%E5%8F%8A%E6%AD%A3%E5%B0%84%E5%BD%B1%E5%83%8F%E5%88%B6%E4%BD%9C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-像片纠正的概念">1.像片纠正的概念</h2>
<p>将竖直摄影测量的航摄像片通过投影变换，获得相当于航摄相机物镜主光轴在铅锤位置摄影的水平像片，同时改化规定的比例尺</p>
<h2 id="2-摄影测量外业工作">2.摄影测量外业工作</h2>
<h3 id="1-外业工作任务">1.外业工作任务</h3>
<ul>
<li>像片野外控制测量
<ul>
<li>像控点：直接为摄影测量加密或测图需要，在实地测定的控制点</li>
</ul>
</li>
<li>像片调绘与补测
<ul>
<li>像片调绘：利用像片进行判读 调查和绘注等工作的总称</li>
<li>像片判读：根据航片上地物影像的特征，识别出于像片影像相应的地物的类别 特征和某些元素或者测算某种数据指标的过程</li>
</ul>
</li>
</ul>
<h3 id="2-外业工作过程">2.外业工作过程</h3>
<ul>
<li>技术设计</li>
<li>准备工作及拟定作业计划</li>
<li>外业工作实施</li>
<li>外业成果检查与验收</li>
</ul>
<h3 id="3-像片控制点的布设">3.像片控制点的布设</h3>
<ol>
<li>
<p>控制点类型</p>
<ul>
<li>平面控制点</li>
<li>高程控制点</li>
<li>平高控制点</li>
</ul>
</li>
<li>
<p>控制点布设方案</p>
<ul>
<li>全野外布点</li>
<li>非全野外布点</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>摄影测量</tag>
      </tags>
  </entry>
  <entry>
    <title>双像解析</title>
    <url>/2021/07/05/%E5%8F%8C%E5%83%8F%E8%A7%A3%E6%9E%90/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="单张像片后方交会">单张像片后方交会</h2>
<h3 id="定义">定义</h3>
<p>利用3个及以上的地面控制点及其在像片上的像点，确定一张像片外方位元素的方法</p>
<h3 id="作用">作用</h3>
<p>求解外方位元素</p>
<h3 id="原理">原理</h3>
<p>共线条件方程</p>
<h3 id="要求">要求</h3>
<ul>
<li>
<p>至少三个不在同一直线上的地面控制点</p>
</li>
<li>
<p><img src="https://raw.githubusercontent.com/three-body2/Note/main/20210703220116.png"/>&quot; alt=“后方交会” style=“zoom:50%;” /&gt;</p>
</li>
</ul>
<h2 id="立体像对前方交会">立体像对前方交会</h2>
<h3 id="概念">概念</h3>
<ul>
<li>由立体像对中两张像片的内外方位元素和像点坐标来确定相应地面点在物方空间坐标系中坐标的方法</li>
<li>只有利用立体像对上的同名像点，才能得到两条同名射线在空间相交的点，即该地面点的空间位置</li>
<li>已知立体像对中两张像片的内外方位元素和像点坐标</li>
<li>未知相应地面点的地面坐标</li>
</ul>
<h3 id="原理-v2">原理</h3>
<ul>
<li>共线条件方程</li>
<li><img src="https://raw.githubusercontent.com/three-body2/Note/main/20210703224500.png"/>&quot; alt=“共线条件方程” style=“zoom:50%;” /&gt;</li>
</ul>
<h2 id="后交加前交">后交加前交</h2>
<ul>
<li>
<p>空间后方交会与前方交会求解地面点坐标的计算方法:</p>
</li>
<li>
<p>实现由单片后方交会求出左右像片的外方位元素，再利用空间前方交会公式求出待定点坐标</p>
</li>
<li>
<p>后方交会的3个或3个以上地面控制点</p>
</li>
<li>
<p>主要步骤</p>
<p>野外像片控制测量(重叠部分至少四个已知地面控制点)</p>
<p>用立体坐标量测仪量测像点坐标</p>
<p>空间后方交会计算像片外方位元素(求6个外方位元素)</p>
<p>空间前方交会计算未知点地面坐标</p>
</li>
</ul>
<h2 id="相对定向">相对定向</h2>
<h3 id="概念-v2">概念</h3>
<ul>
<li>相对定向元素(5个)：描述立体像对两张像片相对位置和姿态关系的参数</li>
<li>解析相对定向：利用立体像对同名光线对对相交，根据量测的像点坐标，以解析法计算方法，解求两张像片相对定向元素的过程</li>
</ul>
<h3 id="原理-v3">原理</h3>
<ul>
<li>同名光线对对相交于核面内(共面条件方程)</li>
<li>至少需要5个相对定向元素</li>
<li>至少需要量测5对同名像点的像点坐标</li>
</ul>
<h4 id="1-连续法解析相对定向原理">1.连续法解析相对定向原理</h4>
<ul>
<li>相对定向完成标志为：上下视差为0</li>
<li>量测5对以上的同名点可以按最小二乘平差法求相对定向元素</li>
</ul>
<h4 id="2-单独法解析相对定向原理">2.单独法解析相对定向原理</h4>
<ul>
<li>相对定向完成标志为：上下视差为0</li>
<li>量测5对以上的同名点可以按最小二乘平差法求相对定向元素</li>
</ul>
<h2 id="绝对定向">绝对定向</h2>
<h3 id="概念-v3">概念</h3>
<ul>
<li>相对定向建立的立体模型------像空间辅助坐标系</li>
<li>通过像点坐标解求模型点坐标------摄影测量坐标系的坐标</li>
<li>通过将相对定向立体模型进行缩放平移和旋转，确定立体模型在地面坐标系中的方位和大小------摄影测量坐标系与地面摄影测量坐标系转化-----立体模型的绝对定向</li>
<li>绝对定向参数(7个)：描述立体像对在摄影瞬间的绝对位置和姿态的参数</li>
<li>实质：模型点的摄影测量坐标向地面坐标的数学变换</li>
</ul>
<h3 id="原理-v4">原理</h3>
<ul>
<li>空间相似变换</li>
<li>包含 旋转 平移 缩放三个内容</li>
<li>至少需要2个平高控制点和1个高程点，且任意3个点不能位于同一条直线上</li>
<li>为了保证精度，通常使用4个或4个以上的平高控制点列误差方程式，求解7个绝对方位元素</li>
<li>3个控制点</li>
<li>7个未知数</li>
<li>7个方程</li>
</ul>
<h3 id="坐标重心化">坐标重心化</h3>
<ul>
<li>
<p>一种数据预处理方法</p>
</li>
<li>
<p>减少坐标在计算过程中的有效位数，提高精度</p>
</li>
<li>
<p>简化方程式的系数，使个别项的数值为零，从而加快计算速度</p>
</li>
<li>
<p>重心化坐标：将所有的摄影测量坐标的地辅系坐标分别平移到以各自重心为原点的坐标系中</p>
</li>
</ul>
<h2 id="相对加绝对">相对加绝对</h2>
<ul>
<li>相对定向：0个控制点，至少5对以上同名像点，求解5个相对定向元素</li>
<li>绝对定向：2个平高 ，1个高程，确定立体模型比例尺和在地面坐标系中所处方位</li>
<li>像点及控制点，必须在立体像对内</li>
</ul>
<h2 id="光束法解析摄影测量">光束法解析摄影测量</h2>
<h3 id="原理-v5">原理</h3>
<ul>
<li>用已知少数控制点以及待求地面点，在像对内以共线方程式为基础，未知点和控制点同时列误差方程，联合解算，同时解求两张像片的外方位元素与待定点坐标</li>
<li>理论模型：共线条件方程</li>
</ul>
<h3 id="平差">平差</h3>
<ul>
<li>
<p>参加平差的点：平高 平面 或高程 待求点</p>
</li>
<li>
<p>平高控制点：$$dX=dY=dZ=0$$</p>
<p>即可在重叠范围内，也可在单像内</p>
</li>
<li>
<p>平面控制点($dX=dY=0$)或高程控制点($$dZ=0$$)</p>
<p>必须在重叠范围内</p>
</li>
<li>
<p>待求点</p>
<p>必须在重叠范围内</p>
</li>
</ul>
<h3 id="条件">条件</h3>
<ul>
<li>
<p>已知值：像控点大地坐标系</p>
</li>
<li>
<p>观测值：像控点像点坐标和待定点坐标</p>
</li>
<li>
<p>未知数：6个外方位元素</p>
<p>待定点地面摄影测量坐标 X,Y,Z</p>
</li>
<li>
<p>未知数个数：6个外方位元素 * 像片数 + 待求点 * 3</p>
</li>
<li>
<p>方程个数：(对应点的重叠度 * 对应点数 ) * 2个方程</p>
</li>
</ul>
<img src="https://raw.githubusercontent.com/three-body2/Note/main/20210703224713.png" style="zoom:50%;" />
<img src="https://raw.githubusercontent.com/three-body2/Note/main/20210703225041.png" style="zoom:50%;" />
<h2 id="汇总">汇总</h2>
<img src="https://raw.githubusercontent.com/three-body2/Note/main/20210703224759.png" alt="双像解析" style="zoom:50%;" />
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>摄影测量</tag>
      </tags>
  </entry>
  <entry>
    <title>解析空中三角测量</title>
    <url>/2021/07/05/%E8%A7%A3%E6%9E%90%E7%A9%BA%E4%B8%AD%E4%B8%89%E8%A7%92%E6%B5%8B%E9%87%8F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="定义">定义</h2>
<ul>
<li>
<p>利用少量控制点对整个区域所有影像恢复它们的外方位元素</p>
</li>
<li>
<p>利用计算的方法，根据航摄像片上所量测的像点坐标以及少量的地面控制点求出地面加密点的物方空间坐标，称之为解析空中三角测量，俗称摄影测量加密</p>
</li>
</ul>
<h2 id="分类">分类</h2>
<h3 id="根据平差范围">根据平差范围</h3>
<ul>
<li>
<p>单航带法</p>
</li>
<li>
<p>单模型法</p>
</li>
<li>
<p>区域网法</p>
</li>
</ul>
<h3 id="根据平差模型">根据平差模型</h3>
<ul>
<li>
<p>航带法</p>
</li>
<li>
<p>独立模型法</p>
</li>
<li>
<p>光束法</p>
</li>
</ul>
<h2 id="作用">作用</h2>
<ul>
<li>极大地减少甚至完全免除常规空中三角测量所必须的地面控制点，以节省野外控制测量工作量 缩短航测成图周期 降低生产成本 提高生产效率</li>
</ul>
<h2 id="POS系统及作用">POS系统及作用</h2>
<ul>
<li>主要包括：GPS信号接收机和惯性测量装置(IMU)</li>
<li>作用：直接测定影像外方位元素</li>
</ul>
<img src="https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20210705190103.png"/>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>摄影测量</tag>
      </tags>
  </entry>
  <entry>
    <title>人造立体视觉</title>
    <url>/2021/07/05/%E4%BA%BA%E9%80%A0%E7%AB%8B%E4%BD%93%E8%A7%86%E8%A7%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="人眼分辨率">人眼分辨率</h2>
<h3 id="第一分辨率">第一分辨率</h3>
<ul>
<li>用单眼所能观察出<strong>两点</strong>间的的最小距离</li>
<li>大小为45<sup>‘’</sup></li>
</ul>
<h3 id="第二分辨率">第二分辨率</h3>
<ul>
<li>用单眼所能观察出两条<strong>平行线</strong>间的最小距离</li>
<li>大小为20<sup>‘’</sup></li>
<li>双眼观察精度比单眼高$\sqrt2$倍，第一分辨率为30<sup>‘’</sup>,</li>
<li>第二分辨率为12<sup>‘’</sup></li>
</ul>
<h2 id="立体视觉">立体视觉</h2>
<h3 id="立体视觉-v2">立体视觉</h3>
<ul>
<li>人眼双眼观察景物可判断其远近，得到景物的立体效应，这种现象称为人眼的立体视觉</li>
<li>
<img src="https://raw.githubusercontent.com/three-body2/Note/main/20210703225706.png"/>
</li>
</ul>
<h3 id="生理视差">生理视差</h3>
<ul>
<li>生理视差是产生立体感觉的生理基础</li>
<li>人眼分辨远近的本质是生理视差</li>
</ul>
<h2 id="人造立体视觉">人造立体视觉</h2>
<h3 id="定义">定义</h3>
<h3 id="条件">条件</h3>
<p>1.立体像对</p>
<ul>
<li>两张像片必须是在两个不同位置对同一景物摄取的立体像对(摄影测量时，规定摄影时保持像片的重叠度在60%以上)</li>
</ul>
<p>2.分像条件</p>
<ul>
<li>每只眼睛必须只能观察像对的一张像片(左眼看左片，右眼看右片)</li>
</ul>
<p>3.两张像片上相同景物(同名像点)的连线与眼基线应大致平行</p>
<p>4.两张像片的比例尺(差别&lt;15%),否则需要zoom系统等进行调节</p>
<h2 id="立体观察与量测">立体观察与量测</h2>
<h3 id="立体观察方法">立体观察方法</h3>
<ul>
<li>
<p>立体镜观察</p>
<p>桥式立体镜</p>
<p>反光立体镜</p>
</li>
<li>
<p>双目镜观察光路的立体观察</p>
</li>
<li>
<p>叠映影像立体观察</p>
<p>红绿色互补法</p>
<p>同步闪闭法(液晶眼镜)</p>
<p>偏振光法</p>
</li>
</ul>
<h3 id="立体量测">立体量测</h3>
<ul>
<li>像对立体量测目的：找出同名像点，获取同名像点的坐标</li>
<li>左右视差 x之差</li>
<li>上下视差 y之差</li>
</ul>
<h2 id="立体像对中特殊的点线面">立体像对中特殊的点线面</h2>
<h3 id="同名像点">同名像点</h3>
<ul>
<li>同名光线在左右像片上的构像</li>
</ul>
<h3 id="同名光线">同名光线</h3>
<ul>
<li>同一地面点发出的两条光线</li>
</ul>
<h3 id="同名核线">同名核线</h3>
<ul>
<li>核面与左右像片面的交线</li>
</ul>
<h3 id="核面">核面</h3>
<ul>
<li>
<p>摄影基线与某一地面点组成的平面</p>
<img src="https://raw.githubusercontent.com/three-body2/Note/main/20210703225614.png"/>
</li>
</ul>
<h2 id="获取地面点坐标的三种方式">获取地面点坐标的三种方式</h2>
<ul>
<li>
<p>后方交会+前方交会</p>
</li>
<li>
<p>相对定向+绝对定向</p>
</li>
<li>
<p>光束法</p>
</li>
</ul>
]]></content>
      <categories>
        <category>笔记</category>
        <category>摄影测量</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>摄影测量</tag>
      </tags>
  </entry>
  <entry>
    <title>单张像片解析</title>
    <url>/2021/07/05/%E5%8D%95%E5%BC%A0%E5%83%8F%E7%89%87%E8%A7%A3%E6%9E%90/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1>单张像片解析</h1>
<h2 id="基本知识">基本知识</h2>
<h3 id="1-航向重叠">1.航向重叠</h3>
<ul>
<li>同一航线内相邻像片有一定的影像重叠</li>
</ul>
<h3 id="2-旁向重叠">2.旁向重叠</h3>
<ul>
<li>相邻航线也有一定的重叠</li>
</ul>
<h3 id="3-航迹角">3.航迹角</h3>
<ul>
<li>实际航线与设计航线的夹角</li>
</ul>
<h3 id="4-像片倾角">4.像片倾角</h3>
<ul>
<li>航空摄影机主光轴与铅垂线的夹角</li>
<li>摄影方向线与主垂线夹角</li>
<li>竖直摄影像片倾角小于2-3度</li>
<li>倾斜摄影像片倾角大于3度</li>
</ul>
<h3 id="5-航摄比例尺">5.航摄比例尺</h3>
<ul>
<li>
<p>像片上的线段l与地面上相应的水平距L之比</p>
<p>$\frac{1}{m}=\frac{l}{L}=\frac{f}{H}$</p>
</li>
<li>
<p>在像片倾角很小 地形起伏不大时，H取平均航高，可以看成是像片的概略比例尺</p>
</li>
<li>
<p>一般摄影条件下，不存在整张像片的统一比例尺。摄影航摄像片上比例尺处处不相等</p>
</li>
</ul>
<h3 id="6-航高">6.航高</h3>
<ul>
<li>
<p>摄影航高</p>
<p>相当于摄区平均高程面的高度</p>
</li>
<li>
<p>相对航高</p>
<p>航摄仪物镜中心在摄影瞬间相当于某一基准面的高度</p>
</li>
<li>
<p>绝对航高</p>
<p>航摄仪物镜中心S在摄影瞬间相当于大地水准面的高度</p>
<p>H<sub>绝对</sub>=h<sub>平均</sub>+H<sub>相对</sub></p>
</li>
</ul>
<h3 id="7-摄影基线">7.摄影基线</h3>
<ul>
<li>航线方向相邻两摄站点的空间距离</li>
</ul>
<h2 id="单张像片特殊的点线面">单张像片特殊的点线面</h2>
<h3 id="1-焦距">1.焦距</h3>
<ul>
<li>物镜到焦点的距离</li>
</ul>
<h3 id="2-主距">2.主距</h3>
<ul>
<li>物镜后节点到像平面的距离</li>
<li>航高相当于主距很大，近似于无穷远成像，所以主距约等于物镜焦距</li>
</ul>
<h3 id="3-特殊的点线面">3.特殊的点线面</h3>
<ul>
<li>
<p><img src="https://raw.githubusercontent.com/three-body2/Note/main/20210703223115.png" alt=""></p>
</li>
<li>
<p>主垂面</p>
<p>包含摄影机轴SoO的铅垂面W，称为主垂面</p>
</li>
<li>
<p>主纵线</p>
<p>主垂面与像平面的交线vv称为主纵线</p>
</li>
<li>
<p>摄影方向线</p>
<p>主垂面与地平面的交线称为摄影方向线</p>
</li>
<li>
<p>像底点</p>
<p>铅垂射线SN与像平面的交点n称为像底点。</p>
</li>
<li>
<p>地底点</p>
<p>像底点n在地面上的透视对应点N称为地底点。</p>
</li>
<li>
<p>透视轴</p>
<p>将像片平面扩大与地平面相交的迹线TT称为透视轴</p>
</li>
</ul>
<h2 id="常用坐标系">常用坐标系</h2>
<h3 id="像方坐标系">像方坐标系</h3>
<h4 id="1-像平面坐标系-右手系">1.像平面坐标系(右手系)</h4>
<ul>
<li>以像主点为坐标原点，坐标轴分别与框标连线平行</li>
<li>表示像点在像平面内位置的平面直角坐标系</li>
</ul>
<h4 id="2-像空间坐标系-右手系-x-y-f">2.像空间坐标系(右手系)(x,y-f)</h4>
<ul>
<li>
<p>摄影中心为坐标原点</p>
</li>
<li>
<p>z轴与主光轴重合</p>
</li>
<li>
<p>x,y轴与像平面坐标系x,y轴平行</p>
</li>
<li>
<p>表示像点在像方空间位置的空间直角坐标系</p>
</li>
</ul>
<h4 id="3-像空间辅助坐标系-右手系-X-Y-Z">3.像空间辅助坐标系(右手系)(X,Y,Z)</h4>
<ul>
<li>
<p>各像片的像空间坐标系不统一，给计算带来了困难，为此，建立一种相对同一的坐标系</p>
</li>
<li>
<p>摄影中心为坐标原点</p>
</li>
<li>
<p>Z轴为铅锤方向，X轴为航向方向</p>
</li>
<li>
<p>第一张像片的像空间坐标系</p>
</li>
<li>
<p>X轴为摄影基线方向 XZ平面为摄影基线及左片主光轴构成的面</p>
</li>
</ul>
<h3 id="物方坐标系">物方坐标系</h3>
<h4 id="1-摄影测量坐标系-右手系">1.摄影测量坐标系(右手系)</h4>
<ul>
<li>像空间辅助坐标系沿着Z轴反向无限延伸到地面上的点为坐标原点</li>
</ul>
<h4 id="2-地面测量坐标系-左手系">2.地面测量坐标系(左手系)</h4>
<ul>
<li>Z轴：沿铅垂线</li>
<li>X轴：中央子午线</li>
<li>Y轴：赤道</li>
<li>为国家统一坐标系，平面坐标为高斯-克吕格3度带或6度带投影(1980西安坐标系)，高程为1985黄海高程系</li>
</ul>
<h4 id="3-地面摄影测量坐标系-右手系">3.地面摄影测量坐标系(右手系)</h4>
<ul>
<li>原点为地面某一控制点</li>
<li>Z轴与地面测量坐标系的Z轴平行</li>
<li>X轴与航线一致</li>
<li>摄影测量坐标系采用的是右手系，地面测量坐标系采用的是左手系，这给摄影测量坐标到地面测量坐标系的转换带来了困难，为此，在摄影测量坐标系与地面测量坐标系之间建立一种过渡性的坐标系，称为地面摄影测量坐标系</li>
</ul>
<h2 id="像片的内外方位元素">像片的内外方位元素</h2>
<ul>
<li>
<p>像片的方位元素</p>
<p>确定航空摄影中心与像片在地面设定的空间坐标系中的位置与姿态，描述位置和姿态的参数</p>
</li>
</ul>
<h3 id="内方位元素">内方位元素</h3>
<p>内方位元素一般已知</p>
<ul>
<li>恢复内方位元素可恢复摄影时的摄影光束</li>
<li>描述摄影中心与像片之间相关位置的参数</li>
<li>主距==f==像片框标坐标系的坐标x,y</li>
</ul>
<h3 id="外方位元素">外方位元素</h3>
<p><img src="https://raw.githubusercontent.com/three-body2/Note/main/20210703224157.png" alt=""></p>
<ul>
<li>
<p>确定摄影时==像空间坐标系==在==地面摄影测量坐标系==中位置和方向的元素</p>
</li>
<li>
<p>确定摄影光束空间姿态</p>
</li>
<li>
<p>外方位线元素：</p>
<p>确定像空系的==原点S==在地摄系中的坐标</p>
</li>
<li>
<p>外方位角元素(三次旋转)：</p>
<p>确定像空系==三轴==在地摄系中的方向</p>
</li>
</ul>
<h2 id="中心投影构像方程">中心投影构像方程</h2>
<h3 id="投影">投影</h3>
<ul>
<li>航摄像片为中心投影</li>
<li>地形图为正射投影</li>
</ul>
<h3 id="共线条件方程">共线条件方程</h3>
<ul>
<li>在理想情况，摄影瞬间==像点== ==投影中心== ==物点==位于同一条直线上，描述这三点共线的数学表达式称之为共线条件方程</li>
<li>$$\frac{X}{X_A-X_S}=\frac{Y}{Y_A-Y_S}=\frac{Z}{Z_A-Z_S}=\frac{1}{\lambda}$$</li>
<li><img src="https://raw.githubusercontent.com/three-body2/Note/main/20210703222645.png" alt=""></li>
<li>已知==地面点==坐标可以和==内外方位元素==可以求得==像点坐==标</li>
<li>已知==像点==坐标和==内外方位元素不能==求得==地面点==坐标</li>
<li>地面点坐标有==3个==未知数而像点坐标只有==2个==未知数</li>
</ul>
<h3 id="应用">应用</h3>
<ul>
<li>求解外方位元素</li>
<li>计算像点位置</li>
<li>求解地面点坐标</li>
<li>前方交会</li>
<li>后方交会</li>
<li>光束法</li>
</ul>
<h2 id="像点位移">像点位移</h2>
<h3 id="定义">定义</h3>
<ul>
<li>像点位移：当像片倾斜 地面起伏时，地面点在航摄像片上的构像相当于理想情况下的构像所产生的位置差异</li>
<li>方向偏差：从像片上某点作出的方向线与地面对应点画出的方向线的方位角不等，这种差异称为方向偏差</li>
</ul>
<h3 id="起因">起因</h3>
<h4 id="地形起伏">地形起伏</h4>
<p>特点：</p>
<ul>
<li>像底点的像点不存在像点位移</li>
<li>在保持像片摄影比例尺不变时，地形起伏像点位移之值随航高增大而减小，因此采用长焦距摄影机以增大航高进行空中摄影是有利的</li>
<li>因地形起伏引起的像点位移常称为像片上的投影差</li>
</ul>
<h4 id="像片倾斜">像片倾斜</h4>
<ul>
<li></li>
</ul>
<h2 id="单张像片后方交会">单张像片后方交会</h2>
<h3 id="定义-v2">定义</h3>
<p>利用==3个==及以上的地面控制点及其在像片上的像点，确定一张像片==外方位元素==的方法</p>
<h3 id="作用">作用</h3>
<p>求解外方位元素</p>
<h3 id="原理">原理</h3>
<p>共线条件方程</p>
<h3 id="要求">要求</h3>
<ul>
<li>
<p>至少三个不在同一直线上的地面控制点</p>
</li>
<li>
<img src="https://raw.githubusercontent.com/three-body2/Note/main/20210703230036.png"/>
</li>
</ul>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>摄影测量</tag>
      </tags>
  </entry>
</search>
