---
title: 傻妞
date: 2021-11-11 14:29:09
tags: 傻妞
categories: 傻妞
password: shaniu
description: 傻妞命令大全
---

## 官方配置文件

```bash
傻妞机器人名
set sillyGirl name 傻妞
傻妞http服务端口
set sillyGirl port 8080
傻妞消息撤回等待时间，单位秒
set sillyGirl duration 5
傻妞自动升级是否通知
set sillyGirl update_notify false
是否开启傻妞自动更新
set sillyGirl auto_update true
傻妞内置赞赏码
set sillyGirl appreciate https://gitee.com/aiancandle/sillyGirl/raw/main/appreciate.jpg
是否启动http服务
set sillyGirl enable_http_server false
设置青龙openapi的client_id参数
set qinglong client_id ?
设置青龙openapi的client_secret参数
set qinglong client_secret ?
青龙是否开启自动隐藏重复任务功能
set qinglong autoCronHideDuplicate true
设置青龙面板地址
set qinglong host http://127.0.0.1:5700
设置qq登录账号
set qq uin 10000
设置qq登录密码
set qq password 123456789
设置qq临时消息默认群号
set qq tempMessageGroupCode ?
指定要监听的qq群
set qq onGroups g1&g2&g3...
设置是否自动同意好友请求
set qq auto_friend false
设置是否对监听自身消息
set qq onself true
设置qq管理员
set qq masters q1&q2&q3...
设置接受通知的qq账号
set qq notifier q1&q2&q3...
设置qq设备信息(自动生成)
set qq device.json ?
设置qq登录令牌(自动生成)
set qq session.token ?
设置telegram机器人token
set tg token ?
设置telegram机器人代理
set tg http_proxy ?
设置telegram机器人管理员
set tg masters t1&t2&t3...
设置接受通知的telegram账号
set tg notifier t1&t2&t3...
设置微信公众平台app_id
set wxmp app_id ?
设置微信公众平台app_secret
set wxmp app_secret ?
设置微信公众平台token
set wxmp token ?
设置微信公众平台encoding_aes_key
set wxmp encoding_aes_key ?
设置微信公众平台管理员
set wxmp masters w1&w2&w3...
傻妞内置微信插件，依赖于可爱猫和http-sdk
傻妞远程处理接口 /wx/receive
设置插件调用地址，确保傻妞可以访问可爱猫端口
set wx api_url ?
设置图片转发模式，否则可能会出现此图片来自xx未经允许不得使用的提示
set wx relay_mode true
设置指定转发地址，格式为 https://域名/relay?url=%s，不知道不用填
set wx relaier ?
设置傻妞是否动态网络地址，适用于傻妞家庭宽带而可爱猫在云服务器的情况下
set wx sillyGirl_dynamic_ip true
设置可爱猫是否动态网络地址，适用于可爱猫家庭宽带而傻妞在云服务器的情况下
set wx keaimao_dynamic_ip true
设置可爱猫端口
set wx keaimao_port ?
```



## 对接QQ 微信 tg

```bash
# 设置qq管理员
set qq masters ?
# 设置接受通知的qq账号，默认管理员接受
set qq notifier ?
# 设置qq群号，不指定则监听所有群
set qq groupCode 群号，?：set qq groupCode 654321
# QQ机器人自动通过好友申请请求命令，默认不处理。通过后会将事件推送给管理员。
set qq auto_friend true
# 指定系统通知发送对象命令，如不设置默认发送给所有管理员。
set [im type] notifiers [accounts join by '&'] 
# 设置telegram机器人管理员
set tg masters ?
# 设置接受通知的telegram账号，默认管理员接受
set tg notifier ?
# 设置Telegram bot 代理命令
set tg url xxxxx
# 设置微信公众平台管理员
set wxmp masters ?
# 设置微信管理员
set wx masters ?
# 查询群号
groupCode
# 升级傻妞
升级/更新
# 关闭傻妞自动回复
set qq onself false
# 重启傻妞，自动静默运行
重启
# 注销qqbot命令
delete qq session.token #重新运行扫码重新即可。
# 重启并静默运行
# 获取傻妞的命令列表
命令
# 解决开机自启和崩溃重启
守护傻妞
# 关闭守护模式
systemctl disable sillyGirl #守护模式会导致没法自动升级
# 打赏：会返回打赏码，方便大家咨询问题
set sillyGirl appreciate [自己的打赏码地址] #当然，你也可以换成自己的打赏码，但不是很建议
# 禁用自动更新指令
set sillyGirl auto_update false
# 傻妞忽略通知命令，默认忽略。
set sillyGirl ignore_notify true
# 傻妞开启http服务，默认关闭
set sillyGirl enable_http_server true #使用微信公众号、短网址服务的朋友需要开启。
# 返利间谍模式
set qq spy_on ?
# 管理员推送绑定pushplus指令
set sillyGirl pushplus [token]
# 关键词撤回功能
set sillyGirl recall 关键词1&关键词2... #关键词支持正则表达式。
# 关键词回复功能
set reply ? ? #第一个问号是支持正则的关键词，第二个问号是回复的内容。
# 屏蔽京东口令小妙招
set sillyGirl recall [\s\S]*[^0-9a-zA-Z=][0-9a-zA-Z]{14}[^0-9a-zA-Z;][\s\S]*
# 遇见傻妞被被杀死，请执行命令
systemctl stop sillyGirl && systemctl disable sillyGirl
```

## 对接青龙

```bash
# 对接青龙
set qinglong host http://xxxxxx:xx ##一定要加"http://"，我第一次没加，就翻车了。
set qinglong client_id xxxxxx ##第一步创建青龙应用获取的，直接复制粘贴
set qinglong client_secret xxxxx ##第一步创建青龙应用获取的，直接复制粘贴
# 使用命令
^ql\s+config$
^ql\s+envs$
^ql\s+env\s+get\s+(.+)$
^ql\s+env\s+find\s+(.+)$
^ql\s+env\s+set\s+(\S+)\s+(.+)$
^ql\s+env\s+remark\s+(\S+)\s+(.+)$
^ql\s+env\s+disable\s+(.+)$
^ql\s+env\s+enable\s+(.+)$
^ql\s+crons$
^ql\s+cron\s+status\s+(.+)$
^ql\s+cron\s+run\s+(.+)$
^ql\s+cron\s+stop\s+(.+)$
^ql\s+cron\s+enable\s+(.+)$
^ql\s+cron\s+disable\s+(.+)$
^ql\s+cron\s+find\s+(.+)$
^ql\s+cron\s+logs\s+(.+)$
^ql\s+cron\s+hide\s+duplicate$
# cookie状态查询命令
ql cookie status 
# 下载单个脚本
ql raw ?
# 运行脚本
ql task ?
# 拉库指令
ql repo ? 例：ql repo https://github.com/cdle/carry.git
#关闭自动隐藏任务命令：
set qinglong autoCronHideDuplicate false
```

## 对接芝士

```bash
^jd\s+asset\s+(.+)$ ^查询 (\S+)$
# 资产推送$
资产推送 #会根据绑定的qq一对一推送
# 资产推送定时
九点例子： set jd_cookie asset_push 0 9 * * * ，包括失效提醒。
# 查询资产 
查询or查询 [序号] #命令"查询"绑定账号资产命令；命令"查询 1"，查询指定账号资产，注意空格，顺序为青龙的ck排序，支持匹配绑定的社交账号
# 获取绑定的社交账号
jd imOf [ck或pt_pin] 。
# 查询今日豆子变化
^jd\s+today\s+bean[(](\S+)[)]$
# 查询昨日豆子变化
^jd\s+yestoday\s+bean[(](\S+)[)]$
# 查询豆子变化
^jd\s+bean[(](\S+)[)]$
# wskey转换
更新狗东账号 #转换 wskey 到 cookie
^jd\s+eueu\s+(.+)$
^jd\s+find\s+(.+)$
^jd\s+exchange\s+(\S+)\s+(.+)$
^jd\s+enable\s+(.+)$
^jd\s+disable\s+(.+)$
^jd\s+remark\s+(\S+)\s+(.+)$
# JD账号绑定qq号码
set pinQQ pt_pin qq号码，?：set pinQQ jd_xxxxxx 123456
# 取消JD账号绑定qq号码
delete pinQQ pt_pin，?：delete pinQQ jd_xxxxxx
# 解绑im账号 对应的所有京东账号：
jd unbind im，?：jd unbind 10000
# JD账号绑定TG账号（可由）
set pinTG pt_pin TGID（找getmyid获取）
# 取消JD账号绑定TG账号
delete pinTG pt_pin
# 设置wskey自动转cooke定时：
set jdWSCK update 56 * * * *
# 解绑京东账号
jd unbind 可以解绑名下所有京东账号
#给绑定该京东账号的社交账号发送消息
jd send pt_pin msg ,pt_pin填all则发给所有。
# ck提交
pt_key=([^;=\s]+);\s*pt_pin=([^;=\s]+) 例：直接发抓到的ck，格式参考命令
# wskey提交
pin=([^;=\s]+);\s*wskey=([^;=\s]+) 例：直接发抓到的ck，格式参考命令
# 限制查询频率
set jd_cookie query_wait_time [限制秒数] 例:set jd_cookie query_wait_time 60
# 设置阿东登录地址
set jd_cookie adong_addr 阿东ip:端口
# 设置阿东qq机器人账号
set jd_cookie selfQid 机器人qq账号
# 登录狗东账号
登录或登陆 
# 退出狗东登录
q或退出登陆
# 删除阿东地址 
delete jd_cookie adong_addr 例：delete jd_cookie adong_addr 127.0.0.1:5701
# 给绑定该京东账号的社交账号发送消息
jd send pt_pin msg #pt_pin填all则发给所有。
# 解锁内测功能
申请内测 #打赏作者进内测群，请打出“申请内测”。需要set tg masters [myuid]。没有用tg的，请在/etc/sillyGirl/sets.conf加上一行命令。
```

## 对接阿东

```bash
    # 设置阿东登陆地址
    set jd_cookie adong_addr 阿东ip:端口 例：set jd_cookie adong_addr 192.168.1.1:5702
    #不需要http://前缀！！！ 不需要http://前缀！！！ 不需要http://前缀！！！ 重要事情说三遍！！！
    # 设置登录坑位
    set jd_cookie login_num ?
    # 设置阿东qq机器人
    set jd_cookie selfQid 机器人qq账号 例：set jd_cookie selfQid 5875632147
    #这里的机器人qq账号，请务必和阿东go-cqhttp配置中config.yml里qq一样。
    # 解绑阿东域名
    delete jd_cookie adong_addr
    #使用命令：
    1、“登录”或“登陆”：登录某东
    2、“q“：退出登录
```

## 对接小爱同学

```bash
# 小爱同学，可以指定API，对小爱说对话模式即可开启连续对话模式，闭嘴可关闭。
set sillyGirl 小爱同学 http://81.70.100.130/api/xiaoai.php?msg=%s&n=text #挂了就自己换
set sillyGirl 小爱同学 http://jiuli.xiaoapi.cn/i/xiaoai_tts.php?msg=%s #挂了就自己换
# 处理json格式数据的小爱api，不填获取整个文本
set sillyGirl 小爱同学gjson text
# 删除处理json格式数据的小爱api
silly delete 小爱同学gjson
# 使用方法：
1、唤起小爱：发送“小爱+想说的话”，例如：小爱今天天气。
2、对话模式：发送“小爱对话模式”开启，发送“闭嘴”结束。
3、成语接龙：发送“成语接龙”开始。这个可应该不是小爱同学的功能，但我懒得单独写它了。
```

## 傻妞脚本

```javascript
// [rule: ^demo(.*)$] 使用正则匹配,括号中为期望匹配的值
// [rule: demo ?] 使用问号匹配
// [rule: demo] 直接匹配
// [cron: 36 11,17 * * *] 定时任务
// [admin: true] 是否只允许管理员使用
// [disable: false] 是否禁用
// [priority: 10] 匹配优先级
// [server: 1 ] 如果不指定rule和cron时,设置为非空则指定为一个空服务,否则这个js不会加载
//上下文获取
param(n)//获取rule中期望捕获的第n个字符串,中文需要使用 encodeURI(param(n))
ImType()//聊天来源类型如:qq,wx等,其中fake为特殊调用可能为cron调用
GetUserID()//发送人用户id
GetUsername()//发送人昵称
GetChatID()//群号
GetChatname()//群名
GetContent()//获取接受到的消息
isAdmin()//发送人是否管理员
//系统功能相关
cancall(name)//返回特殊调用的函数
call(name,value)//特殊调用
Debug(log)//打印日志
sleep(millisecond)//休眠
GroupBan(uid, time)//群禁言,需要在群聊才可用
GroupKick(uid, reject)//群踢人,reject为是否拉黑名单,需要在群聊才可用
request({
        url:"",//必须
        method:"",//get,post,put,delete,可选,默认get
        headers:{},//可选
        body:"",//可选
        dataType:"",//location=>重定向url,json=>尝试解析为对象,否则为body字符串,可选
        useproxy:false,//可选
})//发送请求
//存储相关 sillyGirl存储结构为 {mainKey1:{key1:value,key2:value},mainKey2:{key1:value,key2:value}}}
bucketGet(mainKey,key)//取值
bucketSet(mainKey,key,value)//存值
    bucketKeys(mainKey)//获取所有key名称
    get(key)//同bucketGet("otto",key)
    set(key,value)//同bucketSet("otto",key,value)
    //消息相关
    input(time /*[,str]*/)//等待下一个消息,str不为空时可接受其他群的消息 str可选
    breakIn(str)//生成一个新的消息向下传递,可以被所有命令处理(包括当前js,所以需要防止递归)
    Continue()//消息继续向下传递，可以被其他命令处理
    Delete()//撤回接受到的这条消息
    image(string)//图片地址转可拼接消息字符串
    push({
        imType:string,//发送到指定渠道,如qq,wx,必须有
        userID:"",//groupCode不为0时为@指定用户,可选
        groupCode:"",//可选
        content:string,//发送消息
        })//给指定im发送消息
notifyMasters(string)//通知管理员
sendText(string)//发送文本
sendImage(url)//发送图片
sendVideo(url)//发送视频
```



