---
title: 位置与几何关系分析
date: 2021-11-11 09:50:49
tags: GIS空间分析
categories: [GIS,GIS空间分析,位置与几何关系分析]
description: 空间几何关系即是由空间目标几何特征所引起或决定的空间关系。即与空间目标的位置、形状、距离、方位等基本几何特征相关联的空间关系
---

## 邻近分析

邻近度：表达空间目标**距离关系**的重要物流量之一，表示地理空间中目标地物**距离相近**的程度

### <span id="缓冲区">缓冲区分析</span>

1. #### 缓冲区、缓冲区分析

   缓冲区：为识别**地理实体或空间物体(点、线、面)**对周围地物的**影响度**而建立的具有一定宽度的带状区域，**不包含原来点、线或面要素**的多边形

   + 点、线、面要素缓冲区
   + 均质缓冲区
   + 非均质缓冲区

   缓冲区分析：对一组或一类地物按照缓冲的**距离**条件，建立缓冲，从而实现空间数据在**二维空间得以扩展**，来**确定分析对象或筛选范围的**信息分析方法

2. #### 缓冲区类型

   基于点要素的缓冲区：

   > 通常以点为圆心、以一定距离为半径的圆

   基于线要素的缓冲区：

   > 通常是以线为中心轴线，距中心轴线一定距离的平行条带多边形

   基于面要素的缓冲区：

   > 向外或内扩展一定距离以生成新的多边形

   缓冲区分析三要素：

   + 主体：表示分析的主要目标，一般分为点源、线源、和面源三类
   + 邻近对象：表示受主体影响的客体，例如行政界限变更时所影响的水土流失范围等
   + 对象的作用条件：表示主体邻近对象施加作用的影响条件或影响强度

3. #### 缓冲区实现的基本算法

4. #### <span id="缓冲区分析应用">缓冲区分析应用</span>

   ##### 1. 案例一

   实习背景

   > 如何找到环境好、购物方便、小孩上学方便的居住区地段是购房者最关心的问题，因此，为了辅助购房者的决策，需要从总体上对商品房的信息进行研究分析，**找出满足购房者需要的区域**，并对**城市区域住房条件分定等级**。

   所寻求的区域应满足：

   > 离主要交通要道200米之外，以减少噪音污染(ST为道路数据中的类型为交通要道要素)；
   > 在商业中心服务范围之内，服务范围以商业中心700米之内；
   > 距名牌高中750米之内，以便小孩上学便捷；
   > 距名胜古迹500米之内，环境优雅

   步骤：

   > 1. 交通网络图层栅格查询选择出市区的主要交通道路
   > 2. 对选择的主干道进行缓冲区建立，指定缓冲区半径为200米
   > 3. 建立商业中心缓冲区，缓冲半径为700米
   > 4. 建立名胜古迹缓冲区，缓冲半径为500米
   > 5. 建立名牌高中缓冲区，缓冲半径为750米
   > 6. 对商业中心缓冲区、名牌高中缓冲区、名胜古迹缓冲区进行叠置分析的交集操作
   > 7. 用主干道缓冲区对获得的三个区域的交集进行图层擦除，得到满足购房需求的区域
   
   > 1. 对前四个缓冲区添加字段，主干道缓冲区字段值赋值-1，另三个图层赋值为1
   > 2. 将四个图层进行合并，连接全部字段
   > 3. 打开生成图层的属性列表，添加分类字段并计算4个字段的和进行分定等级
   > 4. 设置分级显示图层，完成住房条件分定等级
   
   ##### 2. 案例二
   
     获准在某林区采伐，为防止水土流失，规定不得在河流周围1km内采伐林木。另外，为便于运输，决定将采伐区定在道路周围5km 之内。请找出符合上逑条件的采伐区，输出森林采伐图。
   
     > (1)将该地区具有相同比例尺且进行配准的道路分布图﹑河流分布图﹑森林分布图，进行预处理和数字化;
     > (2)利用河流分布图生成1km 的等距缓冲区;
     >
     > (3)利用道路分布图生成5km的等距缓冲区;
     > (4)森林分布图中可采伐林地﹑道路缓冲区及河流缓冲区图进行叠置，叠置条件表达式为:采伐区=森林分布图中可伐林地∩道路周围5km缓冲区∩非河流周围1km缓冲区
     > (5)将上逑3张图进行两两叠置,所得结果即为森林采伐图

### <span id="泰森多边形">泰森多边形分析</span>

1. 定义

   > 由**点图层**生成其**近邻多边形图层**，来表示该标识点的影响范围,
   > 确保在一个多边形内的每个采样点与该多边形内的已知点更接近
   > 而与其他的已知点相距较远，是**局部拟合插值法**的一种。每个
   > 点对应一个新生成的多边形，该输入点作为多边形的标识点，**相**
   > **邻标识点到其“公共边”的距离相等**

2. 实现过程

   > 由输入点相连生成三角网
   > 对每个三角形的边作垂直平分线;删除原三角形
   > 而每个输入点作为多边形的标识点,垂直平分线作为泰森多边形的边

3. 应用与特点分析

   特点：

   + 多边形的多少取决于采样点的数量
   + 多边形的面积和形状取决于样本点的分布
   + 多边形的属性来源于单个采样点，与其他点无关
   + 泰森多边形内部的均质与边界的突变

   应用：

   + 大气质量评估与污染气体分布

## <span id="叠加分析">叠置分析</span>

### 定义

综合不同图层、可能改变图层内空间要素的分析方法。指**同一地区、同种参考系统(坐标系统，分带与基准面)下**的两组或两组以上要素的数据文件进行叠置，根据两组的属性来建立具有**多重属性的多边形**或进行多边形范围内的属性特性的统计分析。

### 目的

**寻找和确定同时具有多种地理属性的分布区域**

### 矢量数据的叠置分析及问题

#### 点面叠置

![点面叠置](https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20211111153942.png)

> 应用

+ 得到某省内雨量站点的个数

+ 某水文站点属于哪个行政区划

+ 城市邮局分布密度

#### 线面叠置

![线面叠置](https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20211119152726.png)

> ​	应用

+ 某省区内高速公路的长度
+ 某段公路属于哪个行政区划
+ 城市的河网密度
+ 某条河流流经行政区

#### 面面叠置

![面面叠置](https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20211111184045.png)

> 应用

+ 某省区内有哪几种土地利用类型
+ 不同级别的灾害分区的植被覆盖情况
+ 某行政区划内的地层岩性分布情况

### 基本方法

#### 图层合并

并集：保留两个输入层中所有多边形

![图层合并](https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20211111185938.png)

#### 交集操作

交集：保留两个输入层中的公共区域

![交集](https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20211111190005.png)

#### 图层擦除

![擦除](https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20211111190036.png)

#### 识别叠加

> 以输入图层为界，保留边界内的所有多边形

![识别叠加](https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20211111190240.png)

#### 对称差值

#### 修正更新

> 输出层为一个经删除处理后的图层与一个新特征图层进行合并后的结果

![修正更新](https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20211111190437.png)

#### 裁剪

> 输出层为按一个图层的边界，对另外一个图层的内容要素进行截取后的结果

![擦除](https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20211111190621.png)

#### 交集取反

> 保留两个输入层中的公共区域的反

![交集取反](https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20211111191207.png)

## 栅格数据分析

### <span id="距离分析">距离分析</span>

1. 源栅格

   > 源即距离分析中的目标或目的地

2. 成本栅格

   > 记录了通过每一单元的通行成本

3. 成本距离

   > 记录每个栅格到距离最近、成本最低的源的最少累加成本

4. 方向栅格

   > 从每一单元出发，沿着最低累计成本路径到达最近源的路线方向

5. 分配栅格

   > 记录每一单元点隶属的最近源信息，单元值就是其最近源的值

6. 直线距离

   > 通过直线距离函数，计算每个栅格与最近源之间的欧氏距离，并按距离远近分级

7. 最短路径

   > 通过最短路径函数获取从一个起点或一组起点出发，到达一个目标地或一组目标地的最短直线路径或最小成本路径

![](https://note-1306141435.cos.ap-beijing.myqcloud.com/img/20211122123502.png)

### 密度分析

针对一些点要素（或线要素）的特征值（如人口数）并不是集中在点上（或线上）的特点，对要素的特征值进行空间分配，从而更加真实地反映要素的分布

#### 1. 简单密度

#### 2.核密度

### <span id="统计分析">统计分析</span>

#### 1. 单元统计

以**栅格单元为单位**来进行单元统计分析，单元统计输入数据集必须是来源于同一个地理区域，并且采用相同的坐标系统

#### 2.领域统计

邻域统计是以待计算栅格为中心，向其周围扩展**一定邻域**，在单元对应的**邻域范围指定的单元上**进行统计分析，然后将结果值输出到该单元位置

> 四种领域分析窗口：矩形领域、圆形领域、环形领域、扇形领域

#### 3.分区统计

分区统计，即以一个数据集的**分区为基础**，对另一个数据集进行统计分析，包括计算数值范围、最大值、最小值、标准差等等。分区统计是在每一个分区的基础上进行统计，输出结果时**同一分区被赋予相同的单一输出统计值**

一个分区就是在栅格数据中拥有相同值的栅格单元，而**不考虑他们是否邻近**

### <span id="重分类">重分类分析</span>

重分类是将**属性数据的类别转换成新类**，即基于栅格数据原有数值类型，对原有数值类型按照一定的原则重新进行分类，从而得到**一组新值**并输出

重分类过程

+ 新值替换：用一组新值取代栅格数据原来一组数值
+ 重新分类：将原来几个数值重新组合成一个新的数值
+ 旧值合并：用一个新值取代栅格数据原来一段数值区间或几类数值
+ 空值设置：将栅格数据原来某个数值统一设置为空值

### <span id="地图代数">栅格计算(地图代数)</span>

> 两个以上层面的栅格数据系统，以**某种函数关系**作为复合分析的依据进行**逐网格运算**，从而得到新的栅格数据系统的过程

1. 代数运算

   > 加减乘除、取整

2. 逻辑运算

   > 关系、布尔
