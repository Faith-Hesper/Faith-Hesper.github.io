import{r as l,P as e,q as a,a as s,c as u,w as _,g as t,i as c,o as d,b as f,u as i,d as w,e as o,t as r,F as n,h as v,K as m,v as b,Q as p,j as h,k as x,x as y,G as k,M as Y}from"./index-BrufAkfy.js";import{a as j,_ as M}from"./counter.NN__vUGj.js";import{_ as g,o as q,r as C}from"./uni-app.es.BDelRtJL.js";import{_ as N,a as F,U as z}from"./uqrcode.bREo767u.js";import{_ as I}from"./modal_closer.DtdM0G4E.js";const P=g({__name:"order",setup(g){q((l=>{T(l)}));const P=t(),A=l({}),D=e((()=>({"待支付":"10","待服务":"20","已完成":"30","已取消":"40"}[A.value.trade_state]))),G=()=>{T()},K=l(),O=()=>{K.value.open("center");const l=new z;l.data=A.value.code_url,l.size=150,l.make();var e=m("qrcode");l.canvasContext=e,l.drawCanvas()},Q=()=>{b({url:"../order/index"})},T=l=>{console.log(l,"params"),P.globalData.utils.request({url:"/order/detail",header:{token:a("token")},data:{oid:l.oid},success(l){A.value=l.data}})},U=l=>{p({phoneNumber:l.currentTarget.dataset.tel})};return(l,e)=>{const a=h,t=c,m=x,b=C(s("counter"),j),p=y,g=C(s("formater"),M),q=k,z=Y,P=C(s("uni-popup"),N);return d(),u(t,null,{default:_((()=>[f(t,{class:"od-banner"},{default:_((()=>[f(a,{class:"od-banner-icon",src:F,mode:"widthFix"}),f(t,{class:i("od-jd od-jd-"+D.value)},{default:_((()=>[f(t,{class:"od-jd-out"},{default:_((()=>[f(t,{class:"od-jd-in"})])),_:1}),f(t,{class:"vp-flex od-jd-text"},{default:_((()=>[f(t,{class:"vp-flex_1"},{default:_((()=>[f(m,{class:"od-jd-st-0"},{default:_((()=>[w("填写订单")])),_:1})])),_:1}),f(t,{class:"vp-flex_1"},{default:_((()=>[f(m,{class:"od-jd-st-10"},{default:_((()=>[w("在线支付")])),_:1})])),_:1}),f(t,{class:"vp-flex_1"},{default:_((()=>[f(m,{class:"od-jd-st-20"},{default:_((()=>[w("专人服务")])),_:1})])),_:1}),f(t,{class:"vp-flex_1"},{default:_((()=>[f(m,{class:"od-jd-st-30"},{default:_((()=>[w("服务完成")])),_:1})])),_:1})])),_:1})])),_:1},8,["class"])])),_:1}),f(t,{class:"order-status"},{default:_((()=>[10==D.value?(d(),o(n,{key:0},[f(t,null,{default:_((()=>[f(m,{class:"od-st"},{default:_((()=>[w("订单待支付")])),_:1})])),_:1}),f(t,{class:"od-stt"},{default:_((()=>[w(" 请在 "),f(b,{style:{"font-size":"24rpx"},second:A.value._exp_time,onCounterOver:G},null,8,["second"]),w(" 内完成支付，超时订单自动取消 ")])),_:1}),f(t,{class:"od-op"},{default:_((()=>[f(p,{class:"btnp",onClick:O},{default:_((()=>[w("立即支付（"+r(A.value.price)+"元）",1)])),_:1})])),_:1})],64)):v("",!0),20==D.value?(d(),o(n,{key:1},[0==A.value.service_state?(d(),o(n,{key:0},[f(t,null,{default:_((()=>[f(m,{class:"od-st"},{default:_((()=>[w("正在为您安排服务专员...")])),_:1})])),_:1}),f(t,{class:"od-stt"},{default:_((()=>[w("请保持手机畅通，稍后将有服务专员与您联系")])),_:1})],64)):v("",!0),1==A.value.service_state?(d(),o(n,{key:1},[f(t,null,{default:_((()=>[f(m,{class:"od-st"},{default:_((()=>[w("服务进行中")])),_:1})])),_:1}),f(t,{class:"od-stt"},{default:_((()=>[w("已安排服务专员，将于预约时间进行服务")])),_:1})],64)):v("",!0)],64)):v("",!0),30==D.value?(d(),o(n,{key:2},[f(t,null,{default:_((()=>[f(m,{class:"od-st"},{default:_((()=>[w("服务已完成")])),_:1})])),_:1}),f(t,{class:"od-stt"},{default:_((()=>[w("感谢您的使用，如有售后问题请联系客服")])),_:1})],64)):v("",!0),40==D.value?(d(),o(n,{key:3},[f(t,null,{default:_((()=>[f(m,{class:"od-st"},{default:_((()=>[w("订单已取消")])),_:1})])),_:1}),f(t,{class:"od-stt"},{default:_((()=>[w("期待下次为您服务，如需帮助可咨询客服")])),_:1})],64)):v("",!0)])),_:1}),20==D.value?(d(),u(t,{key:0,class:"od-box"},{default:_((()=>[f(t,{class:"weui-cells"},{default:_((()=>[f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label od-box-tt"},{default:_((()=>[w("本次服务专员")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"})])),_:1}),f(t,{class:"weui-cell od-staff"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,null,{default:_((()=>[f(a,{src:A.value._staff.avatar_url,mode:"aspectFill",class:"od-staff-avatar"},null,8,["src"])])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value._staff.nickname),1)])),_:1})])),_:1}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[f(p,{class:"btn1m",onClick:U,"data-tel":A.value._staff.mobile},{default:_((()=>[w("电话联系")])),_:1},8,["data-tel"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):v("",!0),f(t,{class:"od-box"},{default:_((()=>[f(t,{class:"weui-cells"},{default:_((()=>[f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label od-box-tt"},{default:_((()=>[w("预约信息")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("预约服务")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.service_name),1)])),_:1})])),_:1})])),_:1}),A.value.service_stype<=20?(d(),o(n,{key:0},[f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("就诊医院")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.hospital_name),1)])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("期望就诊时间")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[f(g,{timestamp:A.value.starttime,format:"YYYY-MM-dd hh:mm"},null,8,["timestamp"])])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("就诊人")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.client_name)+" "+r(1==A.value.client_sex?"男":"女")+" "+r(A.value.client_age)+"周岁",1)])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("就诊人电话")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.tel),1)])),_:1})])),_:1})])),_:1}),15==A.value.service_stype?(d(),u(t,{key:0,class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("接送地址")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.receiveAddress),1)])),_:1})])),_:1})])),_:1})):v("",!0)],64)):v("",!0),A.value.service_stype>20&&A.value.service_stype<100?(d(),o(n,{key:1},[f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("所在医院")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.hospital_name),1)])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("期望处理时间")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[f(g,{timestamp:A.value.starttime,format:"YYYY-MM-dd hh:mm"},null,8,["timestamp"])])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("收件人")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.address.userName)+" "+r(A.value.address.telNumber),1)])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("收件地址")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.address.cityName)+r(A.value.address.countyName)+r(A.value.address.detailInfo),1)])),_:1})])),_:1})])),_:1})],64)):v("",!0),A.value.service_stype>100?(d(),o(n,{key:2},[f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("期望服务时间")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[f(g,{timestamp:A.value.starttime,format:"YYYY-MM-dd hh:mm"},null,8,["timestamp"])])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("服务对象")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.client_name)+" "+r(1==A.value.client_sex?"男":"女")+" "+r(A.value.client_age)+"周岁",1)])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("服务对象电话")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.client_mobile),1)])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("服务地址")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.address.address),1)])),_:1})])),_:1})])),_:1})],64)):v("",!0),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("其他需求")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.demand),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),f(t,{class:"od-box"},{default:_((()=>[f(t,{class:"weui-cells"},{default:_((()=>[f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label od-box-tt"},{default:_((()=>[w("订单信息")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("联系电话")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.tel),1)])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("下单时间")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[f(g,{timestamp:A.value.order_start_time,format:"YYYY-MM-dd hh:mm"},null,8,["timestamp"])])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("应付金额")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.price)+"元",1)])),_:1})])),_:1})])),_:1}),20==D.value?(d(),o(n,{key:0},[f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("实付金额")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[w(r(A.value.price)+"元",1)])),_:1})])),_:1})])),_:1}),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("付款时间")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,null,{default:_((()=>[f(g,{timestamp:A.value.pay_time,format:"YYYY-MM-dd hh:mm"},null,8,["timestamp"])])),_:1})])),_:1})])),_:1})],64)):v("",!0),f(t,{class:"weui-cell"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("订单编号")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft"},{default:_((()=>[f(t,{class:"color_click"},{default:_((()=>[w(r(A.value.out_trade_no),1)])),_:1})])),_:1})])),_:1}),f(q,{class:"weui-cell weui-cell_access",url:"../index/server"},{default:_((()=>[f(t,{class:"weui-cell__hd"},{default:_((()=>[f(t,{class:"weui-label"},{default:_((()=>[w("联系客服")])),_:1})])),_:1}),f(t,{class:"weui-cell__bd"}),f(t,{class:"weui-cell__ft weui-cell__ft_in-access"},{default:_((()=>[w("疑问或投诉")])),_:1})])),_:1})])),_:1})])),_:1}),f(P,{ref_key:"qrcodePopup",ref:K,type:"center","is-mask-click":!1,"background-color":"#fff"},{default:_((()=>[f(t,{class:"pay-box"},{default:_((()=>[f(a,{onClick:Q,src:I,style:{display:"block",width:"30rpx",height:"30rpx"}}),f(t,{class:"text-center"},{default:_((()=>[w("微信支付")])),_:1}),f(z,{id:"qrcode","canvas-id":"qrcode",style:{width:"300rpx",height:"300rpx"}}),f(t,{class:"text-center"},{default:_((()=>[w("请用本人微信扫描以上二维码")])),_:1})])),_:1})])),_:1},512)])),_:1})}}},[["__scopeId","data-v-4beb413e"]]);export{P as default};
