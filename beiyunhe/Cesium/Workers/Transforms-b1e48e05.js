define(["exports","./Cartesian3-e96ac170","./Ellipsoid-fa58f06f","./defaultValue-9f6a6288","./defined-64766648","./GeographicProjection-868b0b16","./Math-56779564","./Matrix3-59918a96","./Matrix2-e52b9454","./Cartesian2-0a34ed75","./Resource-be841477","./RuntimeError-cfbf2bc8"],(function(e,n,t,a,r,i,s,o,u,l,c,d){"use strict";var f=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});function m(e,n){this.start=a.defaultValue(e,0),this.stop=a.defaultValue(n,0)}function p(e,t){this.center=n.Cartesian3.clone(a.defaultValue(e,n.Cartesian3.ZERO)),this.radius=a.defaultValue(t,0)}const C=new n.Cartesian3,y=new n.Cartesian3,h=new n.Cartesian3,w=new n.Cartesian3,x=new n.Cartesian3,g=new n.Cartesian3,S=new n.Cartesian3,E=new n.Cartesian3,M=new n.Cartesian3,_=new n.Cartesian3,O=new n.Cartesian3,D=new n.Cartesian3,T=4/3*s.CesiumMath.PI;p.fromPoints=function(e,t){if(r.defined(t)||(t=new p),!r.defined(e)||0===e.length)return t.center=n.Cartesian3.clone(n.Cartesian3.ZERO,t.center),t.radius=0,t;const a=n.Cartesian3.clone(e[0],S),i=n.Cartesian3.clone(a,C),s=n.Cartesian3.clone(a,y),o=n.Cartesian3.clone(a,h),u=n.Cartesian3.clone(a,w),l=n.Cartesian3.clone(a,x),c=n.Cartesian3.clone(a,g),d=e.length;let f;for(f=1;f<d;f++){n.Cartesian3.clone(e[f],a);const t=a.x,r=a.y,d=a.z;t<i.x&&n.Cartesian3.clone(a,i),t>u.x&&n.Cartesian3.clone(a,u),r<s.y&&n.Cartesian3.clone(a,s),r>l.y&&n.Cartesian3.clone(a,l),d<o.z&&n.Cartesian3.clone(a,o),d>c.z&&n.Cartesian3.clone(a,c)}const m=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(u,i,E)),T=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(l,s,E)),P=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(c,o,E));let A=i,R=u,I=m;T>I&&(I=T,A=s,R=l),P>I&&(I=P,A=o,R=c);const N=M;N.x=.5*(A.x+R.x),N.y=.5*(A.y+R.y),N.z=.5*(A.z+R.z);let z=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(R,N,E)),U=Math.sqrt(z);const b=_;b.x=i.x,b.y=s.y,b.z=o.z;const F=O;F.x=u.x,F.y=l.y,F.z=c.z;const q=n.Cartesian3.midpoint(b,F,D);let W=0;for(f=0;f<d;f++){n.Cartesian3.clone(e[f],a);const t=n.Cartesian3.magnitude(n.Cartesian3.subtract(a,q,E));t>W&&(W=t);const r=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(a,N,E));if(r>z){const e=Math.sqrt(r);U=.5*(U+e),z=U*U;const n=e-U;N.x=(U*N.x+n*a.x)/e,N.y=(U*N.y+n*a.y)/e,N.z=(U*N.z+n*a.z)/e}}return U<W?(n.Cartesian3.clone(N,t.center),t.radius=U):(n.Cartesian3.clone(q,t.center),t.radius=W),t};const P=new i.GeographicProjection,A=new n.Cartesian3,R=new n.Cartesian3,I=new t.Cartographic,N=new t.Cartographic;p.fromRectangle2D=function(e,n,t){return p.fromRectangleWithHeights2D(e,n,0,0,t)},p.fromRectangleWithHeights2D=function(e,t,i,s,o){if(r.defined(o)||(o=new p),!r.defined(e))return o.center=n.Cartesian3.clone(n.Cartesian3.ZERO,o.center),o.radius=0,o;t=a.defaultValue(t,P),l.Rectangle.southwest(e,I),I.height=i,l.Rectangle.northeast(e,N),N.height=s;const u=t.project(I,A),c=t.project(N,R),d=c.x-u.x,f=c.y-u.y,m=c.z-u.z;o.radius=.5*Math.sqrt(d*d+f*f+m*m);const C=o.center;return C.x=u.x+.5*d,C.y=u.y+.5*f,C.z=u.z+.5*m,o};const z=[];p.fromRectangle3D=function(e,i,s,o){if(i=a.defaultValue(i,t.Ellipsoid.WGS84),s=a.defaultValue(s,0),r.defined(o)||(o=new p),!r.defined(e))return o.center=n.Cartesian3.clone(n.Cartesian3.ZERO,o.center),o.radius=0,o;const u=l.Rectangle.subsample(e,i,s,z);return p.fromPoints(u,o)},p.fromVertices=function(e,t,i,s){if(r.defined(s)||(s=new p),!r.defined(e)||0===e.length)return s.center=n.Cartesian3.clone(n.Cartesian3.ZERO,s.center),s.radius=0,s;t=a.defaultValue(t,n.Cartesian3.ZERO),i=a.defaultValue(i,3);const o=S;o.x=e[0]+t.x,o.y=e[1]+t.y,o.z=e[2]+t.z;const u=n.Cartesian3.clone(o,C),l=n.Cartesian3.clone(o,y),c=n.Cartesian3.clone(o,h),d=n.Cartesian3.clone(o,w),f=n.Cartesian3.clone(o,x),m=n.Cartesian3.clone(o,g),T=e.length;let P;for(P=0;P<T;P+=i){const a=e[P]+t.x,r=e[P+1]+t.y,i=e[P+2]+t.z;o.x=a,o.y=r,o.z=i,a<u.x&&n.Cartesian3.clone(o,u),a>d.x&&n.Cartesian3.clone(o,d),r<l.y&&n.Cartesian3.clone(o,l),r>f.y&&n.Cartesian3.clone(o,f),i<c.z&&n.Cartesian3.clone(o,c),i>m.z&&n.Cartesian3.clone(o,m)}const A=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(d,u,E)),R=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(f,l,E)),I=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(m,c,E));let N=u,z=d,U=A;R>U&&(U=R,N=l,z=f),I>U&&(U=I,N=c,z=m);const b=M;b.x=.5*(N.x+z.x),b.y=.5*(N.y+z.y),b.z=.5*(N.z+z.z);let F=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(z,b,E)),q=Math.sqrt(F);const W=_;W.x=u.x,W.y=l.y,W.z=c.z;const V=O;V.x=d.x,V.y=f.y,V.z=m.z;const B=n.Cartesian3.midpoint(W,V,D);let v=0;for(P=0;P<T;P+=i){o.x=e[P]+t.x,o.y=e[P+1]+t.y,o.z=e[P+2]+t.z;const a=n.Cartesian3.magnitude(n.Cartesian3.subtract(o,B,E));a>v&&(v=a);const r=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(o,b,E));if(r>F){const e=Math.sqrt(r);q=.5*(q+e),F=q*q;const n=e-q;b.x=(q*b.x+n*o.x)/e,b.y=(q*b.y+n*o.y)/e,b.z=(q*b.z+n*o.z)/e}}return q<v?(n.Cartesian3.clone(b,s.center),s.radius=q):(n.Cartesian3.clone(B,s.center),s.radius=v),s},p.fromEncodedCartesianVertices=function(e,t,a){if(r.defined(a)||(a=new p),!r.defined(e)||!r.defined(t)||e.length!==t.length||0===e.length)return a.center=n.Cartesian3.clone(n.Cartesian3.ZERO,a.center),a.radius=0,a;const i=S;i.x=e[0]+t[0],i.y=e[1]+t[1],i.z=e[2]+t[2];const s=n.Cartesian3.clone(i,C),o=n.Cartesian3.clone(i,y),u=n.Cartesian3.clone(i,h),l=n.Cartesian3.clone(i,w),c=n.Cartesian3.clone(i,x),d=n.Cartesian3.clone(i,g),f=e.length;let m;for(m=0;m<f;m+=3){const a=e[m]+t[m],r=e[m+1]+t[m+1],f=e[m+2]+t[m+2];i.x=a,i.y=r,i.z=f,a<s.x&&n.Cartesian3.clone(i,s),a>l.x&&n.Cartesian3.clone(i,l),r<o.y&&n.Cartesian3.clone(i,o),r>c.y&&n.Cartesian3.clone(i,c),f<u.z&&n.Cartesian3.clone(i,u),f>d.z&&n.Cartesian3.clone(i,d)}const T=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(l,s,E)),P=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(c,o,E)),A=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(d,u,E));let R=s,I=l,N=T;P>N&&(N=P,R=o,I=c),A>N&&(N=A,R=u,I=d);const z=M;z.x=.5*(R.x+I.x),z.y=.5*(R.y+I.y),z.z=.5*(R.z+I.z);let U=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(I,z,E)),b=Math.sqrt(U);const F=_;F.x=s.x,F.y=o.y,F.z=u.z;const q=O;q.x=l.x,q.y=c.y,q.z=d.z;const W=n.Cartesian3.midpoint(F,q,D);let V=0;for(m=0;m<f;m+=3){i.x=e[m]+t[m],i.y=e[m+1]+t[m+1],i.z=e[m+2]+t[m+2];const a=n.Cartesian3.magnitude(n.Cartesian3.subtract(i,W,E));a>V&&(V=a);const r=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(i,z,E));if(r>U){const e=Math.sqrt(r);b=.5*(b+e),U=b*b;const n=e-b;z.x=(b*z.x+n*i.x)/e,z.y=(b*z.y+n*i.y)/e,z.z=(b*z.z+n*i.z)/e}}return b<V?(n.Cartesian3.clone(z,a.center),a.radius=b):(n.Cartesian3.clone(W,a.center),a.radius=V),a},p.fromCornerPoints=function(e,t,a){r.defined(a)||(a=new p);const i=n.Cartesian3.midpoint(e,t,a.center);return a.radius=n.Cartesian3.distance(i,t),a},p.fromEllipsoid=function(e,t){return r.defined(t)||(t=new p),n.Cartesian3.clone(n.Cartesian3.ZERO,t.center),t.radius=e.maximumRadius,t};const U=new n.Cartesian3;p.fromBoundingSpheres=function(e,t){if(r.defined(t)||(t=new p),!r.defined(e)||0===e.length)return t.center=n.Cartesian3.clone(n.Cartesian3.ZERO,t.center),t.radius=0,t;const a=e.length;if(1===a)return p.clone(e[0],t);if(2===a)return p.union(e[0],e[1],t);const i=[];let s;for(s=0;s<a;s++)i.push(e[s].center);const o=(t=p.fromPoints(i,t)).center;let u=t.radius;for(s=0;s<a;s++){const t=e[s];u=Math.max(u,n.Cartesian3.distance(o,t.center,U)+t.radius)}return t.radius=u,t};const b=new n.Cartesian3,F=new n.Cartesian3,q=new n.Cartesian3;p.fromOrientedBoundingBox=function(e,t){r.defined(t)||(t=new p);const a=e.halfAxes,i=o.Matrix3.getColumn(a,0,b),s=o.Matrix3.getColumn(a,1,F),u=o.Matrix3.getColumn(a,2,q);return n.Cartesian3.add(i,s,i),n.Cartesian3.add(i,u,i),t.center=n.Cartesian3.clone(e.center,t.center),t.radius=n.Cartesian3.magnitude(i),t};const W=new n.Cartesian3,V=new n.Cartesian3;p.fromTransformation=function(e,t){r.defined(t)||(t=new p);const a=u.Matrix4.getTranslation(e,W),i=u.Matrix4.getScale(e,V),s=.5*n.Cartesian3.magnitude(i);return t.center=n.Cartesian3.clone(a,t.center),t.radius=s,t},p.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t.center=n.Cartesian3.clone(e.center,t.center),t.radius=e.radius,t):new p(e.center,e.radius)},p.packedLength=4,p.pack=function(e,n,t){t=a.defaultValue(t,0);const r=e.center;return n[t++]=r.x,n[t++]=r.y,n[t++]=r.z,n[t]=e.radius,n},p.unpack=function(e,n,t){n=a.defaultValue(n,0),r.defined(t)||(t=new p);const i=t.center;return i.x=e[n++],i.y=e[n++],i.z=e[n++],t.radius=e[n],t};const B=new n.Cartesian3,v=new n.Cartesian3;p.union=function(e,t,a){r.defined(a)||(a=new p);const i=e.center,s=e.radius,o=t.center,u=t.radius,l=n.Cartesian3.subtract(o,i,B),c=n.Cartesian3.magnitude(l);if(s>=c+u)return e.clone(a),a;if(u>=c+s)return t.clone(a),a;const d=.5*(s+c+u),f=n.Cartesian3.multiplyByScalar(l,(-s+d)/c,v);return n.Cartesian3.add(f,i,f),n.Cartesian3.clone(f,a.center),a.radius=d,a};const $=new n.Cartesian3;p.expand=function(e,t,a){a=p.clone(e,a);const r=n.Cartesian3.magnitude(n.Cartesian3.subtract(t,a.center,$));return r>a.radius&&(a.radius=r),a},p.intersectPlane=function(e,t){const a=e.center,r=e.radius,i=t.normal,s=n.Cartesian3.dot(i,a)+t.distance;return s<-r?f.OUTSIDE:s<r?f.INTERSECTING:f.INSIDE},p.transform=function(e,n,t){return r.defined(t)||(t=new p),t.center=u.Matrix4.multiplyByPoint(n,e.center,t.center),t.radius=u.Matrix4.getMaximumScale(n)*e.radius,t};const L=new n.Cartesian3;p.distanceSquaredTo=function(e,t){const a=n.Cartesian3.subtract(e.center,t,L),r=n.Cartesian3.magnitude(a)-e.radius;return r<=0?0:r*r},p.transformWithoutScale=function(e,n,t){return r.defined(t)||(t=new p),t.center=u.Matrix4.multiplyByPoint(n,e.center,t.center),t.radius=e.radius,t};const j=new n.Cartesian3;p.computePlaneDistances=function(e,t,a,i){r.defined(i)||(i=new m);const s=n.Cartesian3.subtract(e.center,t,j),o=n.Cartesian3.dot(a,s);return i.start=o-e.radius,i.stop=o+e.radius,i};const k=new n.Cartesian3,Y=new n.Cartesian3,Z=new n.Cartesian3,G=new n.Cartesian3,J=new n.Cartesian3,X=new t.Cartographic,H=new Array(8);for(let e=0;e<8;++e)H[e]=new n.Cartesian3;const Q=new i.GeographicProjection;let K;p.projectTo2D=function(e,t,r){const i=(t=a.defaultValue(t,Q)).ellipsoid;let s=e.center;const o=e.radius;let u;u=n.Cartesian3.equals(s,n.Cartesian3.ZERO)?n.Cartesian3.clone(n.Cartesian3.UNIT_X,k):i.geodeticSurfaceNormal(s,k);const l=n.Cartesian3.cross(n.Cartesian3.UNIT_Z,u,Y);n.Cartesian3.normalize(l,l);const c=n.Cartesian3.cross(u,l,Z);n.Cartesian3.normalize(c,c),n.Cartesian3.multiplyByScalar(u,o,u),n.Cartesian3.multiplyByScalar(c,o,c),n.Cartesian3.multiplyByScalar(l,o,l);const d=n.Cartesian3.negate(c,J),f=n.Cartesian3.negate(l,G),m=H;let C=m[0];n.Cartesian3.add(u,c,C),n.Cartesian3.add(C,l,C),C=m[1],n.Cartesian3.add(u,c,C),n.Cartesian3.add(C,f,C),C=m[2],n.Cartesian3.add(u,d,C),n.Cartesian3.add(C,f,C),C=m[3],n.Cartesian3.add(u,d,C),n.Cartesian3.add(C,l,C),n.Cartesian3.negate(u,u),C=m[4],n.Cartesian3.add(u,c,C),n.Cartesian3.add(C,l,C),C=m[5],n.Cartesian3.add(u,c,C),n.Cartesian3.add(C,f,C),C=m[6],n.Cartesian3.add(u,d,C),n.Cartesian3.add(C,f,C),C=m[7],n.Cartesian3.add(u,d,C),n.Cartesian3.add(C,l,C);const y=m.length;for(let e=0;e<y;++e){const a=m[e];n.Cartesian3.add(s,a,a);const r=i.cartesianToCartographic(a,X);t.project(r,a)}s=(r=p.fromPoints(m,r)).center;const h=s.x,w=s.y,x=s.z;return s.x=x,s.y=h,s.z=w,r},p.isOccluded=function(e,n){return!n.isBoundingSphereVisible(e)},p.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&n.Cartesian3.equals(e.center,t.center)&&e.radius===t.radius},p.prototype.intersectPlane=function(e){return p.intersectPlane(this,e)},p.prototype.distanceSquaredTo=function(e){return p.distanceSquaredTo(this,e)},p.prototype.computePlaneDistances=function(e,n,t){return p.computePlaneDistances(this,e,n,t)},p.prototype.isOccluded=function(e){return p.isOccluded(this,e)},p.prototype.equals=function(e){return p.equals(this,e)},p.prototype.clone=function(e){return p.clone(this,e)},p.prototype.volume=function(){const e=this.radius;return T*e*e*e};const ee={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},ne={};Object.defineProperties(ne,{element:{get:function(){if(ne.supportsFullscreen())return document[ee.fullscreenElement]}},changeEventName:{get:function(){if(ne.supportsFullscreen())return ee.fullscreenchange}},errorEventName:{get:function(){if(ne.supportsFullscreen())return ee.fullscreenerror}},enabled:{get:function(){if(ne.supportsFullscreen())return document[ee.fullscreenEnabled]}},fullscreen:{get:function(){if(ne.supportsFullscreen())return null!==ne.element}}}),ne.supportsFullscreen=function(){if(r.defined(K))return K;K=!1;const e=document.body;if("function"==typeof e.requestFullscreen)return ee.requestFullscreen="requestFullscreen",ee.exitFullscreen="exitFullscreen",ee.fullscreenEnabled="fullscreenEnabled",ee.fullscreenElement="fullscreenElement",ee.fullscreenchange="fullscreenchange",ee.fullscreenerror="fullscreenerror",K=!0,K;const n=["webkit","moz","o","ms","khtml"];let t;for(let a=0,r=n.length;a<r;++a){const r=n[a];t=`${r}RequestFullscreen`,"function"==typeof e[t]?(ee.requestFullscreen=t,K=!0):(t=`${r}RequestFullScreen`,"function"==typeof e[t]&&(ee.requestFullscreen=t,K=!0)),t=`${r}ExitFullscreen`,"function"==typeof document[t]?ee.exitFullscreen=t:(t=`${r}CancelFullScreen`,"function"==typeof document[t]&&(ee.exitFullscreen=t)),t=`${r}FullscreenEnabled`,void 0!==document[t]?ee.fullscreenEnabled=t:(t=`${r}FullScreenEnabled`,void 0!==document[t]&&(ee.fullscreenEnabled=t)),t=`${r}FullscreenElement`,void 0!==document[t]?ee.fullscreenElement=t:(t=`${r}FullScreenElement`,void 0!==document[t]&&(ee.fullscreenElement=t)),t=`${r}fullscreenchange`,void 0!==document[`on${t}`]&&("ms"===r&&(t="MSFullscreenChange"),ee.fullscreenchange=t),t=`${r}fullscreenerror`,void 0!==document[`on${t}`]&&("ms"===r&&(t="MSFullscreenError"),ee.fullscreenerror=t)}return K},ne.requestFullscreen=function(e,n){ne.supportsFullscreen()&&e[ee.requestFullscreen]({vrDisplay:n})},ne.exitFullscreen=function(){ne.supportsFullscreen()&&document[ee.exitFullscreen]()},ne._names=ee;var te=ne;let ae,re,ie,se,oe,ue,le,ce,de,fe,me,pe,Ce,ye,he,we,xe,ge;function Se(e){const n=e.split(".");for(let e=0,t=n.length;e<t;++e)n[e]=parseInt(n[e],10);return n}function Ee(){if(!r.defined(re)&&(re=!1,!De())){const e=/ Chrome\/([\.0-9]+)/.exec(ae.userAgent);null!==e&&(re=!0,ie=Se(e[1]))}return re}function Me(){if(!r.defined(se)&&(se=!1,!Ee()&&!De()&&/ Safari\/[\.0-9]+/.test(ae.userAgent))){const e=/ Version\/([\.0-9]+)/.exec(ae.userAgent);null!==e&&(se=!0,oe=Se(e[1]))}return se}function _e(){if(!r.defined(ue)){ue=!1;const e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(ae.userAgent);null!==e&&(ue=!0,le=Se(e[1]),le.isNightly=!!e[2])}return ue}function Oe(){if(!r.defined(ce)){let e;ce=!1,"Microsoft Internet Explorer"===ae.appName?(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(ae.userAgent),null!==e&&(ce=!0,de=Se(e[1]))):"Netscape"===ae.appName&&(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(ae.userAgent),null!==e&&(ce=!0,de=Se(e[1])))}return ce}function De(){if(!r.defined(fe)){fe=!1;const e=/ Edg\/([\.0-9]+)/.exec(ae.userAgent);null!==e&&(fe=!0,me=Se(e[1]))}return fe}function Te(){if(!r.defined(pe)){pe=!1;const e=/Firefox\/([\.0-9]+)/.exec(ae.userAgent);null!==e&&(pe=!0,Ce=Se(e[1]))}return pe}function Pe(){if(!r.defined(ge)){const e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");const n=e.style.imageRendering;ge=r.defined(n)&&""!==n,ge&&(xe=n)}return ge}function Ae(){return Ae._result}ae="undefined"!=typeof navigator?navigator:{},Ae._promise=void 0,Ae._result=void 0,Ae.initialize=function(){return r.defined(Ae._promise)||(Ae._promise=new Promise((e=>{const n=new Image;n.onload=function(){Ae._result=n.width>0&&n.height>0,e(Ae._result)},n.onerror=function(){Ae._result=!1,e(Ae._result)},n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"}))),Ae._promise},Object.defineProperties(Ae,{initialized:{get:function(){return r.defined(Ae._result)}}});const Re=[];"undefined"!=typeof ArrayBuffer&&(Re.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&Re.push(Uint8ClampedArray),"undefined"!=typeof Uint8ClampedArray&&Re.push(Uint8ClampedArray),"undefined"!=typeof BigInt64Array&&Re.push(BigInt64Array),"undefined"!=typeof BigUint64Array&&Re.push(BigUint64Array));const Ie={isChrome:Ee,chromeVersion:function(){return Ee()&&ie},isSafari:Me,safariVersion:function(){return Me()&&oe},isWebkit:_e,webkitVersion:function(){return _e()&&le},isInternetExplorer:Oe,internetExplorerVersion:function(){return Oe()&&de},isEdge:De,edgeVersion:function(){return De()&&me},isFirefox:Te,firefoxVersion:function(){return Te()&&Ce},isWindows:function(){return r.defined(ye)||(ye=/Windows/i.test(ae.appVersion)),ye},isIPadOrIOS:function(){return r.defined(he)||(he="iPhone"===navigator.platform||"iPod"===navigator.platform||"iPad"===navigator.platform),he},hardwareConcurrency:a.defaultValue(ae.hardwareConcurrency,3),supportsPointerEvents:function(){return r.defined(we)||(we=!Te()&&"undefined"!=typeof PointerEvent&&(!r.defined(ae.pointerEnabled)||ae.pointerEnabled)),we},supportsImageRenderingPixelated:Pe,supportsWebP:Ae,imageRenderingValue:function(){return Pe()?xe:void 0},typedArrayTypes:Re,supportsBasis:function(e){return Ie.supportsWebAssembly()&&e.context.supportsBasis},supportsFullscreen:function(){return te.supportsFullscreen()},supportsTypedArrays:function(){return"undefined"!=typeof ArrayBuffer},supportsBigInt64Array:function(){return"undefined"!=typeof BigInt64Array},supportsBigUint64Array:function(){return"undefined"!=typeof BigUint64Array},supportsBigInt:function(){return"undefined"!=typeof BigInt},supportsWebWorkers:function(){return"undefined"!=typeof Worker},supportsWebAssembly:function(){return"undefined"!=typeof WebAssembly},supportsWebgl2:function(e){return e.context.webgl2}};var Ne=Ie;function ze(e,n,t,r){this.x=a.defaultValue(e,0),this.y=a.defaultValue(n,0),this.z=a.defaultValue(t,0),this.w=a.defaultValue(r,0)}let Ue=new n.Cartesian3;ze.fromAxisAngle=function(e,t,a){const i=t/2,s=Math.sin(i);Ue=n.Cartesian3.normalize(e,Ue);const o=Ue.x*s,u=Ue.y*s,l=Ue.z*s,c=Math.cos(i);return r.defined(a)?(a.x=o,a.y=u,a.z=l,a.w=c,a):new ze(o,u,l,c)};const be=[1,2,0],Fe=new Array(3);ze.fromRotationMatrix=function(e,n){let t,a,i,s,u;const l=e[o.Matrix3.COLUMN0ROW0],c=e[o.Matrix3.COLUMN1ROW1],d=e[o.Matrix3.COLUMN2ROW2],f=l+c+d;if(f>0)t=Math.sqrt(f+1),u=.5*t,t=.5/t,a=(e[o.Matrix3.COLUMN1ROW2]-e[o.Matrix3.COLUMN2ROW1])*t,i=(e[o.Matrix3.COLUMN2ROW0]-e[o.Matrix3.COLUMN0ROW2])*t,s=(e[o.Matrix3.COLUMN0ROW1]-e[o.Matrix3.COLUMN1ROW0])*t;else{const n=be;let r=0;c>l&&(r=1),d>l&&d>c&&(r=2);const f=n[r],m=n[f];t=Math.sqrt(e[o.Matrix3.getElementIndex(r,r)]-e[o.Matrix3.getElementIndex(f,f)]-e[o.Matrix3.getElementIndex(m,m)]+1);const p=Fe;p[r]=.5*t,t=.5/t,u=(e[o.Matrix3.getElementIndex(m,f)]-e[o.Matrix3.getElementIndex(f,m)])*t,p[f]=(e[o.Matrix3.getElementIndex(f,r)]+e[o.Matrix3.getElementIndex(r,f)])*t,p[m]=(e[o.Matrix3.getElementIndex(m,r)]+e[o.Matrix3.getElementIndex(r,m)])*t,a=-p[0],i=-p[1],s=-p[2]}return r.defined(n)?(n.x=a,n.y=i,n.z=s,n.w=u,n):new ze(a,i,s,u)};const qe=new ze;let We=new ze,Ve=new ze,Be=new ze;ze.fromHeadingPitchRoll=function(e,t){return Be=ze.fromAxisAngle(n.Cartesian3.UNIT_X,e.roll,qe),Ve=ze.fromAxisAngle(n.Cartesian3.UNIT_Y,-e.pitch,t),t=ze.multiply(Ve,Be,Ve),We=ze.fromAxisAngle(n.Cartesian3.UNIT_Z,-e.heading,qe),ze.multiply(We,t,t)};const ve=new n.Cartesian3,$e=new n.Cartesian3,Le=new ze,je=new ze,ke=new ze;ze.packedLength=4,ze.pack=function(e,n,t){return t=a.defaultValue(t,0),n[t++]=e.x,n[t++]=e.y,n[t++]=e.z,n[t]=e.w,n},ze.unpack=function(e,n,t){return n=a.defaultValue(n,0),r.defined(t)||(t=new ze),t.x=e[n],t.y=e[n+1],t.z=e[n+2],t.w=e[n+3],t},ze.packedInterpolationLength=3,ze.convertPackedArrayForInterpolation=function(e,n,t,a){ze.unpack(e,4*t,ke),ze.conjugate(ke,ke);for(let i=0,s=t-n+1;i<s;i++){const t=3*i;ze.unpack(e,4*(n+i),Le),ze.multiply(Le,ke,Le),Le.w<0&&ze.negate(Le,Le),ze.computeAxis(Le,ve);const s=ze.computeAngle(Le);r.defined(a)||(a=[]),a[t]=ve.x*s,a[t+1]=ve.y*s,a[t+2]=ve.z*s}},ze.unpackInterpolationResult=function(e,t,a,i,s){r.defined(s)||(s=new ze),n.Cartesian3.fromArray(e,0,$e);const o=n.Cartesian3.magnitude($e);return ze.unpack(t,4*i,je),0===o?ze.clone(ze.IDENTITY,Le):ze.fromAxisAngle($e,o,Le),ze.multiply(Le,je,s)},ze.clone=function(e,n){if(r.defined(e))return r.defined(n)?(n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n):new ze(e.x,e.y,e.z,e.w)},ze.conjugate=function(e,n){return n.x=-e.x,n.y=-e.y,n.z=-e.z,n.w=e.w,n},ze.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},ze.magnitude=function(e){return Math.sqrt(ze.magnitudeSquared(e))},ze.normalize=function(e,n){const t=1/ze.magnitude(e),a=e.x*t,r=e.y*t,i=e.z*t,s=e.w*t;return n.x=a,n.y=r,n.z=i,n.w=s,n},ze.inverse=function(e,n){const t=ze.magnitudeSquared(e);return n=ze.conjugate(e,n),ze.multiplyByScalar(n,1/t,n)},ze.add=function(e,n,t){return t.x=e.x+n.x,t.y=e.y+n.y,t.z=e.z+n.z,t.w=e.w+n.w,t},ze.subtract=function(e,n,t){return t.x=e.x-n.x,t.y=e.y-n.y,t.z=e.z-n.z,t.w=e.w-n.w,t},ze.negate=function(e,n){return n.x=-e.x,n.y=-e.y,n.z=-e.z,n.w=-e.w,n},ze.dot=function(e,n){return e.x*n.x+e.y*n.y+e.z*n.z+e.w*n.w},ze.multiply=function(e,n,t){const a=e.x,r=e.y,i=e.z,s=e.w,o=n.x,u=n.y,l=n.z,c=n.w,d=s*o+a*c+r*l-i*u,f=s*u-a*l+r*c+i*o,m=s*l+a*u-r*o+i*c,p=s*c-a*o-r*u-i*l;return t.x=d,t.y=f,t.z=m,t.w=p,t},ze.multiplyByScalar=function(e,n,t){return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t.w=e.w*n,t},ze.divideByScalar=function(e,n,t){return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t.w=e.w/n,t},ze.computeAxis=function(e,n){const t=e.w;if(Math.abs(t-1)<s.CesiumMath.EPSILON6)return n.x=n.y=n.z=0,n;const a=1/Math.sqrt(1-t*t);return n.x=e.x*a,n.y=e.y*a,n.z=e.z*a,n},ze.computeAngle=function(e){return Math.abs(e.w-1)<s.CesiumMath.EPSILON6?0:2*Math.acos(e.w)};let Ye=new ze;ze.lerp=function(e,n,t,a){return Ye=ze.multiplyByScalar(n,t,Ye),a=ze.multiplyByScalar(e,1-t,a),ze.add(Ye,a,a)};let Ze=new ze,Ge=new ze,Je=new ze;ze.slerp=function(e,n,t,a){let r=ze.dot(e,n),i=n;if(r<0&&(r=-r,i=Ze=ze.negate(n,Ze)),1-r<s.CesiumMath.EPSILON6)return ze.lerp(e,i,t,a);const o=Math.acos(r);return Ge=ze.multiplyByScalar(e,Math.sin((1-t)*o),Ge),Je=ze.multiplyByScalar(i,Math.sin(t*o),Je),a=ze.add(Ge,Je,a),ze.multiplyByScalar(a,1/Math.sin(o),a)},ze.log=function(e,t){const a=s.CesiumMath.acosClamped(e.w);let r=0;return 0!==a&&(r=a/Math.sin(a)),n.Cartesian3.multiplyByScalar(e,r,t)},ze.exp=function(e,t){const a=n.Cartesian3.magnitude(e);let r=0;return 0!==a&&(r=Math.sin(a)/a),t.x=e.x*r,t.y=e.y*r,t.z=e.z*r,t.w=Math.cos(a),t};const Xe=new n.Cartesian3,He=new n.Cartesian3,Qe=new ze,Ke=new ze;ze.computeInnerQuadrangle=function(e,t,a,r){const i=ze.conjugate(t,Qe);ze.multiply(i,a,Ke);const s=ze.log(Ke,Xe);ze.multiply(i,e,Ke);const o=ze.log(Ke,He);return n.Cartesian3.add(s,o,s),n.Cartesian3.multiplyByScalar(s,.25,s),n.Cartesian3.negate(s,s),ze.exp(s,Qe),ze.multiply(t,Qe,r)},ze.squad=function(e,n,t,a,r,i){const s=ze.slerp(e,n,r,Qe),o=ze.slerp(t,a,r,Ke);return ze.slerp(s,o,2*r*(1-r),i)};const en=new ze,nn=1.9011074535173003,tn=Ne.supportsTypedArrays()?new Float32Array(8):[],an=Ne.supportsTypedArrays()?new Float32Array(8):[],rn=Ne.supportsTypedArrays()?new Float32Array(8):[],sn=Ne.supportsTypedArrays()?new Float32Array(8):[];for(let e=0;e<7;++e){const n=e+1,t=2*n+1;tn[e]=1/(n*t),an[e]=n/t}function on(e,n,t){let a,r,i=0,s=e.length-1;for(;i<=s;)if(a=~~((i+s)/2),r=t(e[a],n),r<0)i=a+1;else{if(!(r>0))return a;s=a-1}return~(s+1)}function un(e,n,t,a,r){this.xPoleWander=e,this.yPoleWander=n,this.xPoleOffset=t,this.yPoleOffset=a,this.ut1MinusUtc=r}function ln(e,n,t,a,r,i,s,o){this.year=e,this.month=n,this.day=t,this.hour=a,this.minute=r,this.second=i,this.millisecond=s,this.isLeapSecond=o}function cn(e){return e%4==0&&e%100!=0||e%400==0}function dn(e,n){this.julianDate=e,this.offset=n}tn[7]=nn/136,an[7]=8*nn/17,ze.fastSlerp=function(e,n,t,a){let r,i=ze.dot(e,n);i>=0?r=1:(r=-1,i=-i);const s=i-1,o=1-t,u=t*t,l=o*o;for(let e=7;e>=0;--e)rn[e]=(tn[e]*u-an[e])*s,sn[e]=(tn[e]*l-an[e])*s;const c=r*t*(1+rn[0]*(1+rn[1]*(1+rn[2]*(1+rn[3]*(1+rn[4]*(1+rn[5]*(1+rn[6]*(1+rn[7])))))))),d=o*(1+sn[0]*(1+sn[1]*(1+sn[2]*(1+sn[3]*(1+sn[4]*(1+sn[5]*(1+sn[6]*(1+sn[7])))))))),f=ze.multiplyByScalar(e,d,en);return ze.multiplyByScalar(n,c,a),ze.add(f,a,a)},ze.fastSquad=function(e,n,t,a,r,i){const s=ze.fastSlerp(e,n,r,Qe),o=ze.fastSlerp(t,a,r,Ke);return ze.fastSlerp(s,o,2*r*(1-r),i)},ze.equals=function(e,n){return e===n||r.defined(e)&&r.defined(n)&&e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w},ze.equalsEpsilon=function(e,n,t){return t=a.defaultValue(t,0),e===n||r.defined(e)&&r.defined(n)&&Math.abs(e.x-n.x)<=t&&Math.abs(e.y-n.y)<=t&&Math.abs(e.z-n.z)<=t&&Math.abs(e.w-n.w)<=t},ze.ZERO=Object.freeze(new ze(0,0,0,0)),ze.IDENTITY=Object.freeze(new ze(0,0,0,1)),ze.prototype.clone=function(e){return ze.clone(this,e)},ze.prototype.equals=function(e){return ze.equals(this,e)},ze.prototype.equalsEpsilon=function(e,n){return ze.equalsEpsilon(this,e,n)},ze.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};var fn=Object.freeze({SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5});var mn=Object.freeze({UTC:0,TAI:1});const pn=new ln,Cn=[31,28,31,30,31,30,31,31,30,31,30,31];function yn(e,n){return In.compare(e.julianDate,n.julianDate)}const hn=new dn;function wn(e){hn.julianDate=e;const n=In.leapSeconds;let t=on(n,hn,yn);t<0&&(t=~t),t>=n.length&&(t=n.length-1);let a=n[t].offset;if(t>0){In.secondsDifference(n[t].julianDate,e)>a&&(t--,a=n[t].offset)}In.addSeconds(e,a,e)}function xn(e,n){hn.julianDate=e;const t=In.leapSeconds;let a=on(t,hn,yn);if(a<0&&(a=~a),0===a)return In.addSeconds(e,-t[0].offset,n);if(a>=t.length)return In.addSeconds(e,-t[a-1].offset,n);const r=In.secondsDifference(t[a].julianDate,e);return 0===r?In.addSeconds(e,-t[a].offset,n):r<=1?void 0:In.addSeconds(e,-t[--a].offset,n)}function gn(e,n,t){const a=n/fn.SECONDS_PER_DAY|0;return e+=a,(n-=fn.SECONDS_PER_DAY*a)<0&&(e--,n+=fn.SECONDS_PER_DAY),t.dayNumber=e,t.secondsOfDay=n,t}function Sn(e,n,t,a,r,i,s){const o=(n-14)/12|0,u=e+4800+o;let l=(1461*u/4|0)+(367*(n-2-12*o)/12|0)-(3*((u+100)/100|0)/4|0)+t-32075;(a-=12)<0&&(a+=24);const c=i+(a*fn.SECONDS_PER_HOUR+r*fn.SECONDS_PER_MINUTE+s*fn.SECONDS_PER_MILLISECOND);return c>=43200&&(l-=1),[l,c]}const En=/^(\d{4})$/,Mn=/^(\d{4})-(\d{2})$/,_n=/^(\d{4})-?(\d{3})$/,On=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,Dn=/^(\d{4})-?(\d{2})-?(\d{2})$/,Tn=/([Z+\-])?(\d{2})?:?(\d{2})?$/,Pn=/^(\d{2})(\.\d+)?/.source+Tn.source,An=/^(\d{2}):?(\d{2})(\.\d+)?/.source+Tn.source,Rn=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+Tn.source;function In(e,n,t){this.dayNumber=void 0,this.secondsOfDay=void 0,e=a.defaultValue(e,0),n=a.defaultValue(n,0),t=a.defaultValue(t,mn.UTC);const r=0|e;gn(r,n+=(e-r)*fn.SECONDS_PER_DAY,this),t===mn.UTC&&wn(this)}In.fromGregorianDate=function(e,n){const t=Sn(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond);return r.defined(n)?(gn(t[0],t[1],n),wn(n),n):new In(t[0],t[1],mn.UTC)},In.fromDate=function(e,n){const t=Sn(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return r.defined(n)?(gn(t[0],t[1],n),wn(n),n):new In(t[0],t[1],mn.UTC)},In.fromIso8601=function(e,n){let t,a=(e=e.replace(",",".")).split("T"),i=1,s=1,o=0,u=0,l=0,c=0;const d=a[0],f=a[1];let m,p,C;if(a=d.match(Dn),null!==a)t=+a[1],i=+a[2],s=+a[3];else if(a=d.match(Mn),null!==a)t=+a[1],i=+a[2];else if(a=d.match(En),null!==a)t=+a[1];else{let e;if(a=d.match(_n),null!==a)t=+a[1],e=+a[2],p=cn(t);else if(a=d.match(On),null!==a){t=+a[1];e=7*+a[2]+(+a[3]||0)-new Date(Date.UTC(t,0,4)).getUTCDay()-3}m=new Date(Date.UTC(t,0,1)),m.setUTCDate(e),i=m.getUTCMonth()+1,s=m.getUTCDate()}if(p=cn(t),r.defined(f)){a=f.match(Rn),null!==a?(o=+a[1],u=+a[2],l=+a[3],c=1e3*+(a[4]||0),C=5):(a=f.match(An),null!==a?(o=+a[1],u=+a[2],l=60*+(a[3]||0),C=4):(a=f.match(Pn),null!==a&&(o=+a[1],u=60*+(a[2]||0),C=3)));const e=a[C],n=+a[C+1],r=+(a[C+2]||0);switch(e){case"+":o-=n,u-=r;break;case"-":o+=n,u+=r;break;case"Z":break;default:u+=new Date(Date.UTC(t,i-1,s,o,u)).getTimezoneOffset()}}const y=60===l;for(y&&l--;u>=60;)u-=60,o++;for(;o>=24;)o-=24,s++;for(m=p&&2===i?29:Cn[i-1];s>m;)s-=m,i++,i>12&&(i-=12,t++),m=p&&2===i?29:Cn[i-1];for(;u<0;)u+=60,o--;for(;o<0;)o+=24,s--;for(;s<1;)i--,i<1&&(i+=12,t--),m=p&&2===i?29:Cn[i-1],s+=m;const h=Sn(t,i,s,o,u,l,c);return r.defined(n)?(gn(h[0],h[1],n),wn(n)):n=new In(h[0],h[1],mn.UTC),y&&In.addSeconds(n,1,n),n},In.now=function(e){return In.fromDate(new Date,e)};const Nn=new In(0,0,mn.TAI);function zn(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._addNewLeapSeconds=a.defaultValue(e.addNewLeapSeconds,!0),r.defined(e.data)?bn(this,e.data):bn(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function Un(e,n){return In.compare(e.julianDate,n)}function bn(e,n){if(!r.defined(n.columnNames))throw new d.RuntimeError("Error in loaded EOP data: The columnNames property is required.");if(!r.defined(n.samples))throw new d.RuntimeError("Error in loaded EOP data: The samples property is required.");const t=n.columnNames.indexOf("modifiedJulianDateUtc"),a=n.columnNames.indexOf("xPoleWanderRadians"),i=n.columnNames.indexOf("yPoleWanderRadians"),s=n.columnNames.indexOf("ut1MinusUtcSeconds"),o=n.columnNames.indexOf("xCelestialPoleOffsetRadians"),u=n.columnNames.indexOf("yCelestialPoleOffsetRadians"),l=n.columnNames.indexOf("taiMinusUtcSeconds");if(t<0||a<0||i<0||s<0||o<0||u<0||l<0)throw new d.RuntimeError("Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns");const c=e._samples=n.samples,f=e._dates=[];let m;e._dateColumn=t,e._xPoleWanderRadiansColumn=a,e._yPoleWanderRadiansColumn=i,e._ut1MinusUtcSecondsColumn=s,e._xCelestialPoleOffsetRadiansColumn=o,e._yCelestialPoleOffsetRadiansColumn=u,e._taiMinusUtcSecondsColumn=l,e._columnCount=n.columnNames.length,e._lastIndex=void 0;const p=e._addNewLeapSeconds;for(let n=0,a=c.length;n<a;n+=e._columnCount){const e=c[n+t],a=c[n+l],i=new In(e+fn.MODIFIED_JULIAN_DATE_DIFFERENCE,a,mn.TAI);if(f.push(i),p){if(a!==m&&r.defined(m)){const e=In.leapSeconds,n=on(e,i,Un);if(n<0){const t=new dn(i,a);e.splice(~n,0,t)}}m=a}}}function Fn(e,n,t,a,r){const i=t*a;r.xPoleWander=n[i+e._xPoleWanderRadiansColumn],r.yPoleWander=n[i+e._yPoleWanderRadiansColumn],r.xPoleOffset=n[i+e._xCelestialPoleOffsetRadiansColumn],r.yPoleOffset=n[i+e._yCelestialPoleOffsetRadiansColumn],r.ut1MinusUtc=n[i+e._ut1MinusUtcSecondsColumn]}function qn(e,n,t){return n+e*(t-n)}function Wn(e,n,t,a,r,i,s){const o=e._columnCount;if(i>n.length-1)return s.xPoleWander=0,s.yPoleWander=0,s.xPoleOffset=0,s.yPoleOffset=0,s.ut1MinusUtc=0,s;const u=n[r],l=n[i];if(u.equals(l)||a.equals(u))return Fn(e,t,r,o,s),s;if(a.equals(l))return Fn(e,t,i,o,s),s;const c=In.secondsDifference(a,u)/In.secondsDifference(l,u),d=r*o,f=i*o;let m=t[d+e._ut1MinusUtcSecondsColumn],p=t[f+e._ut1MinusUtcSecondsColumn];const C=p-m;if(C>.5||C<-.5){const n=t[d+e._taiMinusUtcSecondsColumn],r=t[f+e._taiMinusUtcSecondsColumn];n!==r&&(l.equals(a)?m=p:p-=r-n)}return s.xPoleWander=qn(c,t[d+e._xPoleWanderRadiansColumn],t[f+e._xPoleWanderRadiansColumn]),s.yPoleWander=qn(c,t[d+e._yPoleWanderRadiansColumn],t[f+e._yPoleWanderRadiansColumn]),s.xPoleOffset=qn(c,t[d+e._xCelestialPoleOffsetRadiansColumn],t[f+e._xCelestialPoleOffsetRadiansColumn]),s.yPoleOffset=qn(c,t[d+e._yCelestialPoleOffsetRadiansColumn],t[f+e._yCelestialPoleOffsetRadiansColumn]),s.ut1MinusUtc=qn(c,m,p),s}function Vn(e,n,t){this.heading=a.defaultValue(e,0),this.pitch=a.defaultValue(n,0),this.roll=a.defaultValue(t,0)}In.toGregorianDate=function(e,n){let t=!1,a=xn(e,Nn);r.defined(a)||(In.addSeconds(e,-1,Nn),a=xn(Nn,Nn),t=!0);let i=a.dayNumber;const s=a.secondsOfDay;s>=43200&&(i+=1);let o=i+68569|0;const u=4*o/146097|0;o=o-((146097*u+3)/4|0)|0;const l=4e3*(o+1)/1461001|0;o=o-(1461*l/4|0)+31|0;const c=80*o/2447|0,d=o-(2447*c/80|0)|0;o=c/11|0;const f=c+2-12*o|0,m=100*(u-49)+l+o|0;let p=s/fn.SECONDS_PER_HOUR|0,C=s-p*fn.SECONDS_PER_HOUR;const y=C/fn.SECONDS_PER_MINUTE|0;C-=y*fn.SECONDS_PER_MINUTE;let h=0|C;const w=(C-h)/fn.SECONDS_PER_MILLISECOND;return p+=12,p>23&&(p-=24),t&&(h+=1),r.defined(n)?(n.year=m,n.month=f,n.day=d,n.hour=p,n.minute=y,n.second=h,n.millisecond=w,n.isLeapSecond=t,n):new ln(m,f,d,p,y,h,w,t)},In.toDate=function(e){const n=In.toGregorianDate(e,pn);let t=n.second;return n.isLeapSecond&&(t-=1),new Date(Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,t,n.millisecond))},In.toIso8601=function(e,n){const t=In.toGregorianDate(e,pn);let a=t.year,i=t.month,s=t.day,o=t.hour;const u=t.minute,l=t.second,c=t.millisecond;let d;return 1e4===a&&1===i&&1===s&&0===o&&0===u&&0===l&&0===c&&(a=9999,i=12,s=31,o=24),r.defined(n)||0===c?r.defined(n)&&0!==n?(d=(.01*c).toFixed(n).replace(".","").slice(0,n),`${a.toString().padStart(4,"0")}-${i.toString().padStart(2,"0")}-${s.toString().padStart(2,"0")}T${o.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}.${d}Z`):`${a.toString().padStart(4,"0")}-${i.toString().padStart(2,"0")}-${s.toString().padStart(2,"0")}T${o.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}Z`:(d=(.01*c).toString().replace(".",""),`${a.toString().padStart(4,"0")}-${i.toString().padStart(2,"0")}-${s.toString().padStart(2,"0")}T${o.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}.${d}Z`)},In.clone=function(e,n){if(r.defined(e))return r.defined(n)?(n.dayNumber=e.dayNumber,n.secondsOfDay=e.secondsOfDay,n):new In(e.dayNumber,e.secondsOfDay,mn.TAI)},In.compare=function(e,n){const t=e.dayNumber-n.dayNumber;return 0!==t?t:e.secondsOfDay-n.secondsOfDay},In.equals=function(e,n){return e===n||r.defined(e)&&r.defined(n)&&e.dayNumber===n.dayNumber&&e.secondsOfDay===n.secondsOfDay},In.equalsEpsilon=function(e,n,t){return t=a.defaultValue(t,0),e===n||r.defined(e)&&r.defined(n)&&Math.abs(In.secondsDifference(e,n))<=t},In.totalDays=function(e){return e.dayNumber+e.secondsOfDay/fn.SECONDS_PER_DAY},In.secondsDifference=function(e,n){return(e.dayNumber-n.dayNumber)*fn.SECONDS_PER_DAY+(e.secondsOfDay-n.secondsOfDay)},In.daysDifference=function(e,n){return e.dayNumber-n.dayNumber+(e.secondsOfDay-n.secondsOfDay)/fn.SECONDS_PER_DAY},In.computeTaiMinusUtc=function(e){hn.julianDate=e;const n=In.leapSeconds;let t=on(n,hn,yn);return t<0&&(t=~t,--t,t<0&&(t=0)),n[t].offset},In.addSeconds=function(e,n,t){return gn(e.dayNumber,e.secondsOfDay+n,t)},In.addMinutes=function(e,n,t){const a=e.secondsOfDay+n*fn.SECONDS_PER_MINUTE;return gn(e.dayNumber,a,t)},In.addHours=function(e,n,t){const a=e.secondsOfDay+n*fn.SECONDS_PER_HOUR;return gn(e.dayNumber,a,t)},In.addDays=function(e,n,t){return gn(e.dayNumber+n,e.secondsOfDay,t)},In.lessThan=function(e,n){return In.compare(e,n)<0},In.lessThanOrEquals=function(e,n){return In.compare(e,n)<=0},In.greaterThan=function(e,n){return In.compare(e,n)>0},In.greaterThanOrEquals=function(e,n){return In.compare(e,n)>=0},In.prototype.clone=function(e){return In.clone(this,e)},In.prototype.equals=function(e){return In.equals(this,e)},In.prototype.equalsEpsilon=function(e,n){return In.equalsEpsilon(this,e,n)},In.prototype.toString=function(){return In.toIso8601(this)},In.leapSeconds=[new dn(new In(2441317,43210,mn.TAI),10),new dn(new In(2441499,43211,mn.TAI),11),new dn(new In(2441683,43212,mn.TAI),12),new dn(new In(2442048,43213,mn.TAI),13),new dn(new In(2442413,43214,mn.TAI),14),new dn(new In(2442778,43215,mn.TAI),15),new dn(new In(2443144,43216,mn.TAI),16),new dn(new In(2443509,43217,mn.TAI),17),new dn(new In(2443874,43218,mn.TAI),18),new dn(new In(2444239,43219,mn.TAI),19),new dn(new In(2444786,43220,mn.TAI),20),new dn(new In(2445151,43221,mn.TAI),21),new dn(new In(2445516,43222,mn.TAI),22),new dn(new In(2446247,43223,mn.TAI),23),new dn(new In(2447161,43224,mn.TAI),24),new dn(new In(2447892,43225,mn.TAI),25),new dn(new In(2448257,43226,mn.TAI),26),new dn(new In(2448804,43227,mn.TAI),27),new dn(new In(2449169,43228,mn.TAI),28),new dn(new In(2449534,43229,mn.TAI),29),new dn(new In(2450083,43230,mn.TAI),30),new dn(new In(2450630,43231,mn.TAI),31),new dn(new In(2451179,43232,mn.TAI),32),new dn(new In(2453736,43233,mn.TAI),33),new dn(new In(2454832,43234,mn.TAI),34),new dn(new In(2456109,43235,mn.TAI),35),new dn(new In(2457204,43236,mn.TAI),36),new dn(new In(2457754,43237,mn.TAI),37)],zn.fromUrl=async function(e,n){n=a.defaultValue(n,a.defaultValue.EMPTY_OBJECT);const t=c.Resource.createIfNeeded(e);let r;try{r=await t.fetchJson()}catch(e){throw new d.RuntimeError(`An error occurred while retrieving the EOP data from the URL ${t.url}.`)}return new zn({addNewLeapSeconds:n.addNewLeapSeconds,data:r})},zn.NONE=Object.freeze({compute:function(e,n){return r.defined(n)?(n.xPoleWander=0,n.yPoleWander=0,n.xPoleOffset=0,n.yPoleOffset=0,n.ut1MinusUtc=0):n=new un(0,0,0,0,0),n}}),zn.prototype.compute=function(e,n){if(!r.defined(this._samples))return;if(r.defined(n)||(n=new un(0,0,0,0,0)),0===this._samples.length)return n.xPoleWander=0,n.yPoleWander=0,n.xPoleOffset=0,n.yPoleOffset=0,n.ut1MinusUtc=0,n;const t=this._dates,a=this._lastIndex;let i=0,s=0;if(r.defined(a)){const o=t[a],u=t[a+1],l=In.lessThanOrEquals(o,e),c=!r.defined(u),d=c||In.greaterThanOrEquals(u,e);if(l&&d)return i=a,!c&&u.equals(e)&&++i,s=i+1,Wn(this,t,this._samples,e,i,s,n),n}let o=on(t,e,In.compare,this._dateColumn);return o>=0?(o<t.length-1&&t[o+1].equals(e)&&++o,i=o,s=o):(s=~o,i=s-1,i<0&&(i=0)),this._lastIndex=i,Wn(this,t,this._samples,e,i,s,n),n},Vn.fromQuaternion=function(e,n){r.defined(n)||(n=new Vn);const t=2*(e.w*e.y-e.z*e.x),a=1-2*(e.x*e.x+e.y*e.y),i=2*(e.w*e.x+e.y*e.z),o=1-2*(e.y*e.y+e.z*e.z),u=2*(e.w*e.z+e.x*e.y);return n.heading=-Math.atan2(u,o),n.roll=Math.atan2(i,a),n.pitch=-s.CesiumMath.asinClamped(t),n},Vn.fromDegrees=function(e,n,t,a){return r.defined(a)||(a=new Vn),a.heading=e*s.CesiumMath.RADIANS_PER_DEGREE,a.pitch=n*s.CesiumMath.RADIANS_PER_DEGREE,a.roll=t*s.CesiumMath.RADIANS_PER_DEGREE,a},Vn.clone=function(e,n){if(r.defined(e))return r.defined(n)?(n.heading=e.heading,n.pitch=e.pitch,n.roll=e.roll,n):new Vn(e.heading,e.pitch,e.roll)},Vn.equals=function(e,n){return e===n||r.defined(e)&&r.defined(n)&&e.heading===n.heading&&e.pitch===n.pitch&&e.roll===n.roll},Vn.equalsEpsilon=function(e,n,t,a){return e===n||r.defined(e)&&r.defined(n)&&s.CesiumMath.equalsEpsilon(e.heading,n.heading,t,a)&&s.CesiumMath.equalsEpsilon(e.pitch,n.pitch,t,a)&&s.CesiumMath.equalsEpsilon(e.roll,n.roll,t,a)},Vn.prototype.clone=function(e){return Vn.clone(this,e)},Vn.prototype.equals=function(e){return Vn.equals(this,e)},Vn.prototype.equalsEpsilon=function(e,n,t){return Vn.equalsEpsilon(this,e,n,t)},Vn.prototype.toString=function(){return`(${this.heading}, ${this.pitch}, ${this.roll})`};const Bn=/((?:.*\/)|^)Cesium\.js(?:\?|\#|$)/;let vn,$n,Ln;function jn(e){return"undefined"==typeof document?e:(r.defined(vn)||(vn=document.createElement("a")),vn.href=e,vn.href=vn.href,vn.href)}function kn(){if(r.defined($n))return $n;let e;return e="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:"object"==typeof define&&r.defined(define.amd)&&!define.amd.toUrlUndefined&&r.defined(require.toUrl)?c.getAbsoluteUri("..",Gn("Core/buildModuleUrl.js")):function(){const e=document.getElementsByTagName("script");for(let n=0,t=e.length;n<t;++n){const t=e[n].getAttribute("src"),a=Bn.exec(t);if(null!==a)return a[1]}}(),$n=new c.Resource({url:jn(e)}),$n.appendForwardSlash(),$n}function Yn(e){return jn(require.toUrl(`../${e}`))}function Zn(e){return kn().getDerivedResource({url:e}).url}function Gn(e){r.defined(Ln)||(Ln="object"==typeof define&&r.defined(define.amd)&&!define.amd.toUrlUndefined&&r.defined(require.toUrl)?Yn:Zn);return Ln(e)}function Jn(e,n,t){this.x=e,this.y=n,this.s=t}function Xn(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT),this._xysFileUrlTemplate=c.Resource.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=a.defaultValue(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=a.defaultValue(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new In(this._sampleZeroJulianEphemerisDate,0,mn.TAI),this._stepSizeDays=a.defaultValue(e.stepSizeDays,1),this._samplesPerXysFile=a.defaultValue(e.samplesPerXysFile,1e3),this._totalSamples=a.defaultValue(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];const n=this._interpolationOrder,t=this._denominators=new Array(n+1),r=this._xTable=new Array(n+1),i=Math.pow(this._stepSizeDays,n);for(let e=0;e<=n;++e){t[e]=i,r[e]=e*this._stepSizeDays;for(let a=0;a<=n;++a)a!==e&&(t[e]*=e-a);t[e]=1/t[e]}this._work=new Array(n+1),this._coef=new Array(n+1)}Gn._cesiumScriptRegex=Bn,Gn._buildModuleUrlFromBaseUrl=Zn,Gn._clearBaseResource=function(){$n=void 0},Gn.setBaseUrl=function(e){$n=c.Resource.DEFAULT.getDerivedResource({url:e})},Gn.getCesiumBaseUrl=kn;const Hn=new In(0,0,mn.TAI);function Qn(e,n,t){const a=Hn;return a.dayNumber=n,a.secondsOfDay=t,In.daysDifference(a,e._sampleZeroDateTT)}function Kn(e,n){if(e._chunkDownloadsInProgress[n])return e._chunkDownloadsInProgress[n];let t;const a=e._xysFileUrlTemplate;t=r.defined(a)?a.getDerivedResource({templateValues:{0:n}}):new c.Resource({url:Gn(`Assets/IAU2006_XYS/IAU2006_XYS_${n}.json`)});const i=t.fetchJson().then((function(t){e._chunkDownloadsInProgress[n]=!1;const a=e._samples,r=t.samples,i=n*e._samplesPerXysFile*3;for(let e=0,n=r.length;e<n;++e)a[i+e]=r[e]}));return e._chunkDownloadsInProgress[n]=i,i}Xn.prototype.preload=function(e,n,t,a){const r=Qn(this,e,n),i=Qn(this,t,a);let s=r/this._stepSizeDays-this._interpolationOrder/2|0;s<0&&(s=0);let o=i/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;o>=this._totalSamples&&(o=this._totalSamples-1);const u=s/this._samplesPerXysFile|0,l=o/this._samplesPerXysFile|0,c=[];for(let e=u;e<=l;++e)c.push(Kn(this,e));return Promise.all(c)},Xn.prototype.computeXysRadians=function(e,n,t){const a=Qn(this,e,n);if(a<0)return;const i=a/this._stepSizeDays|0;if(i>=this._totalSamples)return;const s=this._interpolationOrder;let o=i-(s/2|0);o<0&&(o=0);let u=o+s;u>=this._totalSamples&&(u=this._totalSamples-1,o=u-s,o<0&&(o=0));let l=!1;const c=this._samples;if(r.defined(c[3*o])||(Kn(this,o/this._samplesPerXysFile|0),l=!0),r.defined(c[3*u])||(Kn(this,u/this._samplesPerXysFile|0),l=!0),l)return;r.defined(t)?(t.x=0,t.y=0,t.s=0):t=new Jn(0,0,0);const d=a-o*this._stepSizeDays,f=this._work,m=this._denominators,p=this._coef,C=this._xTable;let y,h;for(y=0;y<=s;++y)f[y]=d-C[y];for(y=0;y<=s;++y){for(p[y]=1,h=0;h<=s;++h)h!==y&&(p[y]*=f[h]);p[y]*=m[y];let e=3*(o+y);t.x+=p[y]*c[e++],t.y+=p[y]*c[e++],t.s+=p[y]*c[e]}return t};const et={},nt={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},tt={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},at={},rt={east:new n.Cartesian3,north:new n.Cartesian3,up:new n.Cartesian3,west:new n.Cartesian3,south:new n.Cartesian3,down:new n.Cartesian3};let it=new n.Cartesian3,st=new n.Cartesian3,ot=new n.Cartesian3;et.localFrameToFixedFrameGenerator=function(e,i){if(!nt.hasOwnProperty(e)||!nt[e].hasOwnProperty(i))throw new c.DeveloperError("firstAxis and secondAxis must be east, north, up, west, south or down.");const o=nt[e][i];let l;const d=e+i;return r.defined(at[d])?l=at[d]:(l=function(l,c,d){if(r.defined(d)||(d=new u.Matrix4),n.Cartesian3.equalsEpsilon(l,n.Cartesian3.ZERO,s.CesiumMath.EPSILON14))n.Cartesian3.unpack(tt[e],0,it),n.Cartesian3.unpack(tt[i],0,st),n.Cartesian3.unpack(tt[o],0,ot);else if(s.CesiumMath.equalsEpsilon(l.x,0,s.CesiumMath.EPSILON14)&&s.CesiumMath.equalsEpsilon(l.y,0,s.CesiumMath.EPSILON14)){const t=s.CesiumMath.sign(l.z);n.Cartesian3.unpack(tt[e],0,it),"east"!==e&&"west"!==e&&n.Cartesian3.multiplyByScalar(it,t,it),n.Cartesian3.unpack(tt[i],0,st),"east"!==i&&"west"!==i&&n.Cartesian3.multiplyByScalar(st,t,st),n.Cartesian3.unpack(tt[o],0,ot),"east"!==o&&"west"!==o&&n.Cartesian3.multiplyByScalar(ot,t,ot)}else{(c=a.defaultValue(c,t.Ellipsoid.WGS84)).geodeticSurfaceNormal(l,rt.up);const r=rt.up,s=rt.east;s.x=-l.y,s.y=l.x,s.z=0,n.Cartesian3.normalize(s,rt.east),n.Cartesian3.cross(r,s,rt.north),n.Cartesian3.multiplyByScalar(rt.up,-1,rt.down),n.Cartesian3.multiplyByScalar(rt.east,-1,rt.west),n.Cartesian3.multiplyByScalar(rt.north,-1,rt.south),it=rt[e],st=rt[i],ot=rt[o]}return d[0]=it.x,d[1]=it.y,d[2]=it.z,d[3]=0,d[4]=st.x,d[5]=st.y,d[6]=st.z,d[7]=0,d[8]=ot.x,d[9]=ot.y,d[10]=ot.z,d[11]=0,d[12]=l.x,d[13]=l.y,d[14]=l.z,d[15]=1,d},at[d]=l),l},et.eastNorthUpToFixedFrame=et.localFrameToFixedFrameGenerator("east","north"),et.northEastDownToFixedFrame=et.localFrameToFixedFrameGenerator("north","east"),et.northUpEastToFixedFrame=et.localFrameToFixedFrameGenerator("north","up"),et.northWestUpToFixedFrame=et.localFrameToFixedFrameGenerator("north","west");const ut=new ze,lt=new n.Cartesian3(1,1,1),ct=new u.Matrix4;et.headingPitchRollToFixedFrame=function(e,t,r,i,s){i=a.defaultValue(i,et.eastNorthUpToFixedFrame);const o=ze.fromHeadingPitchRoll(t,ut),l=u.Matrix4.fromTranslationQuaternionRotationScale(n.Cartesian3.ZERO,o,lt,ct);return s=i(e,r,s),u.Matrix4.multiply(s,l,s)};const dt=new u.Matrix4,ft=new o.Matrix3;et.headingPitchRollQuaternion=function(e,n,t,a,r){const i=et.headingPitchRollToFixedFrame(e,n,t,a,dt),s=u.Matrix4.getMatrix3(i,ft);return ze.fromRotationMatrix(s,r)};const mt=new n.Cartesian3(1,1,1),pt=new n.Cartesian3,Ct=new u.Matrix4,yt=new u.Matrix4,ht=new o.Matrix3,wt=new ze;et.fixedFrameToHeadingPitchRoll=function(e,i,s,o){i=a.defaultValue(i,t.Ellipsoid.WGS84),s=a.defaultValue(s,et.eastNorthUpToFixedFrame),r.defined(o)||(o=new Vn);const l=u.Matrix4.getTranslation(e,pt);if(n.Cartesian3.equals(l,n.Cartesian3.ZERO))return o.heading=0,o.pitch=0,o.roll=0,o;let c=u.Matrix4.inverseTransformation(s(l,i,Ct),Ct),d=u.Matrix4.setScale(e,mt,yt);d=u.Matrix4.setTranslation(d,n.Cartesian3.ZERO,d),c=u.Matrix4.multiply(c,d,c);let f=ze.fromRotationMatrix(u.Matrix4.getMatrix3(c,ht),wt);return f=ze.normalize(f,f),Vn.fromQuaternion(f,o)};const xt=s.CesiumMath.TWO_PI/86400;let gt=new In;et.computeTemeToPseudoFixedMatrix=function(e,n){gt=In.addSeconds(e,-In.computeTaiMinusUtc(e),gt);const t=gt.dayNumber,a=gt.secondsOfDay;let i;const u=t-2451545;i=a>=43200?(u+.5)/fn.DAYS_PER_JULIAN_CENTURY:(u-.5)/fn.DAYS_PER_JULIAN_CENTURY;const l=(24110.54841+i*(8640184.812866+i*(.093104+-62e-7*i)))*xt%s.CesiumMath.TWO_PI+(72921158553e-15+11772758384668e-32*(t-2451545.5))*((a+.5*fn.SECONDS_PER_DAY)%fn.SECONDS_PER_DAY),c=Math.cos(l),d=Math.sin(l);return r.defined(n)?(n[0]=c,n[1]=-d,n[2]=0,n[3]=d,n[4]=c,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n):new o.Matrix3(c,d,0,-d,c,0,0,0,1)},et.iau2006XysData=new Xn,et.earthOrientationParameters=zn.NONE;const St=32.184;et.preloadIcrfFixed=function(e){const n=e.start.dayNumber,t=e.start.secondsOfDay+St,a=e.stop.dayNumber,r=e.stop.secondsOfDay+St;return et.iau2006XysData.preload(n,t,a,r)},et.computeIcrfToFixedMatrix=function(e,n){r.defined(n)||(n=new o.Matrix3);const t=et.computeFixedToIcrfMatrix(e,n);if(r.defined(t))return o.Matrix3.transpose(t,n)};const Et=new Jn(0,0,0),Mt=new un(0,0,0,0,0),_t=new o.Matrix3,Ot=new o.Matrix3;et.computeFixedToIcrfMatrix=function(e,n){r.defined(n)||(n=new o.Matrix3);const t=et.earthOrientationParameters.compute(e,Mt);if(!r.defined(t))return;const a=e.dayNumber,i=e.secondsOfDay+St,u=et.iau2006XysData.computeXysRadians(a,i,Et);if(!r.defined(u))return;const l=u.x+t.xPoleOffset,c=u.y+t.yPoleOffset,d=1/(1+Math.sqrt(1-l*l-c*c)),f=_t;f[0]=1-d*l*l,f[3]=-d*l*c,f[6]=l,f[1]=-d*l*c,f[4]=1-d*c*c,f[7]=c,f[2]=-l,f[5]=-c,f[8]=1-d*(l*l+c*c);const m=o.Matrix3.fromRotationZ(-u.s,Ot),p=o.Matrix3.multiply(f,m,_t),C=e.dayNumber-2451545,y=(e.secondsOfDay-In.computeTaiMinusUtc(e)+t.ut1MinusUtc)/fn.SECONDS_PER_DAY;let h=.779057273264+y+.00273781191135448*(C+y);h=h%1*s.CesiumMath.TWO_PI;const w=o.Matrix3.fromRotationZ(h,Ot),x=o.Matrix3.multiply(p,w,_t),g=Math.cos(t.xPoleWander),S=Math.cos(t.yPoleWander),E=Math.sin(t.xPoleWander),M=Math.sin(t.yPoleWander);let _=a-2451545+i/fn.SECONDS_PER_DAY;_/=36525;const O=-47e-6*_*s.CesiumMath.RADIANS_PER_DEGREE/3600,D=Math.cos(O),T=Math.sin(O),P=Ot;return P[0]=g*D,P[1]=g*T,P[2]=E,P[3]=-S*T+M*E*D,P[4]=S*D+M*E*T,P[5]=-M*g,P[6]=-M*T-S*E*D,P[7]=M*D-S*E*T,P[8]=S*g,o.Matrix3.multiply(x,P,n)};const Dt=new u.Cartesian4;et.pointToWindowCoordinates=function(e,n,t,a){return(a=et.pointToGLWindowCoordinates(e,n,t,a)).y=2*n[5]-a.y,a},et.pointToGLWindowCoordinates=function(e,n,t,a){r.defined(a)||(a=new l.Cartesian2);const i=Dt;return u.Matrix4.multiplyByVector(e,u.Cartesian4.fromElements(t.x,t.y,t.z,1,i),i),u.Cartesian4.multiplyByScalar(i,1/i.w,i),u.Matrix4.multiplyByVector(n,i,i),l.Cartesian2.fromCartesian4(i,a)};const Tt=new n.Cartesian3,Pt=new n.Cartesian3,At=new n.Cartesian3;et.rotationMatrixFromPositionVelocity=function(e,i,u,l){const c=a.defaultValue(u,t.Ellipsoid.WGS84).geodeticSurfaceNormal(e,Tt);let d=n.Cartesian3.cross(i,c,Pt);n.Cartesian3.equalsEpsilon(d,n.Cartesian3.ZERO,s.CesiumMath.EPSILON6)&&(d=n.Cartesian3.clone(n.Cartesian3.UNIT_X,d));const f=n.Cartesian3.cross(d,i,At);return n.Cartesian3.normalize(f,f),n.Cartesian3.cross(i,f,d),n.Cartesian3.negate(d,d),n.Cartesian3.normalize(d,d),r.defined(l)||(l=new o.Matrix3),l[0]=i.x,l[1]=i.y,l[2]=i.z,l[3]=d.x,l[4]=d.y,l[5]=d.z,l[6]=f.x,l[7]=f.y,l[8]=f.z,l};const Rt=new u.Matrix4(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),It=new t.Cartographic,Nt=new n.Cartesian3,zt=new n.Cartesian3,Ut=new o.Matrix3,bt=new u.Matrix4,Ft=new u.Matrix4;et.basisTo2D=function(e,t,a){const r=u.Matrix4.getTranslation(t,zt),i=e.ellipsoid,s=i.cartesianToCartographic(r,It),o=e.project(s,Nt);n.Cartesian3.fromElements(o.z,o.x,o.y,o);const l=et.eastNorthUpToFixedFrame(r,i,bt),c=u.Matrix4.inverseTransformation(l,Ft),d=u.Matrix4.getMatrix3(t,Ut),f=u.Matrix4.multiplyByMatrix3(c,d,a);return u.Matrix4.multiply(Rt,f,a),u.Matrix4.setTranslation(a,o,a),a},et.wgs84To2DModelMatrix=function(e,t,a){const r=e.ellipsoid,i=et.eastNorthUpToFixedFrame(t,r,bt),s=u.Matrix4.inverseTransformation(i,Ft),o=r.cartesianToCartographic(t,It),l=e.project(o,Nt);n.Cartesian3.fromElements(l.z,l.x,l.y,l);const c=u.Matrix4.fromTranslation(l,bt);return u.Matrix4.multiply(Rt,s,a),u.Matrix4.multiply(c,a,a),a};var qt=et;e.BoundingSphere=p,e.FeatureDetection=Ne,e.Intersect=f,e.Interval=m,e.Quaternion=ze,e.Transforms=qt,e.buildModuleUrl=Gn}));
