define(["exports","./Cartesian3-e96ac170","./defaultValue-9f6a6288","./defined-64766648","./Math-56779564"],(function(t,n,e,r,a){"use strict";function o(t,n,r,a,o,i,u,s,c){this[0]=e.defaultValue(t,0),this[1]=e.defaultValue(a,0),this[2]=e.defaultValue(u,0),this[3]=e.defaultValue(n,0),this[4]=e.defaultValue(o,0),this[5]=e.defaultValue(s,0),this[6]=e.defaultValue(r,0),this[7]=e.defaultValue(i,0),this[8]=e.defaultValue(c,0)}o.packedLength=9,o.pack=function(t,n,r){return r=e.defaultValue(r,0),n[r++]=t[0],n[r++]=t[1],n[r++]=t[2],n[r++]=t[3],n[r++]=t[4],n[r++]=t[5],n[r++]=t[6],n[r++]=t[7],n[r++]=t[8],n},o.unpack=function(t,n,a){return n=e.defaultValue(n,0),r.defined(a)||(a=new o),a[0]=t[n++],a[1]=t[n++],a[2]=t[n++],a[3]=t[n++],a[4]=t[n++],a[5]=t[n++],a[6]=t[n++],a[7]=t[n++],a[8]=t[n++],a},o.packArray=function(t,n){const e=t.length,a=9*e;r.defined(n)?(Array.isArray(n)||n.length===a)&&n.length!==a&&(n.length=a):n=new Array(a);for(let r=0;r<e;++r)o.pack(t[r],n,9*r);return n},o.unpackArray=function(t,n){const e=t.length;r.defined(n)?n.length=e/9:n=new Array(e/9);for(let r=0;r<e;r+=9){const e=r/9;n[e]=o.unpack(t,r,n[e])}return n},o.clone=function(t,n){if(r.defined(t))return r.defined(n)?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n):new o(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8])},o.fromArray=o.unpack,o.fromColumnMajorArray=function(t,n){return o.clone(t,n)},o.fromRowMajorArray=function(t,n){return r.defined(n)?(n[0]=t[0],n[1]=t[3],n[2]=t[6],n[3]=t[1],n[4]=t[4],n[5]=t[7],n[6]=t[2],n[7]=t[5],n[8]=t[8],n):new o(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},o.fromQuaternion=function(t,n){const e=t.x*t.x,a=t.x*t.y,i=t.x*t.z,u=t.x*t.w,s=t.y*t.y,c=t.y*t.z,l=t.y*t.w,f=t.z*t.z,d=t.z*t.w,h=t.w*t.w,y=e-s-f+h,m=2*(a-d),M=2*(i+l),x=2*(a+d),g=-e+s-f+h,p=2*(c-u),w=2*(i-l),z=2*(c+u),C=-e-s+f+h;return r.defined(n)?(n[0]=y,n[1]=x,n[2]=w,n[3]=m,n[4]=g,n[5]=z,n[6]=M,n[7]=p,n[8]=C,n):new o(y,m,M,x,g,p,w,z,C)},o.fromHeadingPitchRoll=function(t,n){const e=Math.cos(-t.pitch),a=Math.cos(-t.heading),i=Math.cos(t.roll),u=Math.sin(-t.pitch),s=Math.sin(-t.heading),c=Math.sin(t.roll),l=e*a,f=-i*s+c*u*a,d=c*s+i*u*a,h=e*s,y=i*a+c*u*s,m=-c*a+i*u*s,M=-u,x=c*e,g=i*e;return r.defined(n)?(n[0]=l,n[1]=h,n[2]=M,n[3]=f,n[4]=y,n[5]=x,n[6]=d,n[7]=m,n[8]=g,n):new o(l,f,d,h,y,m,M,x,g)},o.fromScale=function(t,n){return r.defined(n)?(n[0]=t.x,n[1]=0,n[2]=0,n[3]=0,n[4]=t.y,n[5]=0,n[6]=0,n[7]=0,n[8]=t.z,n):new o(t.x,0,0,0,t.y,0,0,0,t.z)},o.fromUniformScale=function(t,n){return r.defined(n)?(n[0]=t,n[1]=0,n[2]=0,n[3]=0,n[4]=t,n[5]=0,n[6]=0,n[7]=0,n[8]=t,n):new o(t,0,0,0,t,0,0,0,t)},o.fromCrossProduct=function(t,n){return r.defined(n)?(n[0]=0,n[1]=t.z,n[2]=-t.y,n[3]=-t.z,n[4]=0,n[5]=t.x,n[6]=t.y,n[7]=-t.x,n[8]=0,n):new o(0,-t.z,t.y,t.z,0,-t.x,-t.y,t.x,0)},o.fromRotationX=function(t,n){const e=Math.cos(t),a=Math.sin(t);return r.defined(n)?(n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=e,n[5]=a,n[6]=0,n[7]=-a,n[8]=e,n):new o(1,0,0,0,e,-a,0,a,e)},o.fromRotationY=function(t,n){const e=Math.cos(t),a=Math.sin(t);return r.defined(n)?(n[0]=e,n[1]=0,n[2]=-a,n[3]=0,n[4]=1,n[5]=0,n[6]=a,n[7]=0,n[8]=e,n):new o(e,0,a,0,1,0,-a,0,e)},o.fromRotationZ=function(t,n){const e=Math.cos(t),a=Math.sin(t);return r.defined(n)?(n[0]=e,n[1]=a,n[2]=0,n[3]=-a,n[4]=e,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n):new o(e,-a,0,a,e,0,0,0,1)},o.toArray=function(t,n){return r.defined(n)?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n):[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},o.getElementIndex=function(t,n){return 3*t+n},o.getColumn=function(t,n,e){const r=3*n,a=t[r],o=t[r+1],i=t[r+2];return e.x=a,e.y=o,e.z=i,e},o.setColumn=function(t,n,e,r){const a=3*n;return(r=o.clone(t,r))[a]=e.x,r[a+1]=e.y,r[a+2]=e.z,r},o.getRow=function(t,n,e){const r=t[n],a=t[n+3],o=t[n+6];return e.x=r,e.y=a,e.z=o,e},o.setRow=function(t,n,e,r){return(r=o.clone(t,r))[n]=e.x,r[n+3]=e.y,r[n+6]=e.z,r};const i=new n.Cartesian3;o.setScale=function(t,n,e){const r=o.getScale(t,i),a=n.x/r.x,u=n.y/r.y,s=n.z/r.z;return e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e[3]=t[3]*u,e[4]=t[4]*u,e[5]=t[5]*u,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*s,e};const u=new n.Cartesian3;o.setUniformScale=function(t,n,e){const r=o.getScale(t,u),a=n/r.x,i=n/r.y,s=n/r.z;return e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*s,e};const s=new n.Cartesian3;o.getScale=function(t,e){return e.x=n.Cartesian3.magnitude(n.Cartesian3.fromElements(t[0],t[1],t[2],s)),e.y=n.Cartesian3.magnitude(n.Cartesian3.fromElements(t[3],t[4],t[5],s)),e.z=n.Cartesian3.magnitude(n.Cartesian3.fromElements(t[6],t[7],t[8],s)),e};const c=new n.Cartesian3;o.getMaximumScale=function(t){return o.getScale(t,c),n.Cartesian3.maximumComponent(c)};const l=new n.Cartesian3;o.setRotation=function(t,n,e){const r=o.getScale(t,l);return e[0]=n[0]*r.x,e[1]=n[1]*r.x,e[2]=n[2]*r.x,e[3]=n[3]*r.y,e[4]=n[4]*r.y,e[5]=n[5]*r.y,e[6]=n[6]*r.z,e[7]=n[7]*r.z,e[8]=n[8]*r.z,e};const f=new n.Cartesian3;o.getRotation=function(t,n){const e=o.getScale(t,f);return n[0]=t[0]/e.x,n[1]=t[1]/e.x,n[2]=t[2]/e.x,n[3]=t[3]/e.y,n[4]=t[4]/e.y,n[5]=t[5]/e.y,n[6]=t[6]/e.z,n[7]=t[7]/e.z,n[8]=t[8]/e.z,n},o.multiply=function(t,n,e){const r=t[0]*n[0]+t[3]*n[1]+t[6]*n[2],a=t[1]*n[0]+t[4]*n[1]+t[7]*n[2],o=t[2]*n[0]+t[5]*n[1]+t[8]*n[2],i=t[0]*n[3]+t[3]*n[4]+t[6]*n[5],u=t[1]*n[3]+t[4]*n[4]+t[7]*n[5],s=t[2]*n[3]+t[5]*n[4]+t[8]*n[5],c=t[0]*n[6]+t[3]*n[7]+t[6]*n[8],l=t[1]*n[6]+t[4]*n[7]+t[7]*n[8],f=t[2]*n[6]+t[5]*n[7]+t[8]*n[8];return e[0]=r,e[1]=a,e[2]=o,e[3]=i,e[4]=u,e[5]=s,e[6]=c,e[7]=l,e[8]=f,e},o.add=function(t,n,e){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},o.subtract=function(t,n,e){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e},o.multiplyByVector=function(t,n,e){const r=n.x,a=n.y,o=n.z,i=t[0]*r+t[3]*a+t[6]*o,u=t[1]*r+t[4]*a+t[7]*o,s=t[2]*r+t[5]*a+t[8]*o;return e.x=i,e.y=u,e.z=s,e},o.multiplyByScalar=function(t,n,e){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},o.multiplyByScale=function(t,n,e){return e[0]=t[0]*n.x,e[1]=t[1]*n.x,e[2]=t[2]*n.x,e[3]=t[3]*n.y,e[4]=t[4]*n.y,e[5]=t[5]*n.y,e[6]=t[6]*n.z,e[7]=t[7]*n.z,e[8]=t[8]*n.z,e},o.multiplyByUniformScale=function(t,n,e){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},o.negate=function(t,n){return n[0]=-t[0],n[1]=-t[1],n[2]=-t[2],n[3]=-t[3],n[4]=-t[4],n[5]=-t[5],n[6]=-t[6],n[7]=-t[7],n[8]=-t[8],n},o.transpose=function(t,n){const e=t[0],r=t[3],a=t[6],o=t[1],i=t[4],u=t[7],s=t[2],c=t[5],l=t[8];return n[0]=e,n[1]=r,n[2]=a,n[3]=o,n[4]=i,n[5]=u,n[6]=s,n[7]=c,n[8]=l,n};const d=[1,0,0],h=[2,2,1];function y(t){let n=0;for(let e=0;e<3;++e){const r=t[o.getElementIndex(h[e],d[e])];n+=2*r*r}return Math.sqrt(n)}function m(t,n){const e=a.CesiumMath.EPSILON15;let r=0,i=1;for(let n=0;n<3;++n){const e=Math.abs(t[o.getElementIndex(h[n],d[n])]);e>r&&(i=n,r=e)}let u=1,s=0;const c=d[i],l=h[i];if(Math.abs(t[o.getElementIndex(l,c)])>e){const n=(t[o.getElementIndex(l,l)]-t[o.getElementIndex(c,c)])/2/t[o.getElementIndex(l,c)];let e;e=n<0?-1/(-n+Math.sqrt(1+n*n)):1/(n+Math.sqrt(1+n*n)),u=1/Math.sqrt(1+e*e),s=e*u}return(n=o.clone(o.IDENTITY,n))[o.getElementIndex(c,c)]=n[o.getElementIndex(l,l)]=u,n[o.getElementIndex(l,c)]=s,n[o.getElementIndex(c,l)]=-s,n}const M=new o,x=new o;o.computeEigenDecomposition=function(t,n){const e=a.CesiumMath.EPSILON20;let i=0,u=0;r.defined(n)||(n={});const s=n.unitary=o.clone(o.IDENTITY,n.unitary),c=n.diagonal=o.clone(t,n.diagonal),l=e*function(t){let n=0;for(let e=0;e<9;++e){const r=t[e];n+=r*r}return Math.sqrt(n)}(c);for(;u<10&&y(c)>l;)m(c,M),o.transpose(M,x),o.multiply(c,M,c),o.multiply(x,c,c),o.multiply(s,M,s),++i>2&&(++u,i=0);return n},o.abs=function(t,n){return n[0]=Math.abs(t[0]),n[1]=Math.abs(t[1]),n[2]=Math.abs(t[2]),n[3]=Math.abs(t[3]),n[4]=Math.abs(t[4]),n[5]=Math.abs(t[5]),n[6]=Math.abs(t[6]),n[7]=Math.abs(t[7]),n[8]=Math.abs(t[8]),n},o.determinant=function(t){const n=t[0],e=t[3],r=t[6],a=t[1],o=t[4],i=t[7],u=t[2],s=t[5],c=t[8];return n*(o*c-s*i)+a*(s*r-e*c)+u*(e*i-o*r)},o.inverse=function(t,n){const e=t[0],r=t[1],a=t[2],i=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=o.determinant(t);n[0]=u*f-l*s,n[1]=l*a-r*f,n[2]=r*s-u*a,n[3]=c*s-i*f,n[4]=e*f-c*a,n[5]=i*a-e*s,n[6]=i*l-c*u,n[7]=c*r-e*l,n[8]=e*u-i*r;const h=1/d;return o.multiplyByScalar(n,h,n)};const g=new o;o.inverseTranspose=function(t,n){return o.inverse(o.transpose(t,g),n)},o.equals=function(t,n){return t===n||r.defined(t)&&r.defined(n)&&t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},o.equalsEpsilon=function(t,n,a){return a=e.defaultValue(a,0),t===n||r.defined(t)&&r.defined(n)&&Math.abs(t[0]-n[0])<=a&&Math.abs(t[1]-n[1])<=a&&Math.abs(t[2]-n[2])<=a&&Math.abs(t[3]-n[3])<=a&&Math.abs(t[4]-n[4])<=a&&Math.abs(t[5]-n[5])<=a&&Math.abs(t[6]-n[6])<=a&&Math.abs(t[7]-n[7])<=a&&Math.abs(t[8]-n[8])<=a},o.IDENTITY=Object.freeze(new o(1,0,0,0,1,0,0,0,1)),o.ZERO=Object.freeze(new o(0,0,0,0,0,0,0,0,0)),o.COLUMN0ROW0=0,o.COLUMN0ROW1=1,o.COLUMN0ROW2=2,o.COLUMN1ROW0=3,o.COLUMN1ROW1=4,o.COLUMN1ROW2=5,o.COLUMN2ROW0=6,o.COLUMN2ROW1=7,o.COLUMN2ROW2=8,Object.defineProperties(o.prototype,{length:{get:function(){return o.packedLength}}}),o.prototype.clone=function(t){return o.clone(this,t)},o.prototype.equals=function(t){return o.equals(this,t)},o.equalsArray=function(t,n,e){return t[0]===n[e]&&t[1]===n[e+1]&&t[2]===n[e+2]&&t[3]===n[e+3]&&t[4]===n[e+4]&&t[5]===n[e+5]&&t[6]===n[e+6]&&t[7]===n[e+7]&&t[8]===n[e+8]},o.prototype.equalsEpsilon=function(t,n){return o.equalsEpsilon(this,t,n)},o.prototype.toString=function(){return`(${this[0]}, ${this[3]}, ${this[6]})\n(${this[1]}, ${this[4]}, ${this[7]})\n(${this[2]}, ${this[5]}, ${this[8]})`},t.Matrix3=o}));
