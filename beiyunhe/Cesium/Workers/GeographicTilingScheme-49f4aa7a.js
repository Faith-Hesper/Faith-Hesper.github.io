define(["exports","./Cartesian2-0a34ed75","./defaultValue-9f6a6288","./defined-64766648","./Ellipsoid-fa58f06f","./GeographicProjection-868b0b16","./Math-56779564"],(function(e,t,i,n,o,s,r){"use strict";function l(e){e=i.defaultValue(e,i.defaultValue.EMPTY_OBJECT),this._ellipsoid=i.defaultValue(e.ellipsoid,o.Ellipsoid.WGS84),this._rectangle=i.defaultValue(e.rectangle,t.Rectangle.MAX_VALUE),this._projection=new s.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=i.defaultValue(e.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=i.defaultValue(e.numberOfLevelZeroTilesY,1)}Object.defineProperties(l.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),l.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},l.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},l.prototype.rectangleToNativeRectangle=function(e,i){const o=r.CesiumMath.toDegrees(e.west),s=r.CesiumMath.toDegrees(e.south),l=r.CesiumMath.toDegrees(e.east),u=r.CesiumMath.toDegrees(e.north);return n.defined(i)?(i.west=o,i.south=s,i.east=l,i.north=u,i):new t.Rectangle(o,s,l,u)},l.prototype.tileXYToNativeRectangle=function(e,t,i,n){const o=this.tileXYToRectangle(e,t,i,n);return o.west=r.CesiumMath.toDegrees(o.west),o.south=r.CesiumMath.toDegrees(o.south),o.east=r.CesiumMath.toDegrees(o.east),o.north=r.CesiumMath.toDegrees(o.north),o},l.prototype.tileXYToRectangle=function(e,i,o,s){const r=this._rectangle,l=this.getNumberOfXTilesAtLevel(o),u=this.getNumberOfYTilesAtLevel(o),a=r.width/l,h=e*a+r.west,c=(e+1)*a+r.west,g=r.height/u,f=r.north-i*g,p=r.north-(i+1)*g;return n.defined(s)||(s=new t.Rectangle(h,p,c,f)),s.west=h,s.south=p,s.east=c,s.north=f,s},l.prototype.positionToTileXY=function(e,i,o){const s=this._rectangle;if(!t.Rectangle.contains(s,e))return;const l=this.getNumberOfXTilesAtLevel(i),u=this.getNumberOfYTilesAtLevel(i),a=s.width/l,h=s.height/u;let c=e.longitude;s.east<s.west&&(c+=r.CesiumMath.TWO_PI);let g=(c-s.west)/a|0;g>=l&&(g=l-1);let f=(s.north-e.latitude)/h|0;return f>=u&&(f=u-1),n.defined(o)?(o.x=g,o.y=f,o):new t.Cartesian2(g,f)},e.GeographicTilingScheme=l}));
