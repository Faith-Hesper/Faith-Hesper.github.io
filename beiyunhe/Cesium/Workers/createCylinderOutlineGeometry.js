define(["./Transforms-b1e48e05","./Cartesian2-0a34ed75","./Cartesian3-e96ac170","./ComponentDatatype-63fd8cd4","./CylinderGeometryLibrary-ae3f9c2b","./defaultValue-9f6a6288","./defined-64766648","./Geometry-dd0ae099","./GeometryAttribute-5ac032ac","./GeometryAttributes-3de79df5","./GeometryOffsetAttribute-2579b8d2","./IndexDatatype-ed8b21cb","./Ellipsoid-fa58f06f","./Math-56779564","./GeographicProjection-868b0b16","./Matrix3-59918a96","./Matrix2-e52b9454","./RuntimeError-cfbf2bc8","./Resource-be841477","./combine-ac72e009","./defer-7878b392","./WebGLConstants-7f557f93"],(function(t,e,i,n,o,r,a,s,u,f,d,l,c,m,b,p,y,_,h,A,G,R){"use strict";const O=new e.Cartesian2;function V(t){const e=(t=r.defaultValue(t,r.defaultValue.EMPTY_OBJECT)).length,i=t.topRadius,n=t.bottomRadius,o=r.defaultValue(t.slices,128),a=Math.max(r.defaultValue(t.numberOfVerticalLines,16),0);this._length=e,this._topRadius=i,this._bottomRadius=n,this._slices=o,this._numberOfVerticalLines=a,this._offsetAttribute=t.offsetAttribute,this._workerName="createCylinderOutlineGeometry"}V.packedLength=6,V.pack=function(t,e,i){return i=r.defaultValue(i,0),e[i++]=t._length,e[i++]=t._topRadius,e[i++]=t._bottomRadius,e[i++]=t._slices,e[i++]=t._numberOfVerticalLines,e[i]=r.defaultValue(t._offsetAttribute,-1),e};const g={length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0,numberOfVerticalLines:void 0,offsetAttribute:void 0};return V.unpack=function(t,e,i){e=r.defaultValue(e,0);const n=t[e++],o=t[e++],s=t[e++],u=t[e++],f=t[e++],d=t[e];return a.defined(i)?(i._length=n,i._topRadius=o,i._bottomRadius=s,i._slices=u,i._numberOfVerticalLines=f,i._offsetAttribute=-1===d?void 0:d,i):(g.length=n,g.topRadius=o,g.bottomRadius=s,g.slices=u,g.numberOfVerticalLines=f,g.offsetAttribute=-1===d?void 0:d,new V(g))},V.createGeometry=function(r){let c=r._length;const m=r._topRadius,b=r._bottomRadius,p=r._slices,y=r._numberOfVerticalLines;if(c<=0||m<0||b<0||0===m&&0===b)return;const _=2*p,h=o.CylinderGeometryLibrary.computePositions(c,m,b,p,!1);let A,G=2*p;if(y>0){const t=Math.min(y,p);A=Math.round(p/t),G+=t}const R=l.IndexDatatype.createTypedArray(_,2*G);let V,g=0;for(V=0;V<p-1;V++)R[g++]=V,R[g++]=V+1,R[g++]=V+p,R[g++]=V+1+p;if(R[g++]=p-1,R[g++]=0,R[g++]=p+p-1,R[g++]=p,y>0)for(V=0;V<p;V+=A)R[g++]=V,R[g++]=V+p;const C=new f.GeometryAttributes;C.position=new u.GeometryAttribute({componentDatatype:n.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:h}),O.x=.5*c,O.y=Math.max(b,m);const L=new t.BoundingSphere(i.Cartesian3.ZERO,e.Cartesian2.magnitude(O));if(a.defined(r._offsetAttribute)){c=h.length;const t=r._offsetAttribute===d.GeometryOffsetAttribute.NONE?0:1,e=new Uint8Array(c/3).fill(t);C.applyOffset=new u.GeometryAttribute({componentDatatype:n.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:e})}return new s.Geometry({attributes:C,indices:R,primitiveType:s.PrimitiveType.LINES,boundingSphere:L,offsetAttribute:r._offsetAttribute})},function(t,e){return a.defined(e)&&(t=V.unpack(t,e)),V.createGeometry(t)}}));
