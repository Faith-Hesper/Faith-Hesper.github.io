define(["./arrayRemoveDuplicates-d0608faf","./Transforms-b1e48e05","./Cartesian3-e96ac170","./ComponentDatatype-63fd8cd4","./CoplanarPolygonGeometryLibrary-50b6889f","./defaultValue-9f6a6288","./defined-64766648","./Geometry-dd0ae099","./GeometryAttribute-5ac032ac","./GeometryAttributes-3de79df5","./GeometryInstance-a555221e","./GeometryPipeline-92c34dd1","./IndexDatatype-ed8b21cb","./PolygonGeometryLibrary-37fe200f","./Ellipsoid-fa58f06f","./Math-56779564","./GeographicProjection-868b0b16","./Matrix3-59918a96","./Matrix2-e52b9454","./RuntimeError-cfbf2bc8","./Cartesian2-0a34ed75","./Resource-be841477","./combine-ac72e009","./defer-7878b392","./WebGLConstants-7f557f93","./OrientedBoundingBox-fa9d7c73","./EllipsoidTangentPlane-8f36a7e0","./AxisAlignedBoundingBox-8b4e9f9c","./IntersectionTests-39c3b1c1","./Plane-f9bf6226","./AttributeCompression-44abee07","./EncodedCartesian3-e0f0a7d1","./ArcType-26a3f38d","./EllipsoidRhumbLine-cea00df6","./PolygonPipeline-d79010c3"],(function(e,t,n,o,r,i,a,y,l,s,c,p,u,d,m,g,f,h,G,P,b,C,L,E,T,A,H,k,x,I,w,D,_,v,B){"use strict";function O(e){const t=e.length,n=new Float64Array(3*t),r=u.IndexDatatype.createTypedArray(t,2*t);let i=0,a=0;for(let o=0;o<t;o++){const y=e[o];n[i++]=y.x,n[i++]=y.y,n[i++]=y.z,r[a++]=o,r[a++]=(o+1)%t}const c=new s.GeometryAttributes({position:new l.GeometryAttribute({componentDatatype:o.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:n})});return new y.Geometry({attributes:c,indices:r,primitiveType:y.PrimitiveType.LINES})}function V(e){const t=(e=i.defaultValue(e,i.defaultValue.EMPTY_OBJECT)).polygonHierarchy;this._polygonHierarchy=t,this._workerName="createCoplanarPolygonOutlineGeometry",this.packedLength=d.PolygonGeometryLibrary.computeHierarchyPackedLength(t,n.Cartesian3)+1}V.fromPositions=function(e){return new V({polygonHierarchy:{positions:(e=i.defaultValue(e,i.defaultValue.EMPTY_OBJECT)).positions}})},V.pack=function(e,t,o){return o=i.defaultValue(o,0),t[o=d.PolygonGeometryLibrary.packPolygonHierarchy(e._polygonHierarchy,t,o,n.Cartesian3)]=e.packedLength,t};const M={polygonHierarchy:{}};return V.unpack=function(e,t,o){t=i.defaultValue(t,0);const r=d.PolygonGeometryLibrary.unpackPolygonHierarchy(e,t,n.Cartesian3);t=r.startingIndex,delete r.startingIndex;const y=e[t];return a.defined(o)||(o=new V(M)),o._polygonHierarchy=r,o.packedLength=y,o},V.createGeometry=function(o){const i=o._polygonHierarchy;let a=i.positions;if(a=e.arrayRemoveDuplicates(a,n.Cartesian3.equalsEpsilon,!0),a.length<3)return;if(!r.CoplanarPolygonGeometryLibrary.validOutline(a))return;const l=d.PolygonGeometryLibrary.polygonOutlinesFromHierarchy(i,!1);if(0===l.length)return;const s=[];for(let e=0;e<l.length;e++){const t=new c.GeometryInstance({geometry:O(l[e])});s.push(t)}const u=p.GeometryPipeline.combineInstances(s)[0],m=t.BoundingSphere.fromPoints(i.positions);return new y.Geometry({attributes:u.attributes,indices:u.indices,primitiveType:u.primitiveType,boundingSphere:m})},function(e,t){return a.defined(t)&&(e=V.unpack(e,t)),e._ellipsoid=m.Ellipsoid.clone(e._ellipsoid),V.createGeometry(e)}}));
