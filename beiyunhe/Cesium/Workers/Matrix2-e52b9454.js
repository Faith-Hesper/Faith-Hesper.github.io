define(["exports","./Cartesian3-e96ac170","./defaultValue-9f6a6288","./defined-64766648","./Math-56779564","./Matrix3-59918a96","./RuntimeError-cfbf2bc8","./Cartesian2-0a34ed75"],(function(n,t,e,r,a,u,i,o){"use strict";function c(n,t,r,a){this.x=e.defaultValue(n,0),this.y=e.defaultValue(t,0),this.z=e.defaultValue(r,0),this.w=e.defaultValue(a,0)}c.fromElements=function(n,t,e,a,u){return r.defined(u)?(u.x=n,u.y=t,u.z=e,u.w=a,u):new c(n,t,e,a)},c.fromColor=function(n,t){return r.defined(t)?(t.x=n.red,t.y=n.green,t.z=n.blue,t.w=n.alpha,t):new c(n.red,n.green,n.blue,n.alpha)},c.clone=function(n,t){if(r.defined(n))return r.defined(t)?(t.x=n.x,t.y=n.y,t.z=n.z,t.w=n.w,t):new c(n.x,n.y,n.z,n.w)},c.packedLength=4,c.pack=function(n,t,r){return r=e.defaultValue(r,0),t[r++]=n.x,t[r++]=n.y,t[r++]=n.z,t[r]=n.w,t},c.unpack=function(n,t,a){return t=e.defaultValue(t,0),r.defined(a)||(a=new c),a.x=n[t++],a.y=n[t++],a.z=n[t++],a.w=n[t],a},c.packArray=function(n,t){const e=n.length,a=4*e;r.defined(t)?(Array.isArray(t)||t.length===a)&&t.length!==a&&(t.length=a):t=new Array(a);for(let r=0;r<e;++r)c.pack(n[r],t,4*r);return t},c.unpackArray=function(n,t){const e=n.length;r.defined(t)?t.length=e/4:t=new Array(e/4);for(let r=0;r<e;r+=4){const e=r/4;t[e]=c.unpack(n,r,t[e])}return t},c.fromArray=c.unpack,c.maximumComponent=function(n){return Math.max(n.x,n.y,n.z,n.w)},c.minimumComponent=function(n){return Math.min(n.x,n.y,n.z,n.w)},c.minimumByComponent=function(n,t,e){return e.x=Math.min(n.x,t.x),e.y=Math.min(n.y,t.y),e.z=Math.min(n.z,t.z),e.w=Math.min(n.w,t.w),e},c.maximumByComponent=function(n,t,e){return e.x=Math.max(n.x,t.x),e.y=Math.max(n.y,t.y),e.z=Math.max(n.z,t.z),e.w=Math.max(n.w,t.w),e},c.clamp=function(n,t,e,r){const u=a.CesiumMath.clamp(n.x,t.x,e.x),i=a.CesiumMath.clamp(n.y,t.y,e.y),o=a.CesiumMath.clamp(n.z,t.z,e.z),c=a.CesiumMath.clamp(n.w,t.w,e.w);return r.x=u,r.y=i,r.z=o,r.w=c,r},c.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y+n.z*n.z+n.w*n.w},c.magnitude=function(n){return Math.sqrt(c.magnitudeSquared(n))};const s=new c;c.distance=function(n,t){return c.subtract(n,t,s),c.magnitude(s)},c.distanceSquared=function(n,t){return c.subtract(n,t,s),c.magnitudeSquared(s)},c.normalize=function(n,t){const e=c.magnitude(n);return t.x=n.x/e,t.y=n.y/e,t.z=n.z/e,t.w=n.w/e,t},c.dot=function(n,t){return n.x*t.x+n.y*t.y+n.z*t.z+n.w*t.w},c.multiplyComponents=function(n,t,e){return e.x=n.x*t.x,e.y=n.y*t.y,e.z=n.z*t.z,e.w=n.w*t.w,e},c.divideComponents=function(n,t,e){return e.x=n.x/t.x,e.y=n.y/t.y,e.z=n.z/t.z,e.w=n.w/t.w,e},c.add=function(n,t,e){return e.x=n.x+t.x,e.y=n.y+t.y,e.z=n.z+t.z,e.w=n.w+t.w,e},c.subtract=function(n,t,e){return e.x=n.x-t.x,e.y=n.y-t.y,e.z=n.z-t.z,e.w=n.w-t.w,e},c.multiplyByScalar=function(n,t,e){return e.x=n.x*t,e.y=n.y*t,e.z=n.z*t,e.w=n.w*t,e},c.divideByScalar=function(n,t,e){return e.x=n.x/t,e.y=n.y/t,e.z=n.z/t,e.w=n.w/t,e},c.negate=function(n,t){return t.x=-n.x,t.y=-n.y,t.z=-n.z,t.w=-n.w,t},c.abs=function(n,t){return t.x=Math.abs(n.x),t.y=Math.abs(n.y),t.z=Math.abs(n.z),t.w=Math.abs(n.w),t};const f=new c;c.lerp=function(n,t,e,r){return c.multiplyByScalar(t,e,f),r=c.multiplyByScalar(n,1-e,r),c.add(f,r,r)};const l=new c;c.mostOrthogonalAxis=function(n,t){const e=c.normalize(n,l);return c.abs(e,e),t=e.x<=e.y?e.x<=e.z?e.x<=e.w?c.clone(c.UNIT_X,t):c.clone(c.UNIT_W,t):e.z<=e.w?c.clone(c.UNIT_Z,t):c.clone(c.UNIT_W,t):e.y<=e.z?e.y<=e.w?c.clone(c.UNIT_Y,t):c.clone(c.UNIT_W,t):e.z<=e.w?c.clone(c.UNIT_Z,t):c.clone(c.UNIT_W,t)},c.equals=function(n,t){return n===t||r.defined(n)&&r.defined(t)&&n.x===t.x&&n.y===t.y&&n.z===t.z&&n.w===t.w},c.equalsArray=function(n,t,e){return n.x===t[e]&&n.y===t[e+1]&&n.z===t[e+2]&&n.w===t[e+3]},c.equalsEpsilon=function(n,t,e,u){return n===t||r.defined(n)&&r.defined(t)&&a.CesiumMath.equalsEpsilon(n.x,t.x,e,u)&&a.CesiumMath.equalsEpsilon(n.y,t.y,e,u)&&a.CesiumMath.equalsEpsilon(n.z,t.z,e,u)&&a.CesiumMath.equalsEpsilon(n.w,t.w,e,u)},c.ZERO=Object.freeze(new c(0,0,0,0)),c.ONE=Object.freeze(new c(1,1,1,1)),c.UNIT_X=Object.freeze(new c(1,0,0,0)),c.UNIT_Y=Object.freeze(new c(0,1,0,0)),c.UNIT_Z=Object.freeze(new c(0,0,1,0)),c.UNIT_W=Object.freeze(new c(0,0,0,1)),c.prototype.clone=function(n){return c.clone(this,n)},c.prototype.equals=function(n){return c.equals(this,n)},c.prototype.equalsEpsilon=function(n,t,e){return c.equalsEpsilon(this,n,t,e)},c.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};const y=new Float32Array(1),d=new Uint8Array(y.buffer),h=new Uint32Array([287454020]),m=68===new Uint8Array(h.buffer)[0];function w(n,t,r,a,u,i,o,c,s,f,l,y,d,h,m,w){this[0]=e.defaultValue(n,0),this[1]=e.defaultValue(u,0),this[2]=e.defaultValue(s,0),this[3]=e.defaultValue(d,0),this[4]=e.defaultValue(t,0),this[5]=e.defaultValue(i,0),this[6]=e.defaultValue(f,0),this[7]=e.defaultValue(h,0),this[8]=e.defaultValue(r,0),this[9]=e.defaultValue(o,0),this[10]=e.defaultValue(l,0),this[11]=e.defaultValue(m,0),this[12]=e.defaultValue(a,0),this[13]=e.defaultValue(c,0),this[14]=e.defaultValue(y,0),this[15]=e.defaultValue(w,0)}c.packFloat=function(n,t){return r.defined(t)||(t=new c),y[0]=n,m?(t.x=d[0],t.y=d[1],t.z=d[2],t.w=d[3]):(t.x=d[3],t.y=d[2],t.z=d[1],t.w=d[0]),t},c.unpackFloat=function(n){return m?(d[0]=n.x,d[1]=n.y,d[2]=n.z,d[3]=n.w):(d[0]=n.w,d[1]=n.z,d[2]=n.y,d[3]=n.x),y[0]},w.packedLength=16,w.pack=function(n,t,r){return r=e.defaultValue(r,0),t[r++]=n[0],t[r++]=n[1],t[r++]=n[2],t[r++]=n[3],t[r++]=n[4],t[r++]=n[5],t[r++]=n[6],t[r++]=n[7],t[r++]=n[8],t[r++]=n[9],t[r++]=n[10],t[r++]=n[11],t[r++]=n[12],t[r++]=n[13],t[r++]=n[14],t[r]=n[15],t},w.unpack=function(n,t,a){return t=e.defaultValue(t,0),r.defined(a)||(a=new w),a[0]=n[t++],a[1]=n[t++],a[2]=n[t++],a[3]=n[t++],a[4]=n[t++],a[5]=n[t++],a[6]=n[t++],a[7]=n[t++],a[8]=n[t++],a[9]=n[t++],a[10]=n[t++],a[11]=n[t++],a[12]=n[t++],a[13]=n[t++],a[14]=n[t++],a[15]=n[t],a},w.packArray=function(n,t){const e=n.length,a=16*e;r.defined(t)?(Array.isArray(t)||t.length===a)&&t.length!==a&&(t.length=a):t=new Array(a);for(let r=0;r<e;++r)w.pack(n[r],t,16*r);return t},w.unpackArray=function(n,t){const e=n.length;r.defined(t)?t.length=e/16:t=new Array(e/16);for(let r=0;r<e;r+=16){const e=r/16;t[e]=w.unpack(n,r,t[e])}return t},w.clone=function(n,t){if(r.defined(n))return r.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t):new w(n[0],n[4],n[8],n[12],n[1],n[5],n[9],n[13],n[2],n[6],n[10],n[14],n[3],n[7],n[11],n[15])},w.fromArray=w.unpack,w.fromColumnMajorArray=function(n,t){return w.clone(n,t)},w.fromRowMajorArray=function(n,t){return r.defined(t)?(t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15],t):new w(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])},w.fromRotationTranslation=function(n,a,u){return a=e.defaultValue(a,t.Cartesian3.ZERO),r.defined(u)?(u[0]=n[0],u[1]=n[1],u[2]=n[2],u[3]=0,u[4]=n[3],u[5]=n[4],u[6]=n[5],u[7]=0,u[8]=n[6],u[9]=n[7],u[10]=n[8],u[11]=0,u[12]=a.x,u[13]=a.y,u[14]=a.z,u[15]=1,u):new w(n[0],n[3],n[6],a.x,n[1],n[4],n[7],a.y,n[2],n[5],n[8],a.z,0,0,0,1)},w.fromTranslationQuaternionRotationScale=function(n,t,e,a){r.defined(a)||(a=new w);const u=e.x,i=e.y,o=e.z,c=t.x*t.x,s=t.x*t.y,f=t.x*t.z,l=t.x*t.w,y=t.y*t.y,d=t.y*t.z,h=t.y*t.w,m=t.z*t.z,x=t.z*t.w,p=t.w*t.w,z=c-y-m+p,M=2*(s-x),C=2*(f+h),g=2*(s+x),b=-c+y-m+p,O=2*(d-l),V=2*(f-h),R=2*(d+l),S=-c-y+m+p;return a[0]=z*u,a[1]=g*u,a[2]=V*u,a[3]=0,a[4]=M*i,a[5]=b*i,a[6]=R*i,a[7]=0,a[8]=C*o,a[9]=O*o,a[10]=S*o,a[11]=0,a[12]=n.x,a[13]=n.y,a[14]=n.z,a[15]=1,a},w.fromTranslationRotationScale=function(n,t){return w.fromTranslationQuaternionRotationScale(n.translation,n.rotation,n.scale,t)},w.fromTranslation=function(n,t){return w.fromRotationTranslation(u.Matrix3.IDENTITY,n,t)},w.fromScale=function(n,t){return r.defined(t)?(t[0]=n.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new w(n.x,0,0,0,0,n.y,0,0,0,0,n.z,0,0,0,0,1)},w.fromUniformScale=function(n,t){return r.defined(t)?(t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new w(n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1)},w.fromRotation=function(n,t){return r.defined(t)||(t=new w),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=0,t[4]=n[3],t[5]=n[4],t[6]=n[5],t[7]=0,t[8]=n[6],t[9]=n[7],t[10]=n[8],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};const x=new t.Cartesian3,p=new t.Cartesian3,z=new t.Cartesian3;w.fromCamera=function(n,e){const a=n.position,u=n.direction,i=n.up;t.Cartesian3.normalize(u,x),t.Cartesian3.normalize(t.Cartesian3.cross(x,i,p),p),t.Cartesian3.normalize(t.Cartesian3.cross(p,x,z),z);const o=p.x,c=p.y,s=p.z,f=x.x,l=x.y,y=x.z,d=z.x,h=z.y,m=z.z,M=a.x,C=a.y,g=a.z,b=o*-M+c*-C+s*-g,O=d*-M+h*-C+m*-g,V=f*M+l*C+y*g;return r.defined(e)?(e[0]=o,e[1]=d,e[2]=-f,e[3]=0,e[4]=c,e[5]=h,e[6]=-l,e[7]=0,e[8]=s,e[9]=m,e[10]=-y,e[11]=0,e[12]=b,e[13]=O,e[14]=V,e[15]=1,e):new w(o,c,s,b,d,h,m,O,-f,-l,-y,V,0,0,0,1)},w.computePerspectiveFieldOfView=function(n,t,e,r,a){const u=1/Math.tan(.5*n),i=u/t,o=(r+e)/(e-r),c=2*r*e/(e-r);return a[0]=i,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=o,a[11]=-1,a[12]=0,a[13]=0,a[14]=c,a[15]=0,a},w.computeOrthographicOffCenter=function(n,t,e,r,a,u,i){let o=1/(t-n),c=1/(r-e),s=1/(u-a);const f=-(t+n)*o,l=-(r+e)*c,y=-(u+a)*s;return o*=2,c*=2,s*=-2,i[0]=o,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=c,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=s,i[11]=0,i[12]=f,i[13]=l,i[14]=y,i[15]=1,i},w.computePerspectiveOffCenter=function(n,t,e,r,a,u,i){const o=2*a/(t-n),c=2*a/(r-e),s=(t+n)/(t-n),f=(r+e)/(r-e),l=-(u+a)/(u-a),y=-2*u*a/(u-a);return i[0]=o,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=c,i[6]=0,i[7]=0,i[8]=s,i[9]=f,i[10]=l,i[11]=-1,i[12]=0,i[13]=0,i[14]=y,i[15]=0,i},w.computeInfinitePerspectiveOffCenter=function(n,t,e,r,a,u){const i=2*a/(t-n),o=2*a/(r-e),c=(t+n)/(t-n),s=(r+e)/(r-e),f=-2*a;return u[0]=i,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=o,u[6]=0,u[7]=0,u[8]=c,u[9]=s,u[10]=-1,u[11]=-1,u[12]=0,u[13]=0,u[14]=f,u[15]=0,u},w.computeViewportTransformation=function(n,t,a,u){r.defined(u)||(u=new w),n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT);const i=e.defaultValue(n.x,0),o=e.defaultValue(n.y,0),c=e.defaultValue(n.width,0),s=e.defaultValue(n.height,0);t=e.defaultValue(t,0);const f=.5*c,l=.5*s,y=.5*((a=e.defaultValue(a,1))-t),d=f,h=l,m=y,x=i+f,p=o+l,z=t+y;return u[0]=d,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=h,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=m,u[11]=0,u[12]=x,u[13]=p,u[14]=z,u[15]=1,u},w.computeView=function(n,e,r,a,u){return u[0]=a.x,u[1]=r.x,u[2]=-e.x,u[3]=0,u[4]=a.y,u[5]=r.y,u[6]=-e.y,u[7]=0,u[8]=a.z,u[9]=r.z,u[10]=-e.z,u[11]=0,u[12]=-t.Cartesian3.dot(a,n),u[13]=-t.Cartesian3.dot(r,n),u[14]=t.Cartesian3.dot(e,n),u[15]=1,u},w.toArray=function(n,t){return r.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t):[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]},w.getElementIndex=function(n,t){return 4*n+t},w.getColumn=function(n,t,e){const r=4*t,a=n[r],u=n[r+1],i=n[r+2],o=n[r+3];return e.x=a,e.y=u,e.z=i,e.w=o,e},w.setColumn=function(n,t,e,r){const a=4*t;return(r=w.clone(n,r))[a]=e.x,r[a+1]=e.y,r[a+2]=e.z,r[a+3]=e.w,r},w.getRow=function(n,t,e){const r=n[t],a=n[t+4],u=n[t+8],i=n[t+12];return e.x=r,e.y=a,e.z=u,e.w=i,e},w.setRow=function(n,t,e,r){return(r=w.clone(n,r))[t]=e.x,r[t+4]=e.y,r[t+8]=e.z,r[t+12]=e.w,r},w.setTranslation=function(n,t,e){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=t.x,e[13]=t.y,e[14]=t.z,e[15]=n[15],e};const M=new t.Cartesian3;w.setScale=function(n,t,e){const r=w.getScale(n,M),a=t.x/r.x,u=t.y/r.y,i=t.z/r.z;return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a,e[3]=n[3],e[4]=n[4]*u,e[5]=n[5]*u,e[6]=n[6]*u,e[7]=n[7],e[8]=n[8]*i,e[9]=n[9]*i,e[10]=n[10]*i,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e};const C=new t.Cartesian3;w.setUniformScale=function(n,t,e){const r=w.getScale(n,C),a=t/r.x,u=t/r.y,i=t/r.z;return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a,e[3]=n[3],e[4]=n[4]*u,e[5]=n[5]*u,e[6]=n[6]*u,e[7]=n[7],e[8]=n[8]*i,e[9]=n[9]*i,e[10]=n[10]*i,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e};const g=new t.Cartesian3;w.getScale=function(n,e){return e.x=t.Cartesian3.magnitude(t.Cartesian3.fromElements(n[0],n[1],n[2],g)),e.y=t.Cartesian3.magnitude(t.Cartesian3.fromElements(n[4],n[5],n[6],g)),e.z=t.Cartesian3.magnitude(t.Cartesian3.fromElements(n[8],n[9],n[10],g)),e};const b=new t.Cartesian3;w.getMaximumScale=function(n){return w.getScale(n,b),t.Cartesian3.maximumComponent(b)};const O=new t.Cartesian3;w.setRotation=function(n,t,e){const r=w.getScale(n,O);return e[0]=t[0]*r.x,e[1]=t[1]*r.x,e[2]=t[2]*r.x,e[3]=n[3],e[4]=t[3]*r.y,e[5]=t[4]*r.y,e[6]=t[5]*r.y,e[7]=n[7],e[8]=t[6]*r.z,e[9]=t[7]*r.z,e[10]=t[8]*r.z,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e};const V=new t.Cartesian3;w.getRotation=function(n,t){const e=w.getScale(n,V);return t[0]=n[0]/e.x,t[1]=n[1]/e.x,t[2]=n[2]/e.x,t[3]=n[4]/e.y,t[4]=n[5]/e.y,t[5]=n[6]/e.y,t[6]=n[8]/e.z,t[7]=n[9]/e.z,t[8]=n[10]/e.z,t},w.multiply=function(n,t,e){const r=n[0],a=n[1],u=n[2],i=n[3],o=n[4],c=n[5],s=n[6],f=n[7],l=n[8],y=n[9],d=n[10],h=n[11],m=n[12],w=n[13],x=n[14],p=n[15],z=t[0],M=t[1],C=t[2],g=t[3],b=t[4],O=t[5],V=t[6],R=t[7],S=t[8],U=t[9],N=t[10],A=t[11],E=t[12],T=t[13],q=t[14],k=t[15],L=r*z+o*M+l*C+m*g,W=a*z+c*M+y*C+w*g,$=u*z+s*M+d*C+x*g,I=i*z+f*M+h*C+p*g,B=r*b+o*O+l*V+m*R,j=a*b+c*O+y*V+w*R,_=u*b+s*O+d*V+x*R,v=i*b+f*O+h*V+p*R,P=r*S+o*U+l*N+m*A,Z=a*S+c*U+y*N+w*A,Y=u*S+s*U+d*N+x*A,F=i*S+f*U+h*N+p*A,D=r*E+o*T+l*q+m*k,Q=a*E+c*T+y*q+w*k,X=u*E+s*T+d*q+x*k,J=i*E+f*T+h*q+p*k;return e[0]=L,e[1]=W,e[2]=$,e[3]=I,e[4]=B,e[5]=j,e[6]=_,e[7]=v,e[8]=P,e[9]=Z,e[10]=Y,e[11]=F,e[12]=D,e[13]=Q,e[14]=X,e[15]=J,e},w.add=function(n,t,e){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e[3]=n[3]+t[3],e[4]=n[4]+t[4],e[5]=n[5]+t[5],e[6]=n[6]+t[6],e[7]=n[7]+t[7],e[8]=n[8]+t[8],e[9]=n[9]+t[9],e[10]=n[10]+t[10],e[11]=n[11]+t[11],e[12]=n[12]+t[12],e[13]=n[13]+t[13],e[14]=n[14]+t[14],e[15]=n[15]+t[15],e},w.subtract=function(n,t,e){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e[3]=n[3]-t[3],e[4]=n[4]-t[4],e[5]=n[5]-t[5],e[6]=n[6]-t[6],e[7]=n[7]-t[7],e[8]=n[8]-t[8],e[9]=n[9]-t[9],e[10]=n[10]-t[10],e[11]=n[11]-t[11],e[12]=n[12]-t[12],e[13]=n[13]-t[13],e[14]=n[14]-t[14],e[15]=n[15]-t[15],e},w.multiplyTransformation=function(n,t,e){const r=n[0],a=n[1],u=n[2],i=n[4],o=n[5],c=n[6],s=n[8],f=n[9],l=n[10],y=n[12],d=n[13],h=n[14],m=t[0],w=t[1],x=t[2],p=t[4],z=t[5],M=t[6],C=t[8],g=t[9],b=t[10],O=t[12],V=t[13],R=t[14],S=r*m+i*w+s*x,U=a*m+o*w+f*x,N=u*m+c*w+l*x,A=r*p+i*z+s*M,E=a*p+o*z+f*M,T=u*p+c*z+l*M,q=r*C+i*g+s*b,k=a*C+o*g+f*b,L=u*C+c*g+l*b,W=r*O+i*V+s*R+y,$=a*O+o*V+f*R+d,I=u*O+c*V+l*R+h;return e[0]=S,e[1]=U,e[2]=N,e[3]=0,e[4]=A,e[5]=E,e[6]=T,e[7]=0,e[8]=q,e[9]=k,e[10]=L,e[11]=0,e[12]=W,e[13]=$,e[14]=I,e[15]=1,e},w.multiplyByMatrix3=function(n,t,e){const r=n[0],a=n[1],u=n[2],i=n[4],o=n[5],c=n[6],s=n[8],f=n[9],l=n[10],y=t[0],d=t[1],h=t[2],m=t[3],w=t[4],x=t[5],p=t[6],z=t[7],M=t[8],C=r*y+i*d+s*h,g=a*y+o*d+f*h,b=u*y+c*d+l*h,O=r*m+i*w+s*x,V=a*m+o*w+f*x,R=u*m+c*w+l*x,S=r*p+i*z+s*M,U=a*p+o*z+f*M,N=u*p+c*z+l*M;return e[0]=C,e[1]=g,e[2]=b,e[3]=0,e[4]=O,e[5]=V,e[6]=R,e[7]=0,e[8]=S,e[9]=U,e[10]=N,e[11]=0,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},w.multiplyByTranslation=function(n,t,e){const r=t.x,a=t.y,u=t.z,i=r*n[0]+a*n[4]+u*n[8]+n[12],o=r*n[1]+a*n[5]+u*n[9]+n[13],c=r*n[2]+a*n[6]+u*n[10]+n[14];return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=i,e[13]=o,e[14]=c,e[15]=n[15],e},w.multiplyByScale=function(n,t,e){const r=t.x,a=t.y,u=t.z;return 1===r&&1===a&&1===u?w.clone(n,e):(e[0]=r*n[0],e[1]=r*n[1],e[2]=r*n[2],e[3]=n[3],e[4]=a*n[4],e[5]=a*n[5],e[6]=a*n[6],e[7]=n[7],e[8]=u*n[8],e[9]=u*n[9],e[10]=u*n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e)},w.multiplyByUniformScale=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3],e[4]=n[4]*t,e[5]=n[5]*t,e[6]=n[6]*t,e[7]=n[7],e[8]=n[8]*t,e[9]=n[9]*t,e[10]=n[10]*t,e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},w.multiplyByVector=function(n,t,e){const r=t.x,a=t.y,u=t.z,i=t.w,o=n[0]*r+n[4]*a+n[8]*u+n[12]*i,c=n[1]*r+n[5]*a+n[9]*u+n[13]*i,s=n[2]*r+n[6]*a+n[10]*u+n[14]*i,f=n[3]*r+n[7]*a+n[11]*u+n[15]*i;return e.x=o,e.y=c,e.z=s,e.w=f,e},w.multiplyByPointAsVector=function(n,t,e){const r=t.x,a=t.y,u=t.z,i=n[0]*r+n[4]*a+n[8]*u,o=n[1]*r+n[5]*a+n[9]*u,c=n[2]*r+n[6]*a+n[10]*u;return e.x=i,e.y=o,e.z=c,e},w.multiplyByPoint=function(n,t,e){const r=t.x,a=t.y,u=t.z,i=n[0]*r+n[4]*a+n[8]*u+n[12],o=n[1]*r+n[5]*a+n[9]*u+n[13],c=n[2]*r+n[6]*a+n[10]*u+n[14];return e.x=i,e.y=o,e.z=c,e},w.multiplyByScalar=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e[4]=n[4]*t,e[5]=n[5]*t,e[6]=n[6]*t,e[7]=n[7]*t,e[8]=n[8]*t,e[9]=n[9]*t,e[10]=n[10]*t,e[11]=n[11]*t,e[12]=n[12]*t,e[13]=n[13]*t,e[14]=n[14]*t,e[15]=n[15]*t,e},w.negate=function(n,t){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t[9]=-n[9],t[10]=-n[10],t[11]=-n[11],t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=-n[15],t},w.transpose=function(n,t){const e=n[1],r=n[2],a=n[3],u=n[6],i=n[7],o=n[11];return t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=u,t[10]=n[10],t[11]=n[14],t[12]=a,t[13]=i,t[14]=o,t[15]=n[15],t},w.abs=function(n,t){return t[0]=Math.abs(n[0]),t[1]=Math.abs(n[1]),t[2]=Math.abs(n[2]),t[3]=Math.abs(n[3]),t[4]=Math.abs(n[4]),t[5]=Math.abs(n[5]),t[6]=Math.abs(n[6]),t[7]=Math.abs(n[7]),t[8]=Math.abs(n[8]),t[9]=Math.abs(n[9]),t[10]=Math.abs(n[10]),t[11]=Math.abs(n[11]),t[12]=Math.abs(n[12]),t[13]=Math.abs(n[13]),t[14]=Math.abs(n[14]),t[15]=Math.abs(n[15]),t},w.equals=function(n,t){return n===t||r.defined(n)&&r.defined(t)&&n[12]===t[12]&&n[13]===t[13]&&n[14]===t[14]&&n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]&&n[4]===t[4]&&n[5]===t[5]&&n[6]===t[6]&&n[8]===t[8]&&n[9]===t[9]&&n[10]===t[10]&&n[3]===t[3]&&n[7]===t[7]&&n[11]===t[11]&&n[15]===t[15]},w.equalsEpsilon=function(n,t,a){return a=e.defaultValue(a,0),n===t||r.defined(n)&&r.defined(t)&&Math.abs(n[0]-t[0])<=a&&Math.abs(n[1]-t[1])<=a&&Math.abs(n[2]-t[2])<=a&&Math.abs(n[3]-t[3])<=a&&Math.abs(n[4]-t[4])<=a&&Math.abs(n[5]-t[5])<=a&&Math.abs(n[6]-t[6])<=a&&Math.abs(n[7]-t[7])<=a&&Math.abs(n[8]-t[8])<=a&&Math.abs(n[9]-t[9])<=a&&Math.abs(n[10]-t[10])<=a&&Math.abs(n[11]-t[11])<=a&&Math.abs(n[12]-t[12])<=a&&Math.abs(n[13]-t[13])<=a&&Math.abs(n[14]-t[14])<=a&&Math.abs(n[15]-t[15])<=a},w.getTranslation=function(n,t){return t.x=n[12],t.y=n[13],t.z=n[14],t},w.getMatrix3=function(n,t){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t};const R=new u.Matrix3,S=new u.Matrix3,U=new c,N=new c(0,0,0,1);w.inverse=function(n,t){const e=n[0],r=n[4],o=n[8],s=n[12],f=n[1],l=n[5],y=n[9],d=n[13],h=n[2],m=n[6],x=n[10],p=n[14],z=n[3],M=n[7],C=n[11],g=n[15];let b=x*g,O=p*C,V=m*g,A=p*M,E=m*C,T=x*M,q=h*g,k=p*z,L=h*C,W=x*z,$=h*M,I=m*z;const B=b*l+A*y+E*d-(O*l+V*y+T*d),j=O*f+q*y+W*d-(b*f+k*y+L*d),_=V*f+k*l+$*d-(A*f+q*l+I*d),v=T*f+L*l+I*y-(E*f+W*l+$*y),P=O*r+V*o+T*s-(b*r+A*o+E*s),Z=b*e+k*o+L*s-(O*e+q*o+W*s),Y=A*e+q*r+I*s-(V*e+k*r+$*s),F=E*e+W*r+$*o-(T*e+L*r+I*o);b=o*d,O=s*y,V=r*d,A=s*l,E=r*y,T=o*l,q=e*d,k=s*f,L=e*y,W=o*f,$=e*l,I=r*f;const D=b*M+A*C+E*g-(O*M+V*C+T*g),Q=O*z+q*C+W*g-(b*z+k*C+L*g),X=V*z+k*M+$*g-(A*z+q*M+I*g),J=T*z+L*M+I*C-(E*z+W*M+$*C),G=V*x+T*p+O*m-(E*p+b*m+A*x),H=L*p+b*h+k*x-(q*x+W*p+O*h),K=q*m+I*p+A*h-($*p+V*h+k*m),nn=$*x+E*h+W*m-(L*m+I*x+T*h);let tn=e*B+r*j+o*_+s*v;if(Math.abs(tn)<a.CesiumMath.EPSILON21){if(u.Matrix3.equalsEpsilon(w.getMatrix3(n,R),S,a.CesiumMath.EPSILON7)&&c.equals(w.getRow(n,3,U),N))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=1,t;throw new i.RuntimeError("matrix is not invertible because its determinate is zero.")}return tn=1/tn,t[0]=B*tn,t[1]=j*tn,t[2]=_*tn,t[3]=v*tn,t[4]=P*tn,t[5]=Z*tn,t[6]=Y*tn,t[7]=F*tn,t[8]=D*tn,t[9]=Q*tn,t[10]=X*tn,t[11]=J*tn,t[12]=G*tn,t[13]=H*tn,t[14]=K*tn,t[15]=nn*tn,t},w.inverseTransformation=function(n,t){const e=n[0],r=n[1],a=n[2],u=n[4],i=n[5],o=n[6],c=n[8],s=n[9],f=n[10],l=n[12],y=n[13],d=n[14],h=-e*l-r*y-a*d,m=-u*l-i*y-o*d,w=-c*l-s*y-f*d;return t[0]=e,t[1]=u,t[2]=c,t[3]=0,t[4]=r,t[5]=i,t[6]=s,t[7]=0,t[8]=a,t[9]=o,t[10]=f,t[11]=0,t[12]=h,t[13]=m,t[14]=w,t[15]=1,t};const A=new w;function E(n,t,r,a){this[0]=e.defaultValue(n,0),this[1]=e.defaultValue(r,0),this[2]=e.defaultValue(t,0),this[3]=e.defaultValue(a,0)}w.inverseTranspose=function(n,t){return w.inverse(w.transpose(n,A),t)},w.IDENTITY=Object.freeze(new w(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),w.ZERO=Object.freeze(new w(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),w.COLUMN0ROW0=0,w.COLUMN0ROW1=1,w.COLUMN0ROW2=2,w.COLUMN0ROW3=3,w.COLUMN1ROW0=4,w.COLUMN1ROW1=5,w.COLUMN1ROW2=6,w.COLUMN1ROW3=7,w.COLUMN2ROW0=8,w.COLUMN2ROW1=9,w.COLUMN2ROW2=10,w.COLUMN2ROW3=11,w.COLUMN3ROW0=12,w.COLUMN3ROW1=13,w.COLUMN3ROW2=14,w.COLUMN3ROW3=15,Object.defineProperties(w.prototype,{length:{get:function(){return w.packedLength}}}),w.prototype.clone=function(n){return w.clone(this,n)},w.prototype.equals=function(n){return w.equals(this,n)},w.equalsArray=function(n,t,e){return n[0]===t[e]&&n[1]===t[e+1]&&n[2]===t[e+2]&&n[3]===t[e+3]&&n[4]===t[e+4]&&n[5]===t[e+5]&&n[6]===t[e+6]&&n[7]===t[e+7]&&n[8]===t[e+8]&&n[9]===t[e+9]&&n[10]===t[e+10]&&n[11]===t[e+11]&&n[12]===t[e+12]&&n[13]===t[e+13]&&n[14]===t[e+14]&&n[15]===t[e+15]},w.prototype.equalsEpsilon=function(n,t){return w.equalsEpsilon(this,n,t)},w.prototype.toString=function(){return`(${this[0]}, ${this[4]}, ${this[8]}, ${this[12]})\n(${this[1]}, ${this[5]}, ${this[9]}, ${this[13]})\n(${this[2]}, ${this[6]}, ${this[10]}, ${this[14]})\n(${this[3]}, ${this[7]}, ${this[11]}, ${this[15]})`},E.packedLength=4,E.pack=function(n,t,r){return r=e.defaultValue(r,0),t[r++]=n[0],t[r++]=n[1],t[r++]=n[2],t[r++]=n[3],t},E.unpack=function(n,t,a){return t=e.defaultValue(t,0),r.defined(a)||(a=new E),a[0]=n[t++],a[1]=n[t++],a[2]=n[t++],a[3]=n[t++],a},E.packArray=function(n,t){const e=n.length,a=4*e;r.defined(t)?(Array.isArray(t)||t.length===a)&&t.length!==a&&(t.length=a):t=new Array(a);for(let r=0;r<e;++r)E.pack(n[r],t,4*r);return t},E.unpackArray=function(n,t){const e=n.length;r.defined(t)?t.length=e/4:t=new Array(e/4);for(let r=0;r<e;r+=4){const e=r/4;t[e]=E.unpack(n,r,t[e])}return t},E.clone=function(n,t){if(r.defined(n))return r.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):new E(n[0],n[2],n[1],n[3])},E.fromArray=E.unpack,E.fromColumnMajorArray=function(n,t){return E.clone(n,t)},E.fromRowMajorArray=function(n,t){return r.defined(t)?(t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3],t):new E(n[0],n[1],n[2],n[3])},E.fromScale=function(n,t){return r.defined(t)?(t[0]=n.x,t[1]=0,t[2]=0,t[3]=n.y,t):new E(n.x,0,0,n.y)},E.fromUniformScale=function(n,t){return r.defined(t)?(t[0]=n,t[1]=0,t[2]=0,t[3]=n,t):new E(n,0,0,n)},E.fromRotation=function(n,t){const e=Math.cos(n),a=Math.sin(n);return r.defined(t)?(t[0]=e,t[1]=a,t[2]=-a,t[3]=e,t):new E(e,-a,a,e)},E.toArray=function(n,t){return r.defined(t)?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):[n[0],n[1],n[2],n[3]]},E.getElementIndex=function(n,t){return 2*n+t},E.getColumn=function(n,t,e){const r=2*t,a=n[r],u=n[r+1];return e.x=a,e.y=u,e},E.setColumn=function(n,t,e,r){const a=2*t;return(r=E.clone(n,r))[a]=e.x,r[a+1]=e.y,r},E.getRow=function(n,t,e){const r=n[t],a=n[t+2];return e.x=r,e.y=a,e},E.setRow=function(n,t,e,r){return(r=E.clone(n,r))[t]=e.x,r[t+2]=e.y,r};const T=new o.Cartesian2;E.setScale=function(n,t,e){const r=E.getScale(n,T),a=t.x/r.x,u=t.y/r.y;return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*u,e[3]=n[3]*u,e};const q=new o.Cartesian2;E.setUniformScale=function(n,t,e){const r=E.getScale(n,q),a=t/r.x,u=t/r.y;return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*u,e[3]=n[3]*u,e};const k=new o.Cartesian2;E.getScale=function(n,t){return t.x=o.Cartesian2.magnitude(o.Cartesian2.fromElements(n[0],n[1],k)),t.y=o.Cartesian2.magnitude(o.Cartesian2.fromElements(n[2],n[3],k)),t};const L=new o.Cartesian2;E.getMaximumScale=function(n){return E.getScale(n,L),o.Cartesian2.maximumComponent(L)};const W=new o.Cartesian2;E.setRotation=function(n,t,e){const r=E.getScale(n,W);return e[0]=t[0]*r.x,e[1]=t[1]*r.x,e[2]=t[2]*r.y,e[3]=t[3]*r.y,e};const $=new o.Cartesian2;E.getRotation=function(n,t){const e=E.getScale(n,$);return t[0]=n[0]/e.x,t[1]=n[1]/e.x,t[2]=n[2]/e.y,t[3]=n[3]/e.y,t},E.multiply=function(n,t,e){const r=n[0]*t[0]+n[2]*t[1],a=n[0]*t[2]+n[2]*t[3],u=n[1]*t[0]+n[3]*t[1],i=n[1]*t[2]+n[3]*t[3];return e[0]=r,e[1]=u,e[2]=a,e[3]=i,e},E.add=function(n,t,e){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e[3]=n[3]+t[3],e},E.subtract=function(n,t,e){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e[3]=n[3]-t[3],e},E.multiplyByVector=function(n,t,e){const r=n[0]*t.x+n[2]*t.y,a=n[1]*t.x+n[3]*t.y;return e.x=r,e.y=a,e},E.multiplyByScalar=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e},E.multiplyByScale=function(n,t,e){return e[0]=n[0]*t.x,e[1]=n[1]*t.x,e[2]=n[2]*t.y,e[3]=n[3]*t.y,e},E.multiplyByUniformScale=function(n,t,e){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e},E.negate=function(n,t){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},E.transpose=function(n,t){const e=n[0],r=n[2],a=n[1],u=n[3];return t[0]=e,t[1]=r,t[2]=a,t[3]=u,t},E.abs=function(n,t){return t[0]=Math.abs(n[0]),t[1]=Math.abs(n[1]),t[2]=Math.abs(n[2]),t[3]=Math.abs(n[3]),t},E.equals=function(n,t){return n===t||r.defined(n)&&r.defined(t)&&n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]&&n[3]===t[3]},E.equalsArray=function(n,t,e){return n[0]===t[e]&&n[1]===t[e+1]&&n[2]===t[e+2]&&n[3]===t[e+3]},E.equalsEpsilon=function(n,t,a){return a=e.defaultValue(a,0),n===t||r.defined(n)&&r.defined(t)&&Math.abs(n[0]-t[0])<=a&&Math.abs(n[1]-t[1])<=a&&Math.abs(n[2]-t[2])<=a&&Math.abs(n[3]-t[3])<=a},E.IDENTITY=Object.freeze(new E(1,0,0,1)),E.ZERO=Object.freeze(new E(0,0,0,0)),E.COLUMN0ROW0=0,E.COLUMN0ROW1=1,E.COLUMN1ROW0=2,E.COLUMN1ROW1=3,Object.defineProperties(E.prototype,{length:{get:function(){return E.packedLength}}}),E.prototype.clone=function(n){return E.clone(this,n)},E.prototype.equals=function(n){return E.equals(this,n)},E.prototype.equalsEpsilon=function(n,t){return E.equalsEpsilon(this,n,t)},E.prototype.toString=function(){return`(${this[0]}, ${this[2]})\n(${this[1]}, ${this[3]})`},n.Cartesian4=c,n.Matrix2=E,n.Matrix4=w}));
