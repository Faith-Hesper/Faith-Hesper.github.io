import{_ as j}from"./zdjh-bc3a60d2.js";import{D as F}from"./DialogView-54d1109d.js";import{_ as Y,s as T,r,o as f,c as V,a as t,b as o,t as S,B as H,w as p,x as l,F as I,i as J,d as E}from"./index-79e36b83.js";import{j as P,k as W,l as q,m as A}from"./securityManagementAPI-a9030ac0.js";import{u as G}from"./useOperate-47f72430.js";import"./axios-c0524c3b.js";import"./index-b0dc9d9c.js";const K={class:"tb"},Q={class:"table-grid"},X={class:"table-wrapper"},Z={class:"body"},ee={class:"grid-6"},te={class:"value"},ae={class:"value center"},le={class:"value center"},oe={class:"grid-2"},se={class:"value"},de={class:"grid-2"},ne={class:"value"},ie={class:"grid-2"},re={class:"value box"},ue={__name:"DetailLog",props:{type:{default:"edit"},data:{default:{time:"",leaderName:"",userName:"",content:""}}},setup(D){const v=D,n=T(()=>v.data);function m(d,e){if(!d)return;const i=new Date(d);if(e=="month")return(i.getMonth()+1).toString();if(e=="week")return _(i.getDay().toString());if(e=="time")return i.toLocaleTimeString();if(e=="day")return i.getDate().toString()}function _(d){return console.log(d),{1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六",0:"星期日"}[d]}return(d,e)=>{const i=r("el-date-picker"),c=r("el-input");return f(),V("div",K,[e[11]||(e[11]=t("div",{class:"header"},[t("div",{class:"tip"},[t("div",{class:"tip-left"},"注：填写频次，值班期间1次/日")]),t("div",{class:"title"},"值班记录表")],-1)),t("div",Q,[t("div",X,[t("div",Z,[t("div",ee,[e[4]||(e[4]=t("div",{class:"label bg1 center"},"日期",-1)),t("div",te,[o(i,{type:"datetime",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD HH:mm:ss",modelValue:n.value.time,"onUpdate:modelValue":e[0]||(e[0]=u=>n.value.time=u),placeholder:"选择时间"},null,8,["modelValue"])]),e[5]||(e[5]=t("div",{class:"label bg1 center"},"星期",-1)),t("div",ae,S(m(n.value.time,"week")),1),e[6]||(e[6]=t("div",{class:"label bg1 center"},"时间",-1)),t("div",le,S(m(n.value.time,"time")),1)]),t("div",oe,[e[7]||(e[7]=t("div",{class:"label bg1 center"},"带班领导",-1)),t("div",se,[o(c,{modelValue:n.value.leaderName,"onUpdate:modelValue":e[1]||(e[1]=u=>n.value.leaderName=u),placeholder:"请输入"},null,8,["modelValue"])])]),t("div",de,[e[8]||(e[8]=t("div",{class:"label bg1 center"},"值班人员",-1)),t("div",ne,[o(c,{modelValue:n.value.userName,"onUpdate:modelValue":e[2]||(e[2]=u=>n.value.userName=u),placeholder:"请输入"},null,8,["modelValue"])])]),t("div",ie,[e[9]||(e[9]=t("div",{class:"label bg1 center"},"值班记录",-1)),t("div",re,[o(c,{modelValue:n.value.content,"onUpdate:modelValue":e[3]||(e[3]=u=>n.value.content=u),type:"textarea",placeholder:"请输入详细内容"},null,8,["modelValue"])])]),e[10]||(e[10]=H('<div class="grid-2" data-v-034c2d3e><div class="label bg1 center" data-v-034c2d3e>备注</div><div class="value box" data-v-034c2d3e><div class="textarea" data-v-034c2d3e><span data-v-034c2d3e>管理范围巡视</span><div class="row-inner" data-v-034c2d3e><div class="name" data-id="1" data-v-034c2d3e>08:00 - 09:00</div><div class="name" data-id="2" data-v-034c2d3e>10:00 - 11:00</div><div class="name" data-id="3" data-v-034c2d3e>13:00-14:00</div><div class="name" data-id="4" data-v-034c2d3e>15:00-16:00</div></div></div></div></div>',1))])])])])}}},pe=Y(ue,[["__scopeId","data-v-034c2d3e"]]);const me={class:"control"},ce={class:"searchBar-btns"},ve={class:"table"},_e={class:"table-cell"},ge={class:"table-page"},be={__name:"index",setup(D){const v={time:"",leaderName:"",userName:""},n={get:P,create:W,edit:q,delete:A},{page:m,formRef:_,formData:d,dialogVis:e,curOperation:i,dialogData:c,tableData:u,onSearch:y,resetForm:N,onSubmit:fe,onUpdate:M,handleSizeChange:h,handleCurrentChange:U}=G({form:v,operationMap:n});new Date().getFullYear().toString(),new Date().getMonth()-1;const $=[{prop:"time",label:"交班日期"},{prop:"leaderName",label:"带班领导"},{prop:"userName",label:"值班人员"}];function w(k,a){switch(c.value=JSON.parse(JSON.stringify(k)),i.value=a,a){case"upload":i.value=!0;break;case"delete":i.value=!0;break;default:e.value=!0}}return(k,a)=>{const z=r("el-date-picker"),g=r("el-form-item"),x=r("el-input"),O=r("el-form"),b=r("el-table-column"),R=r("el-button"),B=r("el-table"),L=r("el-pagination");return f(),V("div",null,[t("div",me,[o(O,{inline:!0,model:l(d),"label-width":"auto","label-position":"left",ref_key:"formRef",ref:_,class:"custom-form"},{default:p(()=>[o(g,{label:"日期",prop:"dataType"},{default:p(()=>[o(z,{style:{width:"185px"},modelValue:l(d).time,"onUpdate:modelValue":a[0]||(a[0]=s=>l(d).time=s),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","popper-class":"custom-select",type:"date"},null,8,["modelValue"])]),_:1}),o(g,{label:"带班领导",prop:"leaderName"},{default:p(()=>[o(x,{class:"custom-input",modelValue:l(d).leaderName,"onUpdate:modelValue":a[1]||(a[1]=s=>l(d).leaderName=s)},null,8,["modelValue"])]),_:1}),o(g,{label:"值班人员",prop:"userName"},{default:p(()=>[o(x,{class:"custom-input",modelValue:l(d).userName,"onUpdate:modelValue":a[2]||(a[2]=s=>l(d).userName=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),t("div",ce,[t("div",{class:"reset-btn",onClick:a[3]||(a[3]=(...s)=>l(N)&&l(N)(...s))},"重置"),t("div",{class:"search-btn",onClick:a[4]||(a[4]=(...s)=>l(y)&&l(y)(...s))},"查询")]),t("div",{class:"leaderName",onClick:a[5]||(a[5]=s=>w({},"create"))},a[7]||(a[7]=[t("img",{src:j,alt:""},null,-1),t("span",{class:"text"},"新建",-1)]))]),a[9]||(a[9]=t("div",{class:"tip"},"填写频次：值班期间1次/日",-1)),t("div",ve,[o(B,{data:l(u),class:"custom-table deep","highlight-current-row":""},{default:p(()=>[o(b,{type:"index",label:"序号",align:"center",width:"70"}),(f(),V(I,null,J($,(s,C)=>o(b,{key:C,prop:s.prop,label:s.label,width:s.width,align:"center","show-overflow-tooltip":""},null,8,["prop","label","width"])),64)),o(b,{label:"操作",align:"center",width:"180"},{default:p(s=>[t("div",_e,[o(R,{type:"primary",text:"primary",onClick:C=>w(s.row,"edit"),link:""},{default:p(()=>a[8]||(a[8]=[E("编辑")])),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"]),t("div",ge,[o(L,{class:"custom-pagination",onSizeChange:l(h),onCurrentChange:l(U),"current-page":l(m).pageNum,"page-size":l(m).pageSize,layout:"total, prev, pager, next, jumper",total:l(m).total,background:""},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])]),o(F,{width:"50%",visible:l(e),title:"值班记录",onSubmit:l(M),"onUpdate:visible":a[6]||(a[6]=s=>e.value=s)},{default:p(()=>[o(pe,{data:l(c)},null,8,["data"])]),_:1},8,["visible","onSubmit"])])}}},Ce=Y(be,[["__scopeId","data-v-d8c44a63"]]);export{Ce as default};
