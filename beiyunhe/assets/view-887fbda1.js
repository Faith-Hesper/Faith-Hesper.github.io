import{_ as B,u as F,r as l,o as b,c as g,a as r,b as o,w as s,x as e,F as I,i as R,d as U}from"./index-79e36b83.js";import{f as O}from"./patrolGuard-413be18c.js";import{u as T}from"./useOperate-754ac797.js";import"./axios-c0524c3b.js";import"./index-b0dc9d9c.js";const j={class:"control"},q={class:"searchBar-btns"},E={class:"table"},G={class:"table-page"},J={__name:"view",setup(L){const h={time:"",name:"",userName:"",staus:0},v={get:O},{formRef:w,formData:n,tableData:C,onSearch:d,resetForm:c,page:p,handleCurrentChange:y,handleSizeChange:k}=T({form:h,operationMap:v});new Date().getFullYear().toString(),new Date().getMonth()-1;const V=F(),x=[{prop:"time",label:"填报时间"},{prop:"name",label:"巡查计划名称"},{prop:"userName",label:"指定巡查人员"},{prop:"content",label:"巡查点位"}];function D(i){localStorage.setItem("inspectData",JSON.stringify(i)),V.push({path:"/patrolGuard/waitInspect/detail",query:{id:i.id}})}return(i,a)=>{const Y=l("el-date-picker"),u=l("el-form-item"),_=l("el-input"),S=l("el-form"),m=l("el-table-column"),N=l("el-button"),z=l("el-table"),M=l("el-pagination");return b(),g("div",null,[r("div",j,[o(S,{inline:!0,model:e(n),"label-width":"auto","label-position":"left",ref_key:"formRef",ref:w,class:"custom-form"},{default:s(()=>[o(u,{label:"日期",prop:"time"},{default:s(()=>[o(Y,{style:{width:"185px"},modelValue:e(n).time,"onUpdate:modelValue":a[0]||(a[0]=t=>e(n).time=t),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","popper-class":"custom-select",type:"date"},null,8,["modelValue"])]),_:1}),o(u,{label:"任务名称",prop:"type"},{default:s(()=>[o(_,{class:"custom-input",modelValue:e(n).status,"onUpdate:modelValue":a[1]||(a[1]=t=>e(n).status=t)},null,8,["modelValue"])]),_:1}),o(u,{label:"巡查人员",prop:"member"},{default:s(()=>[o(_,{class:"custom-input",modelValue:e(n).member,"onUpdate:modelValue":a[2]||(a[2]=t=>e(n).member=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),r("div",q,[r("div",{class:"reset-btn",onClick:a[3]||(a[3]=(...t)=>e(c)&&e(c)(...t))},"重置"),r("div",{class:"search-btn",onClick:a[4]||(a[4]=(...t)=>e(d)&&e(d)(...t))},"查询")])]),r("div",E,[o(z,{data:e(C),class:"custom-table deep","highlight-current-row":""},{default:s(()=>[o(m,{type:"index",label:"序号",align:"center",width:"70"}),(b(),g(I,null,R(x,(t,f)=>o(m,{key:f,prop:t.prop,label:t.label,width:t.width,align:"center","show-overflow-tooltip":""},null,8,["prop","label","width"])),64)),o(m,{label:"操作",align:"center",width:"180"},{default:s(t=>[o(N,{type:"primary",text:"primary",onClick:f=>D(t.row),link:""},{default:s(()=>a[5]||(a[5]=[U("办理")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),r("div",G,[o(M,{class:"custom-pagination",onSizeChange:e(k),onCurrentChange:e(y),"current-page":e(p).pageNum,"page-size":e(p).pageSize,layout:"total, prev, pager, next, jumper",total:e(p).total,background:""},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])}}},Q=B(J,[["__scopeId","data-v-c7d0dfb6"]]);export{Q as default};
