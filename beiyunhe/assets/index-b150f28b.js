import{_ as D}from"./return_icon-1226930e.js";import{_ as w}from"./rightArr-ad89d80a.js";import{_ as N,f as p,e as B,u as F,J as I,g as V,r as k,o as l,c as o,a as t,t as d,D as S,b as m,w as _,x as n,F as b,i as x}from"./index-79e36b83.js";import{g as C}from"./atentionAPI-c7a0c66e.js";import"./axios-c0524c3b.js";import"./index-b0dc9d9c.js";const R={class:"detail"},E={class:"row"},J={class:"form"},T={class:"text"},z={class:"form"},G={class:"text"},L={class:"form"},M={class:"text"},O={class:"form"},U={class:"bt"},$={key:0,class:"img-list"},j=["src"],A={key:1,class:"img-list"},H={key:0,class:"img-list"},K=["src"],P={key:1,class:"img-list"},Q={__name:"index",setup(W){const f=p(),v=p("atentionTask"),g=B(),y=F();p();const a=I({name:"巡查任务",userName:"王一博",status:"",back:"finishInspect"});let e=p({qpictures:[],hpictures:[],mark:""});function h(){y.push(`/patrolGuard/${v.value}`)}async function q(){const{code:u,data:s}=await C({id:"0",taskId:f.value});if(u===1){if(!s)return;e.value=s,s.qpictures?e.value.qpictures=s.qpictures.split(","):e.value.qpictures=[],s.hpictures?e.value.hpictures=s.hpictures.split(","):e.value.hpictures=[]}}return V(()=>{var r,c;const u=localStorage.getItem("tableData"),s=JSON.parse(u);a.name=s.name,a.userName=s.userName,a.content=s.content,a.status=s.status,f.value=((r=g.query)==null?void 0:r.id)??"0",v.value=((c=g.query)==null?void 0:c.back)??"atentionTask",q()}),(u,s)=>{const r=k("el-form-item"),c=k("el-input");return l(),o("div",R,[t("div",{class:"header"},[s[2]||(s[2]=t("div",{class:"img"},null,-1)),s[3]||(s[3]=t("span",{class:"title"},"养护详情",-1)),t("div",{class:"plan",onClick:h},s[1]||(s[1]=[t("img",{src:D,alt:""},null,-1),t("span",{class:"text"},"返回",-1)]))]),t("div",E,[t("div",J,[s[4]||(s[4]=t("label",{for:""},"任务名称",-1)),t("span",T,d(a.name),1)]),t("div",z,[s[5]||(s[5]=t("label",{for:""},"养护人员",-1)),t("span",G,d(a.userName),1)]),t("div",L,[s[6]||(s[6]=t("label",{for:""},"养护设备",-1)),t("span",M,d(a.content),1)]),t("div",O,[s[7]||(s[7]=t("label",{for:""},"养护状态",-1)),t("span",{class:"text",style:S({color:a.status?"#29FF64":"#FBE218"})},d(a.status?"已养护":"待养护"),5)])]),t("div",U,[s[10]||(s[10]=t("div",{class:"tip"},[t("img",{src:w,alt:"",srcset:""}),t("span",{class:"title"},"养护记录")],-1)),m(r,{label:"养护前照片",prop:"qpictures",width:"100px"},{default:_(()=>[n(e).qpictures.length?(l(),o("div",$,[(l(!0),o(b,null,x(n(e).qpictures,i=>(l(),o("img",{key:i,src:i,alt:"",srcset:""},null,8,j))),128))])):(l(),o("div",A,s[8]||(s[8]=[t("div",{class:"empty-img"},null,-1)])))]),_:1}),m(r,{label:"养护后照片",prop:"hpictures",width:"100px"},{default:_(()=>[n(e).hpictures.length?(l(),o("div",H,[(l(!0),o(b,null,x(n(e).hpictures,i=>(l(),o("img",{key:i,src:i,alt:"",srcset:""},null,8,K))),128))])):(l(),o("div",P,s[9]||(s[9]=[t("div",{class:"empty-img"},null,-1)])))]),_:1}),m(r,{label:"养护描述",prop:"mark",width:"100px"},{default:_(()=>[m(c,{class:"custom-input",modelValue:n(e).mark,"onUpdate:modelValue":s[0]||(s[0]=i=>n(e).mark=i),type:"textarea",disabled:""},null,8,["modelValue"])]),_:1})])])}}},as=N(Q,[["__scopeId","data-v-44b9a958"]]);export{as as default};
