import{_ as M,u as B,r as n,o as g,c as b,a as s,b as a,w as r,x as e,F,i as I}from"./index-267246aa.js";import{f as R}from"./patrolGuard-eead8834.js";import{u as U}from"./useOperate-2feed5ad.js";import"./axios-da025460.js";import"./index-1899286b.js";const O={class:"control"},j={class:"searchBar-btns"},q={class:"table"},E=["onClick"],G={class:"table-page"},J={__name:"view",setup(L){const h={time:"",name:"",userName:"",staus:1},v={get:R},{formRef:w,formData:l,tableData:C,onSearch:c,resetForm:d,page:i,handleCurrentChange:k,handleSizeChange:V}=U({form:h,operationMap:v});new Date().getFullYear().toString(),new Date().getMonth()-1;const y=B(),D=[{prop:"time",label:"填报时间"},{prop:"name",label:"巡查计划名称"},{prop:"userName",label:"指定巡查人员"},{prop:"content",label:"巡查点位"}];function x(p){localStorage.setItem("inspectData",JSON.stringify(p)),y.push({path:"/patrolGuard/finishInspect/detail",query:{id:p.id,back:"finishInspect"}})}return(p,o)=>{const N=n("el-date-picker"),u=n("el-form-item"),_=n("el-input"),Y=n("el-form"),m=n("el-table-column"),S=n("el-table"),z=n("el-pagination");return g(),b("div",null,[s("div",O,[a(Y,{inline:!0,model:e(l),"label-width":"auto","label-position":"left",ref_key:"formRef",ref:w,class:"custom-form"},{default:r(()=>[a(u,{label:"日期",prop:"time"},{default:r(()=>[a(N,{style:{width:"185px"},modelValue:e(l).time,"onUpdate:modelValue":o[0]||(o[0]=t=>e(l).time=t),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","popper-class":"custom-select",type:"date"},null,8,["modelValue"])]),_:1}),a(u,{label:"任务名称",prop:"name"},{default:r(()=>[a(_,{class:"custom-input",modelValue:e(l).name,"onUpdate:modelValue":o[1]||(o[1]=t=>e(l).name=t)},null,8,["modelValue"])]),_:1}),a(u,{label:"巡查人员",prop:"userName"},{default:r(()=>[a(_,{class:"custom-input",modelValue:e(l).userName,"onUpdate:modelValue":o[2]||(o[2]=t=>e(l).userName=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),s("div",j,[s("div",{class:"reset-btn",onClick:o[3]||(o[3]=(...t)=>e(d)&&e(d)(...t))},"重置"),s("div",{class:"search-btn",onClick:o[4]||(o[4]=(...t)=>e(c)&&e(c)(...t))},"查询")])]),s("div",q,[a(S,{data:e(C),class:"custom-table deep","highlight-current-row":""},{default:r(()=>[a(m,{type:"index",label:"序号",align:"center",width:"70"}),(g(),b(F,null,I(D,(t,f)=>a(m,{key:f,prop:t.prop,label:t.label,width:t.width,align:"center","show-overflow-tooltip":""},null,8,["prop","label","width"])),64)),a(m,{label:"操作",align:"center",width:"180"},{default:r(t=>[s("div",{class:"tag",title:"巡查记录",onClick:f=>x(t.row)},"巡查记录",8,E)]),_:1})]),_:1},8,["data"]),s("div",G,[a(z,{class:"custom-pagination",onSizeChange:e(V),onCurrentChange:e(k),"current-page":e(i).pageNum,"page-size":e(i).pageSize,layout:"total, prev, pager, next, jumper",total:e(i).total,background:""},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])}}},K=M(J,[["__scopeId","data-v-39af6160"]]);export{K as default};
