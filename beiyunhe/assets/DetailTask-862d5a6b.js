import{_ as j}from"./return_icon-1226930e.js";import{_ as g}from"./rightArr-ad89d80a.js";import{_ as M}from"./tb-7f100319.js";import{_ as E,u as G,f as r,J as I,g as J,l as O,r as l,o as c,c as m,a as e,t as b,b as t,w as o,B as F,v as k,C as P,F as Z,i as $,x as q,bZ as H,A as x}from"./index-267246aa.js";import{D as K}from"./dialogDynamotorSheet-27933389.js";import{c as Q,a as W}from"./cesium_init-99e2d9ae.js";import"./axios-da025460.js";import"./unit-ac192840.js";import"./jquery-ce9c138c.js";const X={class:"detail"},Y={class:"row"},ee={class:"form"},se={class:"text"},te={class:"form"},ae={class:"text"},le={class:"bt"},oe={class:"fill"},ie={class:"left"},ne={class:"middle"},re={class:"img-list"},ce=["src"],de={__name:"DetailTask",setup(pe){const y=[{label:"启闭机",value:1},{label:"闸门",value:2},{label:"配电柜",value:3}],w=G(),_=r(0),d=r(!1);r();const i=I({name:"巡查任务",userName:"王一博",card:"",status:[],description:""}),v=r([{name:"food.jpeg",url:"/src/assets/image/swiper_2.png"},{name:"plant-1.png",url:"/src/assets/image/swiper_2.png"}]),p=r(""),D=(n,s)=>{p.value=URL.createObjectURL(s.raw)},h=n=>n.type!=="image/jpeg"?(x.error("Avatar picture must be JPG format!"),!1):n.size/1024/1024>2?(x.error("Avatar picture size can not exceed 2MB!"),!1):!0;function V(){w.push("/patrolGuard/inspectTask/view")}function C(n){_.value=n}function S(){d.value=!0}const B=()=>{d.value=!1};return J(()=>{window.map||Q("model_map",116.815837,39.726159,250).model}),O(()=>{W()}),(n,s)=>{const U=l("el-step"),L=l("el-steps"),f=l("el-checkbox"),N=l("el-checkbox-group"),u=l("el-form-item"),A=l("el-icon"),z=l("el-upload"),R=l("el-input"),T=l("el-form");return c(),m("div",X,[e("div",{class:"header"},[s[4]||(s[4]=e("div",{class:"img"},null,-1)),s[5]||(s[5]=e("span",{class:"title"},"办理",-1)),e("div",{class:"plan",onClick:V},s[3]||(s[3]=[e("img",{src:j,alt:""},null,-1),e("span",{class:"text"},"返回",-1)]))]),e("div",Y,[e("div",ee,[s[6]||(s[6]=e("label",{for:""},"任务名称",-1)),e("span",se,b(i.name),1)]),e("div",te,[s[7]||(s[7]=e("label",{for:""},"巡查人员",-1)),e("span",ae,b(i.userName),1)])]),e("div",le,[s[9]||(s[9]=e("div",{class:"tip"},[e("img",{src:g,alt:"",srcset:""}),e("span",{class:"title"},"巡查点位")],-1)),e("div",oe,[e("div",ie,[t(L,{class:"custom-steps",direction:"vertical",active:_.value},{default:o(()=>[(c(),m(Z,null,$(y,a=>t(U,{onClick:ue=>C(a.value),title:a.label,key:a.label},null,8,["onClick","title"])),64))]),_:1},8,["active"])]),e("div",ne,[t(T,{class:"custom-form",model:i,"label-width":"150px","label-position":"right"},{default:o(()=>[t(u,{label:"设备设施状态",prop:"status"},{default:o(()=>[t(N,{modelValue:i.status,"onUpdate:modelValue":s[0]||(s[0]=a=>i.status=a)},{default:o(()=>[t(f,{label:"正常",value:"zc"}),t(f,{label:"不正常",value:"bzc"})]),_:1},8,["modelValue"])]),_:1}),t(u,{label:"照片",prop:"phonrList"},{default:o(()=>[e("div",re,[t(z,{class:"avatar-uploader",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15","file-list":v.value,"onUpdate:fileList":s[1]||(s[1]=a=>v.value=a),"list-type":"picture-card","on-success":D,"before-upload":h},{default:o(()=>[p.value?(c(),m("img",{key:0,src:p.value,class:"avatar"},null,8,ce)):(c(),k(A,{key:1,class:"avatar-uploader-icon"},{default:o(()=>[t(q(H))]),_:1}))]),_:1},8,["file-list"])])]),_:1}),t(u,{label:"描述",prop:"description"},{default:o(()=>[t(R,{class:"custom-input",modelValue:i.description,"onUpdate:modelValue":s[2]||(s[2]=a=>i.description=a),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),e("div",{class:"right"},[e("div",{class:"btn",style:{"margin-top":"15px"},onClick:S},s[8]||(s[8]=[e("img",{src:M,alt:""},null,-1),e("span",{class:"text"},"启闭机运行记录表",-1)]))])]),s[10]||(s[10]=F('<div class="tip" data-v-0ed9ad65><img src="'+g+'" alt="" srcset="" data-v-0ed9ad65><span class="title" data-v-0ed9ad65>巡查路线</span></div><div class="route" data-v-0ed9ad65><div id="model_map" class="model_map" data-v-0ed9ad65></div></div>',2))]),d.value?(c(),k(K,{key:0,onCloseSheet:B})):P("",!0)])}}},we=E(de,[["__scopeId","data-v-0ed9ad65"]]);export{we as default};
