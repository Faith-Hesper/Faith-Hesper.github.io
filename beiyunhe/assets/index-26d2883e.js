import{_ as Z}from"./zdjh-bc3a60d2.js";import{_ as H}from"./edit_icon-d5e91246.js";import{_ as P,s as z,f as p,r as Y,o as A,c as V,i as O,b as L,w as M,a as e,t as E,F as N,v as Q,d as w,as as W,x as T,n as K}from"./index-79e36b83.js";import{V as G}from"./VideoPlayer-adf241d6.js";import{M as X}from"./MapOl-25671793.js";import{a as q,r as $}from"./useOpenlayer-636a36a6.js";import"./VideoPlayer.vue_vue_type_style_index_0_scoped_54907636_lang-824477ca.js";const ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAABClJREFUSEu9lltsVFUUhr9/ZnoD2wLnjEgwMRrwkgYocwYTLwkEo5LgDfVFjQQRoyFB5MEbKgKJVTASiQJB0ZjwQDAhaMKDeEm4xFuc6VQQH0QlEY2ROaeFhkppO2fpaTrN9FBa8MH9ts9aa397/XvttY/4n4YuhpPrskk13aSmOTp+MXGR7wWB2jrt6lIPzxo8LEhifEiSV70JOnShwBFBrR02w/pYibh/YFN7MP62aG4kBXuUoCXj6OvRgMOCCoHdWApZCcxH9AI7UmJ9s6Mj0YKHTtpVPX08jbEIqEXsS8ArGVefnw84BJQL7DaFrDSYLehCbLMEG7IT9NtwCxw+bRN7u1kewlKMRonvDFo8h48lWWVMP6jNt+tLsMmMLCKQ8faYGt66rkHBaJJE9qOBNXSGPG6wApiEOJKA5RlXX5Tj+0H5oh0w0YRYWzWBbTOkrgsBxH2OmtV0trMQY7UZZ7JpTRkCyhWtVeKY5+q+kQBmpsOnGDd9nDpG8sv5tgV4MOuqcWhGvv0IfOu5emS4BVo77IqwxEZgLkY94vcEbK93WDNVOhuPyQe23kKWZdOqi2f0s8TB4UCtgd0QGntldJt4X+IXM2YCj2H8UOVyc1zqvG/rMJZ6adXHM/rK4K+sqwWVuztuVnfC53tEX6qGOTPqdaJsLxRtTkl8BmzOulpeGZcv2lbEHZ6ryfFi2GFwbTataKeDI+fbPRi7EynmZMZr/zkS+fZm1C08B7eynPO+fQI4nqtZQ6Xz7TUZT5lLfVaKLmj/aC3aGhPPZRzGSuqLgwq+3V0yPkqJy5td/VG254r2p2Cfl9YDcenuNWOXEszzHO0dDPDtSYyNddU4TY1qj4NaA1schrznuNRdKXVH9kKHNZf6KAie8dJ6fQjomFltEHBCsKuyIHInLUMveYkXPFctlSAzS+YDvhSUPFc3DargW0toPJ+q4ZrmBv00BBRN8r5tN7izzuHSJqmnQoZ3JRb+209WJ5NsmTleJwunbGrYyzozFgie8NLaWvbPF60NUeW5aqrc2GCvy7XbfErsiQceMbvkjM87QL/eUQ80ojPDzIju0GkluaX8ZOSL9pBSHM+M14FhQWaWyPvsR0wnwbR4Iy0EdmspZJ7EFIxfleIDlagO4VODkhLMHel9GtK9I0lKPf335mDW1e3xwx9uXvBtVhmWErPLT0nc95z3KB/YCgvZILEx47Ai3u5HgO2OKrSy0oaVrvxxQMLoTB4V7Kx1WVhZHHFQVLHl0h5JgfM+5bnAVhGyRnAgUc2SmY06WrlQrtNcnWWTwV2NCSZOddT5n0ADJb/IjM2IFLBlbDVra+vpag9YgvGSQQPwYjatN0Y7z1H/gtp8m1wyVplYLDhtRtQBLpPYm6hiWTzT8wFHBZUDBy7py8AYxHrP0TejZVFp/wdMucUqt5G2igAAAABJRU5ErkJggg==",te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAA35JREFUSEvNlW1olWUYx3//55y5jebcds78IFkgCNqwbeecMgp7cU2Q3iGEIkK/RN/K6oORoBYWlCBUH4oCozcyaJR9S0vFEqxzthlG5CorIdI9zyyMrM3z/PNZnXUYe1WQno/PfV/X73r539clLtKni8Th/wcqhV4KPG64QSZjOCmxz2m2Fpr03XSVmVFGxdAbZDYjaoBvgAGbJRKLbc4EYkMuqxemgk0LKg36AcPLEgdTc1jX0aijFYfFIS9TmR2GfJDinlyL3pkMNiWo95Qv91mOWByrz1Bok4bHOzpsX3I2pN+ipbaOK5Y16MREsClBpcibHLM5SHNjrln7EweHT3t+eZgVtWn2ts3TUPKvNOjbDLsU8Eg+o+2zBhVDvy9Y3ZihcbH011f2nDMR32IWAkfz2aRPct8pN8VlEuib+azunzWoFLrH0JXP0JQ4TLIZ+ZPR0kjEzjC3IP0xYNf+FnEaeLuQ1dpZg3pDb4zNU4hrClkdShwkCjyXzb0BvFJRWl/k7nLMR4iHClk9PyXIdqo/IteZ1RdVqrpMZY5aHCxktXIiB7bVG3EIs1R1LMrN1WByz3bQH5HvyFBMqjEmht5B3x7DB2mxvCOrz8dgkbcR8+hk0Y5lHbCpkNGTFbve0DfHZncKbups1b4xUCn0fTZvBKI7l9WeisFxu/5kyAGL9gBWV58VQ98p6MF86ixdBWmkYlcKfZdNTwB35Fq1a1rQqKQjXzoSUxQ0BHBrEmFxyLeozHsWJ4JaCpWSXRBoVAT/TIE9hgbBc2h07p1M1bCyc54GxvfvvDIa61foJYKPbRYAx2pq6Gpv0rGJRHJBoMThv2NpjeCtXKt+nmy2zRpUjLwKswLzSaFVe6dbB7PuUTH0cplnDddXjCU+dJr1M9k/pcgPO2Z7KmBVZ0a7/1Nd5DWO2Smx0dCBuVti2PASAa8qZj2wFjOM2OYMTyfjZ3yGfUO+Lo7ZYtOF+Kk+Q1ub9Hv1g10Qi68xjRI+99J31tTwxJVN+r7irD/01WV40eYqxHGJx/IZvZuc90W+tpwsR9ONGJHZUVfPprYG/TI6G6sj+vJXLxoZoTud4rP2Fh2ZbOT0DbHOMc8Y5gv2WwxXAV5Tmq25Zv1YbT/thp2s+cUhz1PMFsyDCNm8nkqztbNZP8x6es9EYcmGbYF4oXRmqvvnndFMgqi+8zd5L8sqpMOfQgAAAABJRU5ErkJggg==",le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAYAAAA+stv/AAAAAXNSR0IArs4c6QAAAg1JREFUWEftlr1rFEEYxp9n79yYM4VgEEIWbCxERREEG8U/QhDsZ4aAIKaRgKAjYiOC2CQws3+ArTaWAQsrQbTRgI0SCFjGGNTk9jWzGDkvm3M/OCLhptqdmXee3zzz8Q6xx4V7rI8RQC0HRISYmbmKLLsIoAuRRabpszrLWRlAZmfHsbb2Ykv08l+C5HNMT1+htZtVQKoDKPUEwA2QnwE8AhlD5BZEjiKK7tC5+0MDyK035gtEJhHHJzk//z6IiVKXALwEsMQ0PdEIQIy5gCx7CKBTMFALwLl83YE3fe3nf/+/LgQgV0Fep3Mfett3LIEodRPA4yqzKN2XvEbvnw4EyC3V+tQuDpTW2tGx3V7lwsJSf33lTVifoDhyIIBofQ9km87driMsxjyAyCa9v7tb/L8ANiDSgvctklIFIj8xWndBdun9gXoASmUAiCRp0drwDTFmDiKH6f1c76BiTHCps+2WWBtheTkAZPQ+nJ7iwzFoVlIEoPVXiEwgScZp7ffteNF6HSIHEUVjWxAbwwT4BpEOougQnVv/A6DUDwAxkmSM1v4cAYwcGDmwrx0ID48jcO507/UsSr0COUHvz+Q35tBuwjAwEPW//XLBnvqhAZRNSPsMAPiIiukYIR0Dx5tmw7cA8k3VoLxjmp6tl46tjbGycqyBODA19Slkx1oAjYRLBv/fj9KSk2jU7RffQaMyd4Pd2gAAAABJRU5ErkJggg==";const se=["src"],ae={class:"label"},ne={class:"el-checkbox-group"},oe={__name:"AreaList",props:["checkList"],emits:["change"],setup(C,{emit:h}){const f=h,m=s=>{const{proxy:o}=W();let a={机房:"securityManagement/jf.png",院内:"securityManagement/yn.png",港沟河进水闸:"securityManagement/gghjsz.png",军屯拦河闸:"securityManagement/jtlhz.png"}[s]||"securityManagement/jf.png";return o.$getImg(a)},b=C,v=z(()=>b.checkList);p(!1);const c=s=>{const o=v.value.findIndex(a=>a.label===s.label);if(o===-1)return;const n=v.value[o];n.value=n.children.every(a=>a.value),v.value.splice(o,1,n),f("change",v)},_=(s,o)=>{s.children.forEach(n=>n.value=o),c(s)};function t(s,o){return o?!s.children.every(a=>a.value):s.children.some(n=>n.value)}const l=(s,o,n)=>{c(s)};return(s,o)=>{const n=Y("el-checkbox");return A(!0),V(N,null,O(v.value,a=>(A(),V("div",{class:"check-list",key:a.key},[L(n,{modelValue:a.value,"onUpdate:modelValue":r=>a.value=r,indeterminate:t(a,a.value),onChange:r=>_(a,r)},{default:M(()=>[e("img",{class:"img",src:m(a.label),alt:"",srcset:""},null,8,se),e("span",ae,E(a.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onChange"]),e("div",ne,[(A(!0),V(N,null,O(a.children,r=>(A(),Q(n,{key:a.key+r.key,label:r.label,modelValue:r.value,"onUpdate:modelValue":R=>r.value=R,onChange:R=>l(a)},{default:M(()=>[w(E(r.label),1)]),_:2},1032,["label","modelValue","onUpdate:modelValue","onChange"]))),128))])]))),128)}}},j=P(oe,[["__scopeId","data-v-f6136d85"]]);const ie={class:"title"},ce={class:"transfer"},re={class:"left"},de={class:"right"},ue={__name:"AddPathModal",props:{visible:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["update:visible"],setup(C,{emit:h}){const f=C,m=h,b=p(),v=p({name:""}),c=z(()=>f.visible),t=p([{key:"0",label:"机房",value:!1,children:[{key:"0",label:"1#",value:!1},{key:"1",label:"2#",value:!1},{key:"2",label:"3#",value:!1},{key:"3",label:"4#",value:!1}]},{key:"1",label:"院内",value:!1,children:[{key:"0",label:"5#",value:!1},{key:"1",label:"6#",value:!1},{key:"2",label:"7#",value:!1},{key:"3",label:"8#",value:!1}]},{key:"2",label:"港沟河进水闸",value:!1,children:[{key:"0",label:"9#",value:!1},{key:"1",label:"10#",value:!1},{key:"2",label:"11#",value:!1},{key:"3",label:"12#",value:!1}]},{key:"3",label:"军屯拦河闸",value:!1,children:[{key:"0",label:"13#",value:!1},{key:"1",label:"14#",value:!1},{key:"2",label:"15#",value:!1},{key:"3",label:"16#",value:!1},{key:"4",label:"17#",value:!1},{key:"5",label:"18#",value:!1},{key:"6",label:"19#",value:!1},{key:"7",label:"20#",value:!1}]}]),l=p([]),s=d=>{console.log(d)};function o(){console.log("object");const{list:d,removedItems:i}=r(T(t));l.value=a(l.value,i),t.value=d}function n(){const{list:d,removedItems:i}=r(T(l));t.value=a(t.value,i),l.value=d}function a(d,i){d||(d=[]),i||(i=[]);let g=[];return d.forEach(u=>{i.forEach(y=>{if(u.key===y.key){const x={...u,children:[...u.children,...y.children]};g.push(x)}})}),d.forEach(u=>{g.some(y=>y.key===u.key)||g.push(u)}),i.forEach(u=>{g.some(y=>y.key===u.key)||g.push(u)}),g}function r(d){let i=[],g=[],u=JSON.parse(JSON.stringify(d));function y(x,D=!1,U=-1){let F=JSON.parse(JSON.stringify(x)),I=null;D&&(I=JSON.parse(JSON.stringify(d[U])),I.value=!1,I.children=[]);let S=0;for(let B=0;B<F.length;B++){let k=F[B];if(k.value===!0&&D){k.value=!1,u[U].children.splice(B-S,1),S++,I.children.push(k);continue}if(k.value===!0){k.value=!1,u.splice(B-S,1),S++,g.push(k);continue}k.children&&k.children.length>0&&(k.children=y(k.children,!0,B)),i.push(k)}return D&&I.children.length>0&&g.push(I),F}return y(d),console.log(i,g,u),{list:u,removedItems:g}}p([]);function R(){m("update:visible",!1)}function J(){b.value.validate(d=>{if(!d)return console.log("error submit!!"),!1})}return(d,i)=>{const g=Y("el-input"),u=Y("el-form-item"),y=Y("el-dialog");return A(),Q(y,{modelValue:c.value,"onUpdate:modelValue":i[1]||(i[1]=x=>c.value=x),"before-close":R,class:"custom-dialog w-40","append-to-body":!0,"destroy-on-close":"",width:"40%"},{header:M(()=>[e("div",ie,E(C.title),1)]),footer:M(()=>[e("div",{class:"dialog-footer flex content-center"},[e("div",{class:"reset-btn",onClick:R},"取 消"),e("div",{class:"search-btn",type:"primary",onClick:J},"确 定")])]),default:M(()=>[L(u,{label:"路径名称"},{default:M(()=>[L(g,{class:"custom-input",style:{width:"180px"},modelValue:v.value.name,"onUpdate:modelValue":i[0]||(i[0]=x=>v.value.name=x)},null,8,["modelValue"])]),_:1}),e("div",ce,[e("div",re,[i[2]||(i[2]=e("div",{class:"header"},[e("div",{class:"img"}),e("span",{class:"title"},"视频设备列表")],-1)),L(j,{checkList:t.value,onChange:s},null,8,["checkList"])]),e("div",{class:"transfer__buttons"},[e("div",{class:"right-btn",onClick:o}),e("div",{class:"left-btn",onClick:n})]),e("div",de,[i[3]||(i[3]=e("div",{class:"header"},[e("div",{class:"img"}),e("span",{class:"title"},"巡查路径")],-1)),L(j,{"check-list":l.value},null,8,["check-list"])])])]),_:1},8,["modelValue"])}}},ve=P(ue,[["__scopeId","data-v-921a195f"]]);const pe={style:{width:"100%"}},fe={class:"header"},me={class:"title"},ge={class:"list-panel"},Ae={class:"top"},_e={class:"index"},he={class:"middle"},ye={class:"num"},ke={class:"bottom"},be=["onClick"],Ve=["onClick"],Ce=["onClick"],Le=["onClick"],xe={__name:"LeftList",props:{title:{default:""}},emits:["updatePath"],setup(C,{emit:h}){const f=h,m=p(!1);p({});const b=[{name:"河道巡查",num:123},{name:"河道巡查",num:123},{name:"河道巡查",num:123},{name:"河道巡查",num:123}];function v(){m.value=!0}function c(_,t){f("updatePath",_,t)}return(_,t)=>(A(),V("div",pe,[e("div",fe,[t[2]||(t[2]=e("div",{class:"img"},null,-1)),e("span",me,E(C.title),1),e("div",{class:"plan",onClick:v},t[1]||(t[1]=[e("img",{src:Z,alt:""},null,-1),e("span",{class:"text"},"创建路径",-1)]))]),e("div",ge,[(A(),V(N,null,O(b,(l,s)=>e("div",{class:"panel",key:s},[e("div",Ae,[e("span",_e,E(s+1),1),t[3]||(t[3]=e("span",{class:"title"},"路径名称：河道巡查",-1))]),e("div",he,[t[4]||(t[4]=e("span",null,"涉及点位",-1)),e("span",ye,E(l.num),1),t[5]||(t[5]=w("个 "))]),e("div",ke,[e("div",{class:"btn",onClick:o=>c("inspect",l)},t[6]||(t[6]=[e("img",{src:ee,alt:""},null,-1),e("span",null,"自动巡查",-1)]),8,be),e("div",{class:"btn",onClick:o=>c("edit",l)},t[7]||(t[7]=[e("img",{src:H,alt:""},null,-1),w(" 编辑 ")]),8,Ve),e("div",{class:"btn",onClick:o=>c("see",l)},t[8]||(t[8]=[e("img",{src:te,alt:""},null,-1),w(" 地图查看 ")]),8,Ce),e("div",{class:"btn",onClick:o=>c("delete",l)},t[9]||(t[9]=[e("img",{src:le,alt:""},null,-1),w(" 删除 ")]),8,Le)])])),64))]),L(ve,{visible:m.value,title:"创建巡查路径","onUpdate:visible":t[0]||(t[0]=l=>m.value=l)},null,8,["visible"])]))}},Ee=P(xe,[["__scopeId","data-v-1282420a"]]);const Ie={class:"v-panel"},Be={class:"main video-panel"},Me={class:"video"},Re={class:"swipper"},we={class:"wrapper"},Pe=["onClick"],Se={class:"title"},Ye={__name:"VideoList",props:{type:{default:""},data:{default:{}}},setup(C){const h=[{url:"1",title:"港沟河下游"},{url:"2",title:"港沟河下游"},{url:"3",title:"港沟河下游"},{url:"4",title:"港沟河下游"},{url:"5",title:"港沟河下游"},{url:"6",title:"港沟河下游6"}],f=p("1"),m=p(h),b=p();function v(t){let l=0;t==="pre"&&(l=-1),t==="next"&&(l=1);const s=T(m),o=s.findIndex(a=>a.url===f.value);if(o===-1)return;let n=o+l;n<0||(n>s.length-1&&(n=0),f.value=s[n].url,c(l,n))}function c(t,l){const s=b.value,o=s.children[0];s.childElementCount;var n=o.offsetWidth,a=getComputedStyle(o);n+=parseInt(a.marginLeft)+parseInt(a.marginRight);let r=0;l<=2?r=0:r=-1*(Math.ceil((l+1)/3)-1)*3*n,console.log(n,"atIndex",l,r,t),s.style.transform=`translateX(${r}px)`}function _(t){f.value=t.url}return(t,l)=>(A(),V("div",Ie,[e("div",Be,[e("div",Me,[L(G)]),l[2]||(l[2]=e("div",{class:"title"},"2121",-1))]),e("div",Re,[e("div",{class:"pre",onClick:l[0]||(l[0]=s=>v("pre"))}),e("div",we,[e("div",{class:"list",ref_key:"vlistRef",ref:b},[(A(!0),V(N,null,O(m.value,s=>(A(),V("div",{class:K(["video-panel",{active:f.value===s.url}]),onClick:o=>_(s),key:s.title},[l[3]||(l[3]=e("div",{class:"v-img"},null,-1)),e("div",Se,E(s.title),1)],10,Pe))),128))],512)]),e("div",{class:"next",onClick:l[1]||(l[1]=s=>v("next"))})])]))}},Oe=P(Ye,[["__scopeId","data-v-1cc09e7b"]]);const Ne={class:"main"},Qe={class:"left-tree"},De={class:"right-panel"},Fe={__name:"index",setup(C){const h=p(!1),f=p(),m=p({});function b(c,_){f.value=c,m.value=_,h.value=!h.value}function v(c){console.log("map",c);const _=q($);c.addLayer(_)}return(c,_)=>(A(),V("div",Ne,[e("div",Qe,[L(Ee,{title:"巡查路径",onUpdatePath:b})]),e("div",De,[h.value?(A(),Q(X,{key:0,onMapLoaded:v})):(A(),Q(Oe,{key:1,type:f.value,data:m.value},null,8,["type","data"]))])]))}},We=P(Fe,[["__scopeId","data-v-4afc16bf"]]);export{We as default};
