import{d as F}from"./dialogRemoveCom-ee237155.js";import{d as L}from"./dialogWaterEnvSheet-1404c127.js";import{G as $,D as j}from"./engineeringAPI-21148e34.js";import{_ as G,f as r,J as H,g as I,r as d,o as i,c as g,a as t,b as l,w as _,x as m,v as h,C,A as J,F as T,i as U}from"./index-79e36b83.js";import"./unit-ac192840.js";import"./axios-c0524c3b.js";const W={class:"sheet"},q={class:"top"},z={class:"search"},K={class:"table"},O=["onClick"],P=["onClick"],Q={__name:"waterEnv",setup(X){const s=r({date:""});let u=r(!1),n=r(!1),a=H({});const w=r([{label:"检查日期",prop:"checkDate"},{label:"巡查人",prop:"checker"}]),f=r([]),S=()=>{s.value={date:""},c()},D=()=>{c()},x=()=>{a=null,n.value=!0},y=e=>{console.log(e),a=e,n.value=!0},E=e=>{e.removeText="当前选中数据",a=e,u.value=!0},b=()=>{u.value=!1},R=()=>{n.value=!1},B=()=>{j({formName:"绿化水环境巡查记录",ids:a.id}).then(e=>{console.log(e),J({message:e.msg,type:"success"}),b(),c()})},V=()=>{n.value=!1,c()};I(()=>{c()});const c=()=>{$(s.value).then(e=>{console.log(e),f.value=e.data})};return(e,k)=>{const M=d("el-date-picker"),N=d("el-form-item"),Y=d("el-form"),p=d("el-table-column"),A=d("el-table");return i(),g("div",W,[t("div",q,[t("div",z,[l(Y,{model:s.value,inline:""},{default:_(()=>[l(N,{label:"日期"},{default:_(()=>[l(M,{modelValue:s.value.date,"onUpdate:modelValue":k[0]||(k[0]=o=>s.value.date=o),type:"date","value-format":"YYYY-MM-DD",placeholder:"请选择日期"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),t("div",{class:"search-btn",onClick:D},"查询"),t("div",{class:"reset-btn",onClick:S},"重置")]),t("div",{class:"reset-btn",onClick:x},"新建")]),t("div",K,[l(A,{data:f.value,height:"100%"},{default:_(()=>[l(p,{type:"index",width:"70",label:"序号",align:"center"}),(i(!0),g(T,null,U(w.value,(o,v)=>(i(),h(p,{key:v,prop:o.prop,label:o.label,align:"center","show-overflow-tooltip":""},null,8,["prop","label"]))),128)),l(p,{label:"操作",align:"center"},{default:_(o=>[t("span",{class:"oper-span oper-edit",onClick:v=>y(o.row)},"编辑",8,O),t("span",{class:"oper-span oper-remove",onClick:v=>E(o.row)},"删除",8,P)]),_:1})]),_:1},8,["data"])]),m(u)?(i(),h(F,{key:0,data:m(a),onCloseRemove:b,onSubRemove:B},null,8,["data"])):C("",!0),m(n)?(i(),h(L,{key:1,data:m(a),onCloseSheet:R,onSubSheet:V},null,8,["data"])):C("",!0)])}}},se=G(Q,[["__scopeId","data-v-bee04f44"]]);export{se as default};
