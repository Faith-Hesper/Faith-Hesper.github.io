import{_ as A}from"./close_icon-79cdeb99.js";import{J as E,K as F}from"./engineeringAPI-21148e34.js";import{a as L}from"./systemAPI-159b07b8.js";import{_ as T,f as r,g as U,r as c,o as m,c as f,a as o,b as e,w as s,C as M,A as O,F as j,i as G,v as I}from"./index-79e36b83.js";import"./axios-c0524c3b.js";const J={class:"ledger"},K={class:"top"},$={class:"search"},z={class:"table"},H=["onClick"],P={key:0,class:"add"},Q={class:"content"},R={class:"main"},S={__name:"work",setup(W){const n=r({id:"",formName:"",frequencyName:""}),_=r(!1),i=r(""),v=r([]),b=r([]),y=()=>{u()},N=()=>{i.value="",u()},V=l=>{n.value={id:l.id,formName:l.formName,frequencyName:l.frequencyName},_.value=!0},p=()=>{_.value=!1;for(let l in n.value)n.value[l]=""},C=()=>{F(n.value).then(l=>{console.log(l),O({message:l.msg,type:"success"}),p(),u()})};U(()=>{L(window.config.dictObject.GcCheckFrequency).then(l=>{console.log(l),b.value=l.data,u()})});const u=()=>{E(i.value).then(l=>{console.log(l),v.value=l.data})};return(l,a)=>{const g=c("el-input"),d=c("el-table-column"),B=c("el-table"),w=c("el-form-item"),h=c("el-col"),k=c("el-row"),q=c("el-option"),x=c("el-select"),D=c("el-form");return m(),f("div",J,[o("div",K,[o("div",$,[a[3]||(a[3]=o("div",{class:"type"},"表名",-1)),e(g,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=t=>i.value=t),class:"search-input",placeholder:"输入表名搜索"},null,8,["modelValue"]),o("div",{class:"search-btn",onClick:y},"查询"),o("div",{class:"reset-btn",onClick:N},"重置")])]),o("div",z,[e(B,{data:v.value},{default:s(()=>[e(d,{type:"index",width:"70",label:"序号",align:"center"}),e(d,{label:"表单名称",prop:"formName","show-overflow-tooltip":"",align:"center"}),e(d,{label:"检查频次",prop:"frequencyName","show-overflow-tooltip":"",align:"center"}),e(d,{label:"更新时间",prop:"updateTime","show-overflow-tooltip":"",align:"center"}),e(d,{label:"操作",align:"center"},{default:s(t=>[o("span",{class:"oper-span oper-edit",onClick:X=>V(t.row)},"编辑",8,H)]),_:1})]),_:1},8,["data"])]),_.value?(m(),f("div",P,[o("div",Q,[o("div",{class:"header"},[a[4]||(a[4]=o("div",{class:"title"},"编辑",-1)),o("img",{src:A,alt:"",class:"close",onClick:p})]),o("div",R,[e(D,{model:n.value,"label-width":"120px","label-position":"right"},{default:s(()=>[e(k,null,{default:s(()=>[e(h,{span:24},{default:s(()=>[e(w,{label:"表名："},{default:s(()=>[e(g,{modelValue:n.value.formName,"onUpdate:modelValue":a[1]||(a[1]=t=>n.value.formName=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(k,null,{default:s(()=>[e(h,{span:24},{default:s(()=>[e(w,{label:"检查周期："},{default:s(()=>[e(x,{modelValue:n.value.frequencyName,"onUpdate:modelValue":a[2]||(a[2]=t=>n.value.frequencyName=t),class:"com-select"},{default:s(()=>[(m(!0),f(j,null,G(b.value,t=>(m(),I(q,{key:t.dictValue,label:t.dictLabel,value:t.dictValue},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),o("div",{class:"footer"},[o("div",{class:"reset-btn",onClick:p},"取消"),o("div",{class:"search-btn",onClick:C},"确定")])])])):M("",!0)])}}},te=T(S,[["__scopeId","data-v-b74997f9"]]);export{te as default};
