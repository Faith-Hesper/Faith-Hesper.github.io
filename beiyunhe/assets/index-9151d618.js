import{i as z}from"./inspect-56f7f76f.js";import{_ as I,f as _,s as R,r,o as d,v as E,w as l,a as o,t as D,b as e,J,c as p,F,i as M,D as T,x as j}from"./index-79e36b83.js";const A={class:"title"},G={__name:"DetailModal",props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},data:{default:{plan:"",content:"",member:"",date:""}}},emits:["update:visible"],setup(Y,{emit:f}){const b=Y,C=f,v=_(),y=R(()=>b.visible),a=R(()=>b.data);function m(){C("update:visible",!1)}function g(){v.value.validate(V=>{if(!V)return console.log("error submit!!"),!1})}return(V,n)=>{const s=r("el-input"),c=r("el-form-item"),U=r("el-form"),q=r("el-dialog");return d(),E(q,{modelValue:y.value,"onUpdate:modelValue":n[4]||(n[4]=u=>y.value=u),"before-close":m,class:"custom-dialog","append-to-body":!0,width:"30%"},{header:l(()=>[o("div",A,D(Y.title),1)]),footer:l(()=>[o("div",{class:"dialog-footer flex content-center"},[o("div",{class:"reset-btn",onClick:m},"取 消"),o("div",{class:"search-btn",type:"primary",onClick:g},"确 定")])]),default:l(()=>[e(U,{model:a.value,"label-width":"auto","label-position":"left",ref_key:"formRef",ref:v,class:"custom-form"},{default:l(()=>[e(c,{label:"巡查计划名称",prop:"plan"},{default:l(()=>[e(s,{class:"custom-input",modelValue:a.value.plan,"onUpdate:modelValue":n[0]||(n[0]=u=>a.value.plan=u)},null,8,["modelValue"])]),_:1}),e(c,{label:"巡查内容",prop:"content"},{default:l(()=>[e(s,{class:"custom-input",modelValue:a.value.content,"onUpdate:modelValue":n[1]||(n[1]=u=>a.value.content=u)},null,8,["modelValue"])]),_:1}),e(c,{label:"巡查人员",prop:"member"},{default:l(()=>[e(s,{class:"custom-input",modelValue:a.value.member,"onUpdate:modelValue":n[2]||(n[2]=u=>a.value.member=u)},null,8,["modelValue"])]),_:1}),e(c,{label:"巡查日期",prop:"member"},{default:l(()=>[e(s,{class:"custom-input",modelValue:a.value.date,"onUpdate:modelValue":n[3]||(n[3]=u=>a.value.date=u)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}},H=I(G,[["__scopeId","data-v-67e9c75b"]]);const K={class:"header"},O={class:"title"},P={class:"num"},Q={class:"control"},W={class:"table"},X=["onClick","src"],Z={__name:"index",setup(Y){const f=new Date().getFullYear().toString(),b=new Date().getMonth()-1,C=[{prop:"date",label:"填报时间"},{prop:"plan",label:"巡查计划名称"},{prop:"member",label:"巡查人员"},{prop:"content",label:"巡查点位"}],v=[[{title:"待巡查",num:"578",unit:"个"},{title:"逾期未巡查",num:"123",unit:"个"},{title:"已巡查",num:"23",unit:"个"}],[{title:"待处置",num:"578",unit:"个"},{title:"处置中",num:"123",unit:"个"},{title:"已处置",num:"23",unit:"个"}]],y=[{date:"qqw",plan:"22",yh:"待巡查",member:"22",content:"22"},{date:"qqw",plan:"22",yh:"逾期未巡查",member:"22",content:"22"},{date:"qqw",plan:"22",yh:"已巡查",member:"22",content:"22"}],a=_(),m=_(!1),g=_({}),V=_(v),n=_(y),s=J({year:f||"2024",month:f+"-"+b,status:"",member:""});function c(w){return{color:""+{待巡查:"#19deff",逾期未巡查:"#ffc002",已巡查:"#19ffa1"}[w]}}function U(w){g.value=w,m.value=!0}function q(){a.value.resetFields()}async function u(){}return(w,i)=>{const $=r("el-date-picker"),B=r("el-form-item"),S=r("el-input"),L=r("el-form"),h=r("el-table-column"),N=r("el-table");return d(),p("div",null,[o("div",K,[(d(!0),p(F,null,M(V.value,(t,x)=>(d(),p("div",{class:"box",key:x},[(d(!0),p(F,null,M(t,k=>(d(),p("div",{class:"panel",key:k.title},[o("div",O,D(k.title),1),o("div",P,D(k.num+k.unit),1)]))),128))]))),128))]),o("div",Q,[e(L,{inline:!0,model:s,"label-position":"right",ref_key:"formRef",ref:a,class:"custom-form"},{default:l(()=>[e(B,{label:"日期",prop:"dataType"},{default:l(()=>[e($,{style:{width:"185px"},modelValue:s.year,"onUpdate:modelValue":i[0]||(i[0]=t=>s.year=t),format:"YYYY","value-format":"YYYY","popper-class":"custom-select",type:"year"},null,8,["modelValue"])]),_:1}),e(B,{label:"状态",prop:"type"},{default:l(()=>[e(S,{class:"custom-input",style:{width:"185px"},modelValue:s.status,"onUpdate:modelValue":i[1]||(i[1]=t=>s.status=t)},null,8,["modelValue"])]),_:1}),e(B,{label:"巡查人员",prop:"member"},{default:l(()=>[e(S,{class:"custom-input",style:{width:"185px"},modelValue:s.member,"onUpdate:modelValue":i[2]||(i[2]=t=>s.member=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),o("div",{class:"searchBar-btns"},[o("div",{class:"reset-btn",onClick:q},"重置"),o("div",{class:"search-btn",onClick:u},"查询")])]),o("div",W,[e(N,{data:n.value,class:"custom-table deep","highlight-current-row":""},{default:l(()=>[e(h,{type:"index",label:"序号",align:"center",width:"70"}),(d(),p(F,null,M(C,(t,x)=>e(h,{key:x,prop:t.prop,label:t.label,width:t.width,align:"center","show-overflow-tooltip":""},null,8,["prop","label","width"])),64)),e(h,{label:"巡查",align:"center",width:"120"},{default:l(t=>[o("div",{class:"tag",style:T(c(t.row.yh))},D(t.row.yh),5)]),_:1}),e(h,{label:"操作",align:"center",width:"180"},{default:l(t=>[o("img",{class:"img",title:"详情",onClick:x=>U(t.row),src:j(z)},null,8,X)]),_:1})]),_:1},8,["data"])]),e(H,{visible:m.value,title:"巡查计划",data:g.value,"onUpdate:visible":i[3]||(i[3]=t=>m.value=t)},null,8,["visible","data"])])}}},le=I(Z,[["__scopeId","data-v-6793d2f4"]]);export{le as default};
