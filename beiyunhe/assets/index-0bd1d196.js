import{i as N}from"./inspect-56f7f76f.js";import{_ as R,f as m,s as F,r as i,o as p,v as z,w as o,a as l,t as k,b as e,J as E,c as w,F as M,i as S,D as J,x as T}from"./index-79e36b83.js";const j={class:"title"},A={__name:"DetailModal",props:{type:{default:"detail"},visible:{type:Boolean,default:!1},title:{type:String,default:""},data:{default:{plan:"",content:"",member:"",date:""}}},emits:["update:visible"],setup(x,{emit:_}){const f=x,D=_,b=m(),v=F(()=>f.visible),a=F(()=>f.data);function d(){D("update:visible",!1)}function y(){b.value.validate(g=>{if(!g)return console.log("error submit!!"),!1})}return(g,n)=>{const s=i("el-input"),c=i("el-form-item"),Y=i("el-form"),C=i("el-dialog");return p(),z(C,{modelValue:v.value,"onUpdate:modelValue":n[4]||(n[4]=r=>v.value=r),"before-close":d,class:"custom-dialog","append-to-body":!0,width:"30%"},{header:o(()=>[l("div",j,k(x.title),1)]),footer:o(()=>[l("div",{class:"dialog-footer flex content-center"},[l("div",{class:"reset-btn",onClick:d},"取 消"),l("div",{class:"search-btn",type:"primary",onClick:y},"确 定")])]),default:o(()=>[e(Y,{model:a.value,"label-width":"auto","label-position":"left",ref_key:"formRef",ref:b,class:"custom-form"},{default:o(()=>[e(c,{label:"养护计划名称",prop:"plan"},{default:o(()=>[e(s,{class:"custom-input",modelValue:a.value.plan,"onUpdate:modelValue":n[0]||(n[0]=r=>a.value.plan=r)},null,8,["modelValue"])]),_:1}),e(c,{label:"养护内容",prop:"content"},{default:o(()=>[e(s,{class:"custom-input",modelValue:a.value.content,"onUpdate:modelValue":n[1]||(n[1]=r=>a.value.content=r)},null,8,["modelValue"])]),_:1}),e(c,{label:"养护人员",prop:"member"},{default:o(()=>[e(s,{class:"custom-input",modelValue:a.value.member,"onUpdate:modelValue":n[2]||(n[2]=r=>a.value.member=r)},null,8,["modelValue"])]),_:1}),e(c,{label:"养护日期",prop:"member"},{default:o(()=>[e(s,{class:"custom-input",modelValue:a.value.date,"onUpdate:modelValue":n[3]||(n[3]=r=>a.value.date=r)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}},G=R(A,[["__scopeId","data-v-7cbac6e3"]]);const H={class:"header"},K={class:"right"},O={class:"title"},P={class:"num"},Q={class:"control"},W={class:"table"},X=["onClick","src"],Z={__name:"index",setup(x){const _=new Date().getFullYear().toString(),f=new Date().getMonth()-1,D=[{prop:"date",label:"填报时间"},{prop:"plan",label:"养护计划名称"},{prop:"member",label:"养护人员"},{prop:"content",label:"养护点位"}],b=[{title:"待养护",num:"578",unit:"个"},{title:"逾期未养护",num:"578",unit:"个"},{title:"已养护",num:"578",unit:"个"}],v=[{date:"qqw",plan:"22",yh:"待养护",member:"22",content:"22"},{date:"qqw",plan:"22",yh:"逾期未养护",member:"22",content:"22"},{date:"qqw",plan:"22",yh:"已养护",member:"22",content:"22"}],a=m(),d=m(!1),y=m({}),g=m(b),n=m(v),s=E({year:_||"2024",month:_+"-"+f,status:"",member:""});function c(V){return{color:""+{待养护:"#19deff",逾期未养护:"#ffc002",已养护:"#19ffa1"}[V]}}function Y(V){y.value=V,d.value=!0}function C(){a.value.resetFields()}async function r(){}return(V,u)=>{const I=i("el-date-picker"),U=i("el-form-item"),q=i("el-input"),$=i("el-form"),h=i("el-table-column"),L=i("el-table");return p(),w("div",null,[l("div",H,[(p(!0),w(M,null,S(g.value,t=>(p(),w("div",{class:"panel",key:t.title},[l("div",K,[l("div",O,k(t.title),1),l("div",P,k(t.num+t.unit),1)])]))),128))]),l("div",Q,[e($,{inline:!0,model:s,"label-position":"right",ref_key:"formRef",ref:a,class:"custom-form"},{default:o(()=>[e(U,{label:"日期",prop:"dataType"},{default:o(()=>[e(I,{style:{width:"185px"},modelValue:s.year,"onUpdate:modelValue":u[0]||(u[0]=t=>s.year=t),format:"YYYY","value-format":"YYYY","popper-class":"custom-select",type:"year"},null,8,["modelValue"])]),_:1}),e(U,{label:"状态",prop:"type"},{default:o(()=>[e(q,{class:"custom-input",modelValue:s.status,"onUpdate:modelValue":u[1]||(u[1]=t=>s.status=t)},null,8,["modelValue"])]),_:1}),e(U,{label:"养护人员",prop:"member"},{default:o(()=>[e(q,{class:"custom-input",modelValue:s.member,"onUpdate:modelValue":u[2]||(u[2]=t=>s.member=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),l("div",{class:"searchBar-btns"},[l("div",{class:"reset-btn",onClick:C},"重置"),l("div",{class:"search-btn",onClick:r},"查询")])]),l("div",W,[e(L,{data:n.value,class:"custom-table deep","highlight-current-row":""},{default:o(()=>[e(h,{type:"index",label:"序号",align:"center",width:"70"}),(p(),w(M,null,S(D,(t,B)=>e(h,{key:B,prop:t.prop,label:t.label,width:t.width,align:"center","show-overflow-tooltip":""},null,8,["prop","label","width"])),64)),e(h,{label:"养护",align:"center",width:"120"},{default:o(t=>[l("div",{class:"tag",style:J(c(t.row.yh))},k(t.row.yh),5)]),_:1}),e(h,{label:"操作",align:"center",width:"180"},{default:o(t=>[l("img",{class:"img",title:"详情",onClick:B=>Y(t.row),src:T(N)},null,8,X)]),_:1})]),_:1},8,["data"])]),e(G,{visible:d.value,title:"养护计划",data:y.value,"onUpdate:visible":u[3]||(u[3]=t=>d.value=t)},null,8,["visible","data"])])}}},le=R(Z,[["__scopeId","data-v-eb611bf1"]]);export{le as default};
