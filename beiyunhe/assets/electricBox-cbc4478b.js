import{d as T}from"./dialogRemoveCom-ee237155.js";import{d as $}from"./dialogElectricBoxSheet-68a4c09d.js";import{F as I,D as J}from"./engineeringAPI-21148e34.js";import{k as g}from"./unit-ac192840.js";import{_ as L,f as m,J as U,g as j,r as _,o as u,c as q,a as l,b as o,w as n,x as c,v as b,C as k,A as z,d as w,t as C}from"./index-79e36b83.js";import"./axios-c0524c3b.js";const G={class:"sheet"},H={class:"top"},K={class:"search"},O={class:"table"},P=["onClick"],Q=["onClick"],W={__name:"electricBox",setup(X){const r=m({date:""});let p=m(!1),d=m(!1),a=U({});const v=m([]),x=()=>{r.value={date:""},i()},S=()=>{i()},y=()=>{a=null,d.value=!0},B=e=>{console.log(e),a=e,d.value=!0},D=e=>{e.removeText="当前选中数据",a=e,p.value=!0},f=()=>{p.value=!1},N=()=>{d.value=!1},R=()=>{J({formName:"配电柜检查记录表",ids:a.id}).then(e=>{console.log(e),z({message:e.msg,type:"success"}),f(),i()})},V=()=>{d.value=!1,i()};j(()=>{i()});const i=()=>{I(r.value).then(e=>{console.log(e),v.value=e.data})};return(e,h)=>{const E=_("el-date-picker"),M=_("el-form-item"),Y=_("el-form"),s=_("el-table-column"),A=_("el-table");return u(),q("div",G,[l("div",H,[l("div",K,[o(Y,{model:r.value,inline:""},{default:n(()=>[o(M,{label:"日期"},{default:n(()=>[o(E,{modelValue:r.value.date,"onUpdate:modelValue":h[0]||(h[0]=t=>r.value.date=t),type:"date","value-format":"YYYY-MM-DD",placeholder:"请选择日期"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),l("div",{class:"search-btn",onClick:S},"查询"),l("div",{class:"reset-btn",onClick:x},"重置")]),l("div",{class:"reset-btn",onClick:y},"新建")]),l("div",O,[o(A,{data:v.value,height:"100%"},{default:n(()=>[o(s,{type:"index",width:"70",label:"序号",align:"center"}),o(s,{label:"检查日期","show-overflow-tooltip":"",prop:"checkDate",align:"center"}),o(s,{label:"设施是否完好","show-overflow-tooltip":"",prop:"goodConditiaon",align:"center"},{default:n(t=>[w(C(c(g)(t.row.goodConditiaon)),1)]),_:1}),o(s,{label:"运行是否正常","show-overflow-tooltip":"",prop:"runNormally",align:"center"},{default:n(t=>[w(C(c(g)(t.row.runNormally)),1)]),_:1}),o(s,{label:"检查人","show-overflow-tooltip":"",prop:"checker",align:"center"}),o(s,{label:"操作",align:"center"},{default:n(t=>[l("span",{class:"oper-span oper-edit",onClick:F=>B(t.row)},"编辑",8,P),l("span",{class:"oper-span oper-remove",onClick:F=>D(t.row)},"删除",8,Q)]),_:1})]),_:1},8,["data"])]),c(p)?(u(),b(T,{key:0,data:c(a),onCloseRemove:f,onSubRemove:R},null,8,["data"])):k("",!0),c(d)?(u(),b($,{key:1,data:c(a),onCloseSheet:N,onSubSheet:V},null,8,["data"])):k("",!0)])}}},se=L(W,[["__scopeId","data-v-5fbd6904"]]);export{se as default};
