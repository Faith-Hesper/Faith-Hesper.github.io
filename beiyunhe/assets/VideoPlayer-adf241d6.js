import{H as t}from"./VideoPlayer.vue_vue_type_style_index_0_scoped_54907636_lang-824477ca.js";import{_ as p,f,g as v,l as m,o as _,c as h,a}from"./index-79e36b83.js";const y={class:"videoPanel"},R={__name:"VideoPlayer",props:{url:{default:"http://211.94.159.82:6066/101.m3u8"}},emits:["closeVideo"],setup(n,{emit:i}){const r=n,c=i;let e;const o=f();function d(){let s=o.value;if(t.isSupported())e=new t,e.loadSource(r.url),e.attachMedia(s),e.on(t.Events.MANIFEST_PARSED,()=>{s.play(),console.log("加载成功")}),e.on(t.Events.ERROR,(l,V)=>{console.log("加载失败")});else return}function u(){e&&(o.value&&o.value.pause(),e.destroy(),e=null,c("closeVideo"))}return v(()=>{d()}),m(()=>{u()}),(s,l)=>(_(),h("div",y,[a("video",{preload:"auto",muted:"",controls:"",class:"video-js vjs-default-skin",style:{width:"100%",height:"100%","object-fit":"fill"},ref_key:"videoRef",ref:o},l[0]||(l[0]=[a("source",{type:"application/x-mpegURL"},null,-1)]),512)]))}},j=p(R,[["__scopeId","data-v-54907636"]]);export{j as V};
