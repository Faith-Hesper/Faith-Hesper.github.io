import{d as F}from"./dialogRemoveCom-ee237155.js";import{D as L}from"./dialogDynamotorSheet-865c2f63.js";import{E as $,D as j}from"./engineeringAPI-21148e34.js";import{_ as H,f as r,J as I,g as J,r as d,o as i,c as g,a as o,b as l,w as m,x as _,v as f,C,A as T,F as U,i as q}from"./index-79e36b83.js";import"./unit-ac192840.js";import"./axios-c0524c3b.js";const z={class:"sheet"},G={class:"top"},K={class:"search"},O={class:"table"},P=["onClick"],Q=["onClick"],W={__name:"dynamotorView",setup(X){const s=r({date:""});let u=r(!1),n=r(!1),a=I({});const w=r([{label:"检查日期",prop:"checkDate"},{label:"发现问题",prop:"problem"},{label:"检查人",prop:"checker"}]),h=r([]),y=()=>{s.value={date:""},c()},D=()=>{c()},S=()=>{a=null,n.value=!0},V=e=>{a=e,n.value=!0},x=e=>{e.removeText="当前选中数据",a=e,u.value=!0},b=()=>{u.value=!1},R=()=>{n.value=!1},B=()=>{j({formName:"发电机检查记录表",ids:a.id}).then(e=>{console.log(e),T({message:e.msg,type:"success"}),b(),c()})},E=()=>{n.value=!1,c()};J(()=>{c()});const c=()=>{$(s.value).then(e=>{console.log(e),h.value=e.data})};return(e,k)=>{const M=d("el-date-picker"),N=d("el-form-item"),Y=d("el-form"),p=d("el-table-column"),A=d("el-table");return i(),g("div",z,[o("div",G,[o("div",K,[l(Y,{model:s.value,inline:""},{default:m(()=>[l(N,{label:"日期"},{default:m(()=>[l(M,{modelValue:s.value.date,"onUpdate:modelValue":k[0]||(k[0]=t=>s.value.date=t),type:"date","value-format":"YYYY-MM-DD",placeholder:"请选择日期"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),o("div",{class:"search-btn",onClick:D},"查询"),o("div",{class:"reset-btn",onClick:y},"重置")]),o("div",{class:"reset-btn",onClick:S},"新建")]),o("div",O,[l(A,{data:h.value,height:"100%"},{default:m(()=>[l(p,{type:"index",width:"70",label:"序号",align:"center"}),(i(!0),g(U,null,q(w.value,(t,v)=>(i(),f(p,{key:v,prop:t.prop,label:t.label,align:"center","show-overflow-tooltip":""},null,8,["prop","label"]))),128)),l(p,{label:"操作",align:"center"},{default:m(t=>[o("span",{class:"oper-span oper-edit",onClick:v=>V(t.row)},"编辑",8,P),o("span",{class:"oper-span oper-remove",onClick:v=>x(t.row)},"删除",8,Q)]),_:1})]),_:1},8,["data"])]),_(u)?(i(),f(F,{key:0,data:_(a),onCloseRemove:b,onSubRemove:B},null,8,["data"])):C("",!0),_(n)?(i(),f(L,{key:1,data:_(a),onCloseSheet:R,onSubSheet:E},null,8,["data"])):C("",!0)])}}},se=H(W,[["__scopeId","data-v-fad79a2a"]]);export{se as default};
