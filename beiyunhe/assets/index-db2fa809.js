import{_ as V,u as B,f as _,r as n,o as f,c as g,a as o,b as a,w as s,x as e,F,i as R}from"./index-267246aa.js";import{i as I}from"./atentionAPI-698fbc9c.js";import{u as O}from"./useOperate-2feed5ad.js";import"./axios-da025460.js";import"./index-1899286b.js";const j={class:"control"},q={class:"searchBar-btns"},A={class:"table"},E=["onClick"],G={class:"table-page"},J={__name:"index",setup(L){const b={time:"",name:"",userName:"",staus:1},h={get:I},{formRef:v,formData:r,tableData:C,onSearch:m,resetForm:d,page:i,handleCurrentChange:w,handleSizeChange:k}=O({form:b,operationMap:h});new Date().getFullYear().toString(),new Date().getMonth()-1;const x=B(),D=[{prop:"time",label:"养护日期"},{prop:"name",label:"养护任务名称"},{prop:"userName",label:"养护人员"},{prop:"content",label:"养护设备"}];_(!1),_({});function y(c){localStorage.setItem("tableData",JSON.stringify(c)),x.push({path:"/patrolGuard/atentionDetail",query:{id:c.id,back:"finishAtention"}})}return(c,l)=>{const Y=n("el-date-picker"),S=n("el-form-item"),z=n("el-form"),p=n("el-table-column"),M=n("el-table"),N=n("el-pagination");return f(),g("div",null,[o("div",j,[a(z,{inline:!0,model:e(r),"label-width":"auto","label-position":"left",ref_key:"formRef",ref:v,class:"custom-form"},{default:s(()=>[a(S,{label:"日期",prop:"time"},{default:s(()=>[a(Y,{style:{width:"185px"},modelValue:e(r).time,"onUpdate:modelValue":l[0]||(l[0]=t=>e(r).time=t),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","popper-class":"custom-select",type:"date"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),o("div",q,[o("div",{class:"reset-btn",onClick:l[1]||(l[1]=(...t)=>e(d)&&e(d)(...t))},"重置"),o("div",{class:"search-btn",onClick:l[2]||(l[2]=(...t)=>e(m)&&e(m)(...t))},"查询")])]),o("div",A,[a(M,{data:e(C),class:"custom-table deep","highlight-current-row":""},{default:s(()=>[a(p,{type:"index",label:"序号",align:"center",width:"70"}),(f(),g(F,null,R(D,(t,u)=>a(p,{key:u,prop:t.prop,label:t.label,width:t.width,align:"center","show-overflow-tooltip":""},null,8,["prop","label","width"])),64)),a(p,{label:"操作",align:"center",width:"180"},{default:s(t=>[o("div",{class:"tag",title:"养护记录",onClick:u=>y(t.row)}," 养护记录 ",8,E)]),_:1})]),_:1},8,["data"]),o("div",G,[a(N,{class:"custom-pagination",onSizeChange:e(k),onCurrentChange:e(w),"current-page":e(i).pageNum,"page-size":e(i).pageSize,layout:"total, prev, pager, next, jumper",total:e(i).total,background:""},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])}}},K=V(J,[["__scopeId","data-v-2ce07fcc"]]);export{K as default};
