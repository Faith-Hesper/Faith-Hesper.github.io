import{d as Y}from"./dialogSpecialSheet-88b495aa.js";import{D as Z}from"./dialogDynamotorSheet-865c2f63.js";import{d as ee}from"./dialogElectricBoxSheet-68a4c09d.js";import{d as te}from"./dialogWaterEnvSheet-1404c127.js";import{d as le,a as ae,b as oe}from"./dialogFloodAfterSheet-4fd3b089.js";import{v as se,w as ne}from"./engineeringAPI-21148e34.js";import{_ as re,f as o,J as ue,g as ie,r as v,o as s,c as f,a as l,d as q,F as H,i as J,x as a,b as u,w as p,v as c,C as m,t as F,n as de}from"./index-79e36b83.js";import"./unit-ac192840.js";import"./axios-c0524c3b.js";const ce={class:"total"},me={class:"top"},pe={class:"content"},ve={class:"name"},fe={class:"value"},_e={class:"table-form"},he={class:"search"},Se={class:"table"},be=["onClick"],ge={__name:"totalView",setup(we){const n=o({name:"",date:"",status:"",current:1,size:20}),N=o(0),M=o([{label:"表单名称",prop:"formName"},{label:"截止日期",prop:"deadLine"},{label:"状态",prop:"status"}]),D=o([]),$=o(["待办","已办理","逾期未处理"]),G=()=>{_()},K=()=>{n.value={name:"",date:"",status:"",current:1,size:20},_()};let E=o([{label:"今日待办",value:0},{label:"逾期未处理",value:0}]),S=o(!1),b=o(!1),g=o(!1),w=o(!1),k=o(!1),C=o(!1),y=o(!1),i=ue({});const O=e=>{e.taskId=e.id,i=e,e.formName=="军屯专项检查记录表"&&(S.value=!0),e.formName=="军屯发电机检查记录表"&&(b.value=!0),e.formName=="军屯配电柜检查记录表"&&(g.value=!0),e.formName=="军屯绿化水环境巡查记录表"&&(w.value=!0),e.formName=="汛前检查记录表"&&(k.value=!0),e.formName=="汛期检查记录表"&&(C.value=!0),e.formName=="汛后检查记录表"&&(y.value=!0)},z=()=>{S.value=!1,d()},A=()=>{b.value=!1,d()},L=()=>{g.value=!1,d()},U=()=>{w.value=!1,d()},W=()=>{k.value=!1,d()},I=()=>{C.value=!1,d()},T=()=>{y.value=!1,d()};ie(()=>{d()});const d=()=>{se().then(e=>{E.value=e.data}),_()},P=e=>{n.value.current=e,_()},_=()=>{ne(n.value).then(e=>{console.log(e),D.value=e.data.list,N.value=e.data.total})};return(e,r)=>{const V=v("el-input"),x=v("el-form-item"),Q=v("el-form"),B=v("el-table-column"),R=v("el-table"),X=v("el-pagination");return s(),f("div",ce,[l("div",me,[r[4]||(r[4]=l("div",{class:"title"},[q("事项办理"),l("span",null,"（针对固定频次填报表单进行提醒）")],-1)),l("div",pe,[(s(!0),f(H,null,J(a(E),t=>(s(),f("div",{class:"content-item",key:t.label},[l("div",ve,F(t.label),1),l("div",fe,[q(F(t.value),1),r[3]||(r[3]=l("span",{class:"unit"},"个",-1))])]))),128))])]),l("div",_e,[l("div",he,[u(Q,{model:n.value,inline:""},{default:p(()=>[u(x,{label:"日期"},{default:p(()=>[u(V,{modelValue:n.value.date,"onUpdate:modelValue":r[0]||(r[0]=t=>n.value.date=t),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),u(x,{label:"表单名"},{default:p(()=>[u(V,{modelValue:n.value.name,"onUpdate:modelValue":r[1]||(r[1]=t=>n.value.name=t),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),u(x,{label:"状态"},{default:p(()=>[u(V,{modelValue:n.value.status,"onUpdate:modelValue":r[2]||(r[2]=t=>n.value.status=t),placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),l("div",{class:"search-btn",onClick:G},"查询"),l("div",{class:"reset-btn",onClick:K},"重置")]),l("div",Se,[u(R,{data:D.value,height:"100%"},{default:p(()=>[u(B,{type:"index",width:"70",label:"序号",align:"center"}),(s(!0),f(H,null,J(M.value,(t,j)=>(s(),c(B,{key:j,prop:t.prop,label:t.label,align:"center","show-overflow-tooltip":""},{default:p(h=>[t.prop=="status"?(s(),f("div",{key:0,class:de({daiban:h.row.status==0||h.row.status==1,yuqi:h.row.status==2})},[r[5]||(r[5]=l("span",null,null,-1)),l("span",null,F($.value[h.row.status]),1)],2)):m("",!0)]),_:2},1032,["prop","label"]))),128)),u(B,{label:"操作",align:"center"},{default:p(t=>[l("span",{class:"oper-span oper-edit",onClick:j=>O(t.row)},"办理",8,be)]),_:1})]),_:1},8,["data"])]),u(X,{class:"custom-pagination","current-page":n.value.current,"page-size":n.value.size,layout:"total, prev, pager, next, jumper",total:N.value,onCurrentChange:P},null,8,["current-page","page-size","total"])]),a(S)?(s(),c(Y,{key:0,data:a(i),onCloseSheet:z,onSubSheet:z},null,8,["data"])):m("",!0),a(b)?(s(),c(Z,{key:1,data:a(i),onCloseSheet:A,onSubSheet:A},null,8,["data"])):m("",!0),a(g)?(s(),c(ee,{key:2,data:a(i),onCloseSheet:L,onSubSheet:L},null,8,["data"])):m("",!0),a(w)?(s(),c(te,{key:3,data:a(i),onCloseSheet:U,onSubSheet:U},null,8,["data"])):m("",!0),a(k)?(s(),c(le,{key:4,data:a(i),onCloseSheet:W,onSubSheet:W},null,8,["data"])):m("",!0),a(C)?(s(),c(ae,{key:5,data:a(i),onCloseSheet:I,onSubSheet:I},null,8,["data"])):m("",!0),a(y)?(s(),c(oe,{key:6,data:a(i),onCloseSheet:T,onSubSheet:T},null,8,["data"])):m("",!0)])}}},Ee=re(ge,[["__scopeId","data-v-cd936821"]]);export{Ee as default};
