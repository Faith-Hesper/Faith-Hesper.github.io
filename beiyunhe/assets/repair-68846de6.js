import{m as C}from"./engineeringAPI-21148e34.js";import{S as D}from"./SheetView-0970be84.js";import{s as B}from"./unit-ac192840.js";import{_ as S,f as r,J as Y,g as I,r as i,o as p,c as v,a as t,b as o,w as _,x as M,y as N,F as U,i as Z,v as E}from"./index-79e36b83.js";import"./axios-c0524c3b.js";import"./systemAPI-159b07b8.js";const F={class:"daiban"},J={class:"top"},L={class:"search"},q={class:"table"},H=["onClick"],O={__name:"repair",setup(R){const s=r(""),b=r([{label:"维修日期",prop:"repairDate"},{label:"维修设备",prop:"deviceIdZh"},{label:"维修人",prop:"repairerZh"},{label:"审批人",prop:"inspectionUserZh"}]),u=r([]),f=()=>{c({date:s.value})},h=()=>{s.value="",c()};let l=r(!1);const g=Y({query:5,titleStyle:{display:"none"}}),k=n=>{B("maintenanceData",JSON.stringify(n)),l.value=!0},y=()=>{l.value=!1};I(()=>{c()});const c=n=>{C(n).then(e=>{console.log(e),u.value=e.data})};return(n,e)=>{const w=i("el-date-picker"),d=i("el-table-column"),V=i("el-table"),x=i("el-dialog");return p(),v("div",F,[t("div",J,[t("div",L,[e[2]||(e[2]=t("div",{class:"type"},"日期",-1)),o(w,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a),type:"date","value-format":"YYYY-MM-DD",placeholder:"选择日期"},null,8,["modelValue"]),t("div",{class:"search-btn",onClick:f},"查询"),t("div",{class:"reset-btn",onClick:h},"重置")])]),t("div",q,[o(V,{data:u.value,height:"100%"},{default:_(()=>[o(d,{type:"index",width:"70",label:"序号",align:"center"}),(p(!0),v(U,null,Z(b.value,(a,m)=>(p(),E(d,{key:m,prop:a.prop,label:a.label,align:"center","show-overflow-tooltip":""},null,8,["prop","label"]))),128)),o(d,{label:"操作",align:"center"},{default:_(a=>[t("span",{class:"oper-span oper-edit",onClick:m=>k(a.row)},"详情",8,H)]),_:1})]),_:1},8,["data"])]),o(x,{modelValue:M(l),"onUpdate:modelValue":e[1]||(e[1]=a=>N(l)?l.value=a:l=a),title:"维修养护记录表",top:"2%",width:"50rem","modal-class":"sheet-dialog","close-on-click-modal":!1,onClose:y},{default:_(()=>[o(D,{data:g},null,8,["data"])]),_:1},8,["modelValue"])])}}},Q=S(O,[["__scopeId","data-v-6145e93b"]]);export{Q as default};
