import{d as A}from"./dialogRemoveCom-acb7236a.js";import{d as F}from"./dialogSpecialSheet-06f3708b.js";import{C as $,D as j}from"./engineeringAPI-b1b8a18c.js";import{_ as z,f as r,J as H,g as I,r as d,o as i,c as g,a as o,b as l,w as p,x as _,v as h,C,A as J,F as P,i as T}from"./index-267246aa.js";import"./unit-ac192840.js";import"./axios-da025460.js";const U={class:"sheet"},q={class:"top"},G={class:"search"},K={class:"table"},O=["onClick"],Q=["onClick"],W={__name:"specialView",setup(X){const s=r({date:""});let m=r(!1),n=r(!1),a=H({});const w=r([{label:"检查日期",prop:"checkDate"},{label:"检查地点",prop:"checkLocation"},{label:"检查项目",prop:"checkProject"},{label:"检查负责人",prop:"checkLeader"}]),f=r([]),S=()=>{s.value={date:""},c()},x=()=>{c()},D=()=>{a=null,n.value=!0},V=e=>{a=e,n.value=!0},y=e=>{e.removeText="当前选中数据",a=e,m.value=!0},b=()=>{m.value=!1},R=()=>{n.value=!1},B=()=>{n.value=!1,c()},L=()=>{j({formName:"专项检查记录表",ids:a.id}).then(e=>{console.log(e),J({message:e.msg,type:"success"}),b(),c()})};I(()=>{c()});const c=()=>{$(s.value).then(e=>{console.log(e),f.value=e.data})};return(e,k)=>{const M=d("el-date-picker"),N=d("el-form-item"),Y=d("el-form"),u=d("el-table-column"),E=d("el-table");return i(),g("div",U,[o("div",q,[o("div",G,[l(Y,{model:s.value,inline:""},{default:p(()=>[l(N,{label:"日期"},{default:p(()=>[l(M,{modelValue:s.value.date,"onUpdate:modelValue":k[0]||(k[0]=t=>s.value.date=t),type:"date","value-format":"YYYY-MM-DD",placeholder:"请选择日期"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),o("div",{class:"search-btn",onClick:x},"查询"),o("div",{class:"reset-btn",onClick:S},"重置")]),o("div",{class:"reset-btn",onClick:D},"新建")]),o("div",K,[l(E,{data:f.value,height:"100%"},{default:p(()=>[l(u,{type:"index",width:"70",label:"序号",align:"center"}),(i(!0),g(P,null,T(w.value,(t,v)=>(i(),h(u,{key:v,prop:t.prop,label:t.label,align:"center","show-overflow-tooltip":""},null,8,["prop","label"]))),128)),l(u,{label:"操作",align:"center"},{default:p(t=>[o("span",{class:"oper-span oper-edit",onClick:v=>V(t.row)},"编辑",8,O),o("span",{class:"oper-span oper-remove",onClick:v=>y(t.row)},"删除",8,Q)]),_:1})]),_:1},8,["data"])]),_(m)?(i(),h(A,{key:0,data:_(a),onCloseRemove:b,onSubRemove:L},null,8,["data"])):C("",!0),_(n)?(i(),h(F,{key:1,data:_(a),onCloseSheet:R,onSubSheet:B},null,8,["data"])):C("",!0)])}}},se=z(W,[["__scopeId","data-v-e8cfa404"]]);export{se as default};
