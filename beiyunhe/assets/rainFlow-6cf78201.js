import{_ as y}from"./close_icon-79cdeb99.js";import{_ as B,f as c,g as N,r,o as u,c as _,b as n,w as d,a as o,C as A,F as E,i as L,v as M,d as U}from"./index-79e36b83.js";const j={class:"table"},D=["onClick"],H={key:0,class:"add"},O={class:"content"},R={class:"main"},S={__name:"rainFlow",setup(T){const h=c([{label:"名称",prop:"name"},{label:"维度",prop:"wd"},{label:"预警值(mm)",prop:"ggxh"}]),i=c([{name:"港沟河进水闸",wd:"1小时累计降雨",ggxh:"33mm"},{name:"港沟河进水闸",wd:"6小时累计降雨",ggxh:"122mm"},{name:"港沟河进水闸",wd:"24小时累计降雨",ggxh:"122mm"},{name:"军屯拦河闸",wd:"1小时累计降雨",ggxh:"33mm"},{name:"军屯拦河闸",wd:"3小时累计降雨",ggxh:"33mm"},{name:"军屯拦河闸",wd:"6小时累计降雨",ggxh:"122mm"}]);let s={name:[]};const w=({rowIndex:a,columnIndex:e})=>{if(e===1)return s.name[a]?[s.name[a],1]:[0,0]};function x(){let a=0;s.name=[],i.value.forEach((e,m)=>{m===0?s.name.push(1):e.name===i.value[m-1].name?(s.name[a]+=1,s.name.push(0)):(a=m,s.name.push(1))})}const l=c({name:"",value:""}),p=c(!1),k=a=>{l.value.name=a.name+" - "+a.wd,l.value.value=parseFloat(a.ggxh),p.value=!0},v=()=>{p.value=!1,l.value.name="",l.value.value=""},V=()=>{};return N(()=>{x()}),(a,e)=>{const m=r("el-table-column"),C=r("el-table"),f=r("el-input"),b=r("el-form-item"),F=r("el-form");return u(),_("div",j,[n(C,{data:i.value,height:"100%","span-method":w},{default:d(()=>[n(m,{type:"index",width:"70",label:"序号",align:"center"}),(u(!0),_(E,null,L(h.value,(t,g)=>(u(),M(m,{key:g,prop:t.prop,label:t.label,"class-name":t.label==="名称"?"name":"",align:"center","show-overflow-tooltip":""},null,8,["prop","label","class-name"]))),128)),n(m,{label:"操作",align:"center"},{default:d(t=>[o("span",{class:"oper-span oper-edit",onClick:g=>k(t.row)},"编辑",8,D)]),_:1})]),_:1},8,["data"]),p.value?(u(),_("div",H,[o("div",O,[o("div",{class:"header"},[e[2]||(e[2]=o("div",{class:"title"},"编辑",-1)),o("img",{src:y,alt:"",class:"close",onClick:v})]),o("div",R,[n(F,{ref:"formRef",model:l.value,"label-width":"120px","label-position":"right"},{default:d(()=>[n(b,{label:"名称："},{default:d(()=>[n(f,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.name=t),disabled:""},null,8,["modelValue"])]),_:1}),n(b,{label:"预警值："},{default:d(()=>[n(f,{modelValue:l.value.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.value=t),placeholder:"请输入"},{append:d(()=>e[3]||(e[3]=[U("mm")])),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),o("div",{class:"footer"},[o("div",{class:"reset-btn",onClick:v},"取消"),o("div",{class:"search-btn",onClick:V},"确定")])])])):A("",!0)])}}},z=B(S,[["__scopeId","data-v-33e0416b"]]);export{z as default};
